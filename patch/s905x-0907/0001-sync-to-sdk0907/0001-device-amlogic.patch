diff --git a/common/bluetooth.mk b/common/bluetooth.mk
index cf90a29..8c90151 100644
--- a/common/bluetooth.mk
+++ b/common/bluetooth.mk
@@ -369,7 +369,7 @@ ifneq ($(filter rtl8761 rtl8723bs rtl8723bu rtl8821 rtl8822bu, $(BLUETOOTH_MODUL
 
 BLUETOOTH_USR_RTK_BLUEDROID := true
 #Realtek add start
-$(call inherit-product, hardware/realtek/bluetooth/rtkbt.mk )
+$(call inherit-product, hardware/realtek/bluetooth/rtkbt/rtkbt.mk )
 #realtek add end
 PRODUCT_PACKAGES += libbt-vendor
 
@@ -401,11 +401,11 @@ endif
 ifeq ($(MULTI_BLUETOOTH_SUPPORT), true)
 
 BOARD_HAVE_BLUETOOTH_BCM := true
-BOARD_HAVE_BLUETOOTH_RTK := true
+#BOARD_HAVE_BLUETOOTH_RTK := true
 PRODUCT_PACKAGES += \
-    libbt-vendor-bcm-uart \
-    libbt-vendor-rtl-uart \
-    libbt-vendor-rtl-usb
+    libbt-vendor
+#    libbt-vendor-rtl-uart \
+#    libbt-vendor-rtl-usb
 
 PRODUCT_COPY_FILES += hardware/amlogic/wifi/bcm_ampak/config/AP6210/BT/bcm20710a1.hcd:system/etc/bluetooth/BCM20702.hcd
 PRODUCT_COPY_FILES += hardware/amlogic/wifi/bcm_ampak/config/AP6476/GPS/bcm2076b1.hcd:system/etc/bluetooth/BCM2076.hcd
@@ -416,9 +416,10 @@ PRODUCT_COPY_FILES += hardware/amlogic/wifi/bcm_ampak/config/6441/BT/bcm43341b0.
 PRODUCT_COPY_FILES += hardware/amlogic/wifi/bcm_ampak/config/6212/BT/bcm43438a0.hcd:system/etc/bluetooth/4343.hcd
 PRODUCT_COPY_FILES += hardware/amlogic/wifi/bcm_ampak/config/4354/bcm4354a1.hcd:system/etc/bluetooth/BCM4350.hcd
 PRODUCT_COPY_FILES += hardware/amlogic/wifi/bcm_ampak/config/4356/bcm4356a2.hcd:system/etc/bluetooth/BCM4354.hcd
-$(call inherit-product, hardware/realtek/bluetooth/firmware/uart/rtlbtfw_cfg.mk )
-$(call inherit-product, hardware/realtek/bluetooth/firmware/usb/rtl8723b/device-rtl.mk)
-$(call inherit-product, hardware/realtek/bluetooth/firmware/usb/rtl8761a/device-rtl.mk)
+PRODUCT_COPY_FILES += hardware/amlogic/wifi/bcm_ampak/config/6255/BT/BCM4345C0.hcd:system/etc/bluetooth/BCM4345C0.hcd
+#$(call inherit-product, hardware/realtek/bluetooth/firmware/uart/rtlbtfw_cfg.mk )
+#$(call inherit-product, hardware/realtek/bluetooth/firmware/usb/rtl8723b/device-rtl.mk)
+#$(call inherit-product, hardware/realtek/bluetooth/firmware/usb/rtl8761a/device-rtl.mk)
 
 PRODUCT_COPY_FILES += \
     frameworks/native/data/etc/android.hardware.bluetooth.xml:system/etc/permissions/android.hardware.bluetooth.xml \
diff --git a/common/core_amlogic.mk b/common/core_amlogic.mk
index 972f671..21ebba0 100644
--- a/common/core_amlogic.mk
+++ b/common/core_amlogic.mk
@@ -20,11 +20,6 @@ PRODUCT_LOCALES := en_US
 # Include drawables for all densities
 PRODUCT_AAPT_CONFIG := normal hdpi xhdpi xxhdpi
 
-
-ifeq ($(strip $(MEGAFON_NO_ORIGINAL)),true)
-
-else
-
 PRODUCT_PACKAGES += \
     OpenWnn \
     libWnnEngDic \
@@ -42,30 +37,14 @@ PRODUCT_PACKAGES += \
     PhaseBeam \
     VisualizationWallpapers \
     PhotoTable
-endif
-
-ifeq ($(strip $(MEGAFON_NO_ORIGINAL)),true)
-PRODUCT_PACKAGES += \
-    Camera2 \
-    Gallery2 \
-    Music \
-    MusicFX \
-    OneTimeInitializer \
-    Provision \
-    SystemUI 
 
-else
 PRODUCT_PACKAGES += \
     Camera2 \
     Gallery2 \
-    Music \
-    MusicFX \
     OneTimeInitializer \
     Provision \
     SystemUI \
     WallpaperCropper
-	
-endif
 
 PRODUCT_PACKAGES += \
     clatd \
@@ -98,50 +77,25 @@ PRODUCT_COPY_FILES += \
 PRODUCT_PROPERTY_OVERRIDES += \
     ro.carrier=unknown
 
-ifeq ($(strip $(MEGAFON_NO_ORIGINAL)),true)
-PRODUCT_PACKAGES += \
-    BasicDreams \
-    Browser \
-    CalendarProvider \
-    CaptivePortalLogin \
-    CertInstaller \
-    Exchange2 \
-    ExternalStorageProvider \
-    FusedLocation \
-    InputDevices \
-    KeyChain \
-    Keyguard \
-    libpac \
-    ProxyHandler \
-    Settings \
-    SharedStorageBackup \
-    VpnDialogs
-	
-else	
 PRODUCT_PACKAGES += \
     BasicDreams \
     Browser \
     CalendarProvider \
     CaptivePortalLogin \
     CertInstaller \
-    DeskClock \
     DocumentsUI \
-    Exchange2 \
     ExternalStorageProvider \
     FusedLocation \
     InputDevices \
     KeyChain \
     Keyguard \
     LatinIME \
-    Launcher2 \
     PacProcessor \
     libpac \
     ProxyHandler \
     Settings \
     SharedStorageBackup \
     VpnDialogs
-	
-endif
 
 $(call inherit-product-if-exists, frameworks/base/data/fonts/fonts.mk)
 $(call inherit-product-if-exists, external/google-fonts/dancing-script/fonts.mk)
@@ -178,36 +132,32 @@ PRODUCT_BOOT_JARS += \
     droidlogic \
     droidlogic.frameworks.pppoe
 
-ifeq ($(strip $(MEGAFON_NO_ORIGINAL)),true)
+ifneq ($(TARGET_BUILD_GOOGLE_ATV), true)
 PRODUCT_PACKAGES += \
-    OTAUpgrade \
-    droidlogic \
-    droidlogic-res \
-    systemcontrol \
-    systemcontrol_static \
-    libsystemcontrolservice \
-    SubTitle \
     AppInstaller \
     FileBrowser \
-    libdig 
-	
+    Miracast \
+    RC_Service \
+    RemoteIME \
+    DeskClock \
+    Launcher2 \
+    Exchange2 \
+    MusicFX \
+    Music
 else
+endif
+
 PRODUCT_PACKAGES += \
-    OTAUpgrade \
-    RemoteIME \
     droidlogic \
     droidlogic-res \
     systemcontrol \
+    OTAUpgrade \
+    VideoPlayer \
+    SubTitle    \
     systemcontrol_static \
     libsystemcontrolservice \
-    VideoPlayer \
-    SubTitle \
-    AppInstaller \
-    FileBrowser \
     libdig \
-    Miracast
-	
-endif
+    ReadLog
 
 PRODUCT_PACKAGES += \
     hostapd \
@@ -321,6 +271,7 @@ PRODUCT_PACKAGES += \
 	tee_helloworld \
 	tee_crypto \
 	tee_xtest \
+	tdk_auto_test \
 	tee_helloworld_ta \
 	tee_fail_test_ta \
 	tee_crypt_ta \
@@ -328,7 +279,14 @@ PRODUCT_PACKAGES += \
 	tee_rpc_test_ta \
 	tee_sims_ta \
 	tee_storage_ta \
-	tee_concurrent_ta
+	tee_storage_benchmark_ta \
+	tee_concurrent_ta \
+	tee_concurrent_large_ta
+
+ifeq ($(TARGET_USE_HW_KEYMASTER),true)
+PRODUCT_PACKAGES += \
+	keystore.amlogic
+endif
 endif
 
 #########################################################################
@@ -339,7 +297,3 @@ endif
 PRODUCT_PROPERTY_OVERRIDES += \
     ro.product.firmware=00502001 \
     ro.product.otaupdateurl=http://10.28.11.53:8080/otaupdate/update
-
-PRODUCT_COPY_FILES += \
-    device/amlogic/common/execmd.sh:system/bin/execmd.sh \
-	device/amlogic/common/iptest:system/bin/iptest
diff --git a/common/factory.mk b/common/factory.mk
index 24c8149..cdaa2d9 100644
--- a/common/factory.mk
+++ b/common/factory.mk
@@ -97,10 +97,8 @@ INSTALLED_MANIFEST_XML := $(PRODUCT_OUT)/manifests/manifest-$(BUILD_TIME).xml
 $(INSTALLED_MANIFEST_XML):
 	$(hide) mkdir -p $(PRODUCT_OUT)/manifests
 	$(hide) mkdir -p $(PRODUCT_OUT)/upgrade
-# Modify begin by 22230,2016/02/25
-#repo manifest -r -o $(INSTALLED_MANIFEST_XML)
-#$(hide) cp $(INSTALLED_MANIFEST_XML) $(PRODUCT_OUT)/upgrade/manifest.xml
-# Modify end,2016/02/25
+	repo manifest -r -o $(INSTALLED_MANIFEST_XML)
+	$(hide) cp $(INSTALLED_MANIFEST_XML) $(PRODUCT_OUT)/upgrade/manifest.xml
 
 .PHONY:build_manifest
 build_manifest:$(INSTALLED_MANIFEST_XML)
diff --git a/common/gpu/t82x-user-arm.mk b/common/gpu/t82x-user-arm.mk
index d3255ac..7d7a114 100644
--- a/common/gpu/t82x-user-arm.mk
+++ b/common/gpu/t82x-user-arm.mk
@@ -20,5 +20,6 @@ GPU_ARCH:=midgard
 
 # The OpenGL ES API level that is natively supported by this device.
 # This is a 16.16 fixed point number
+# midgard r7p0 is 3.1, r11p0 is 3.2
 ADDITIONAL_DEFAULT_PROPERTIES += \
-    ro.opengles.version=196609
+    ro.opengles.version=196610
diff --git a/common/gpu/t82x-user-arm64.mk b/common/gpu/t82x-user-arm64.mk
index a87be3a..dbe85c5 100644
--- a/common/gpu/t82x-user-arm64.mk
+++ b/common/gpu/t82x-user-arm64.mk
@@ -20,5 +20,6 @@ GPU_ARCH:=midgard
 
 # The OpenGL ES API level that is natively supported by this device.
 # This is a 16.16 fixed point number
+# midgard r7p0 is 3.1, r11p0 is 3.2
 ADDITIONAL_DEFAULT_PROPERTIES += \
-    ro.opengles.version=196609
+    ro.opengles.version=196610
diff --git a/common/gpu/t83x-user-arm.mk b/common/gpu/t83x-user-arm.mk
index 968d2e1..507006a 100644
--- a/common/gpu/t83x-user-arm.mk
+++ b/common/gpu/t83x-user-arm.mk
@@ -20,5 +20,6 @@ GPU_ARCH:=midgard
 
 # The OpenGL ES API level that is natively supported by this device.
 # This is a 16.16 fixed point number
+# midgard r7p0 is 3.1, r11p0 is 3.2
 ADDITIONAL_DEFAULT_PROPERTIES += \
-    ro.opengles.version=196609
+    ro.opengles.version=196610
diff --git a/common/gpu/t83x-user-arm64.mk b/common/gpu/t83x-user-arm64.mk
index f394fa3..946c8f1 100644
--- a/common/gpu/t83x-user-arm64.mk
+++ b/common/gpu/t83x-user-arm64.mk
@@ -20,5 +20,6 @@ GPU_ARCH:=midgard
 
 # The OpenGL ES API level that is natively supported by this device.
 # This is a 16.16 fixed point number
+# midgard r7p0 is 3.1, r11p0 is 3.2
 ADDITIONAL_DEFAULT_PROPERTIES += \
-    ro.opengles.version=196609
+    ro.opengles.version=196610
diff --git a/common/init.amlogic.wifi.rc b/common/init.amlogic.wifi.rc
index 304b49b..7e931a0 100644
--- a/common/init.amlogic.wifi.rc
+++ b/common/init.amlogic.wifi.rc
@@ -20,9 +20,9 @@ service rtl_supplicant /system/bin/wpa_supplicant \
     oneshot
 
 service bcm_supplicant /system/bin/wpa_supplicant \
-    -iwlan0 -Dnl80211 -c/data/misc/wifi/bcm_supplicant.conf \
+    -iwlan0 -Dnl80211 -c/data/misc/wifi/wpa_supplicant.conf \
     -I/system/etc/wifi/bcm_supplicant_overlay.conf \
-    -m/data/misc/wifi/bcm_p2p_supplicant.conf \
+    -m/data/misc/wifi/p2p_supplicant.conf \
     -O/data/misc/wifi/sockets \
     -g@android:wpa_wlan0    \
     -puse_p2p_group_interface=1p2p_device=1 -e/data/misc/wifi/entropy.bin
diff --git a/common/media.mk b/common/media.mk
index 391d97c..e4b578e 100644
--- a/common/media.mk
+++ b/common/media.mk
@@ -141,9 +141,11 @@ endif
 
 ifeq ($(TARGET_USE_OPTEEOS), true)
     BOARD_OMX_WITH_OPTEE_TVP := true
+    USE_MEDIACODEC_SECURE := true
 else
 ifeq ($(TARGET_USE_SECUREOS), true)
     BOARD_OMX_WITH_TVP := true
+    USE_MEDIACODEC_SECURE := true
 endif
 endif
 
@@ -178,6 +180,8 @@ PRODUCT_PACKAGES += libmedia_amlogic \
     libvhls_mod \
     libprhls_mod \
     libdash_mod.so  \
+    libbluray.so \
+    libbluray_mod.so
 
 #audio
 PRODUCT_PACKAGES += libamadec_omx_api \
diff --git a/common/products/mbox/init.amlogic.rc b/common/products/mbox/init.amlogic.rc
index 2652d17..a8647d5 100644
--- a/common/products/mbox/init.amlogic.rc
+++ b/common/products/mbox/init.amlogic.rc
@@ -33,6 +33,13 @@ on init
     # for zram
     mkdir /swap_zram0 0700 root root
 
+    # for tee
+    mkdir /tee 0700 system system
+    confirm_formated_ext ext4 /dev/block/tee /tee 1024 1024
+
+on post-fs
+    start tee_supplicant
+
 on post-fs-data
     mkdir /data/misc/wifi 0770 wifi wifi
     mkdir /data/misc/wifi/sockets 0770 wifi wifi
@@ -43,6 +50,10 @@ on post-fs-data
     chown system system /etc/ppp
     chmod 0770 /etc/ppp
 
+    #save log
+    mkdir /data/log 0771 log log
+    mkdir /data/log/dontpanic 0771 log log
+
     # we will remap this as /storage/sdcard0 with the sdcard fuse tool
     mkdir /data/media 0770 media_rw media_rw
 
@@ -106,6 +117,7 @@ on boot
     chown media system /sys/class/video/disable_video
     chown media system /sys/class/video/zoom
     chown media system /sys/class/video/free_keep_buffer
+    chown media system /sys/class/video/free_cma_buffer
     chown media system /sys/class/codec_mm/tvp_enable
     chown media system /sys/class/ppmgr/angle
     chown media system /sys/class/ppmgr/disp
@@ -258,6 +270,7 @@ on boot
     chown system system /sys/devices/system/cpu/cpu0/cpufreq/scaling_max_freq
     chown system system /sys/devices/system/cpu/cpu0/cpufreq/scaling_min_freq
     chown system system /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor
+    chown system system /sys/devices/system/cpu/cpu0/cpufreq/hmp_boost
     chown system system /sys/devices/system/cpu/cpufreq/conservative/freq_step
 
     chown system system /sys/devices/system/cpu/cpufreq/performance2/sampling_rate
@@ -275,6 +288,7 @@ on boot
     chmod 664 /sys/devices/system/cpu/cpu0/cpufreq/scaling_max_freq
     chmod 664 /sys/devices/system/cpu/cpu0/cpufreq/scaling_min_freq
     chmod 664 /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor
+    chmod 664 /sys/devices/system/cpu/cpu0/cpufreq/hmp_boost
     chmod 664 /sys/devices/system/cpu/cpufreq/conservative/freq_step
     chmod 664 /sys/devices/system/cpu/cpufreq/performance2/sampling_rate
     chmod 664 /sys/devices/system/cpu/cpufreq/performance2/down_threshold
@@ -459,6 +473,9 @@ on property:instaboot.status=completed
 on property:dev.bootcomplete=1
     start usbpm
 
+on property:vold.post_fs_data_done=1
+    start tee_supplicant
+
 service hdcp_tx22 /system/bin/hdcp_tx22 \
     -f /system/etc/firmware/firmware.le
     class main
@@ -470,3 +487,10 @@ service ddrtest /system/bin/ddrtest.sh
     user root
     group root
     oneshot
+
+# logcat offline log
+service logcat /system/bin/logcat -b system -b events -b main -b crash -K -n 10 -v threadtime -f /data/log/logcat.log -r 1000 -M
+    class main
+    user log
+    group log
+    seclabel u:r:logcat:s0
diff --git a/common/products/mbox/product_mbox.mk b/common/products/mbox/product_mbox.mk
index bb86e76..baedad2 100644
--- a/common/products/mbox/product_mbox.mk
+++ b/common/products/mbox/product_mbox.mk
@@ -7,7 +7,7 @@ PRODUCT_PACKAGES += \
     utility_busybox
 
 # DLNA
-ifneq ($(strip $(MEGAFON_NO_ORIGINAL)),true)
+ifneq ($(TARGET_BUILD_CTS), true)
 PRODUCT_PACKAGES += \
     DLNA
 endif
@@ -17,18 +17,18 @@ PRODUCT_PACKAGES += \
 
 USE_CUSTOM_AUDIO_POLICY := 1
 
+ifneq ($(TARGET_BUILD_GOOGLE_ATV), true)
 # NativeImagePlayer
-ifneq ($(strip $(MEGAFON_NO_ORIGINAL)),true)
 PRODUCT_PACKAGES += \
     NativeImagePlayer
-endif
 
-#RemoteControl Service
-ifneq ($(strip $(MEGAFON_NO_ORIGINAL)),true)
+#MboxLauncher
 PRODUCT_PACKAGES += \
-    RC_Service
+    MboxLauncher
 endif
 
+
+
 # Camera Hal
 PRODUCT_PACKAGES += \
     camera.amlogic
@@ -43,9 +43,6 @@ PRODUCT_PROPERTY_OVERRIDES += ro.hdmi.device_type=4
 PRODUCT_PACKAGES += \
     TvSettings
 
-#MboxLauncher
-PRODUCT_PACKAGES += \
-    MboxLauncher
 
 #USB PM
 PRODUCT_PACKAGES += \
diff --git a/common/products/tablet/init.amlogic.rc b/common/products/tablet/init.amlogic.rc
index 0768599..bff24fb 100644
--- a/common/products/tablet/init.amlogic.rc
+++ b/common/products/tablet/init.amlogic.rc
@@ -88,6 +88,7 @@ on boot
     chown media system /sys/class/video/disable_video
     chown media system /sys/class/video/zoom
     chown media system /sys/class/video/free_keep_buffer
+    chown media system /sys/class/video/free_cma_buffer
     chown media system /sys/class/codec_mm/tvp_enable
     chown media system /sys/class/ppmgr/angle
     chown media system /sys/class/ppmgr/disp
@@ -176,6 +177,7 @@ on boot
     chown system system /sys/devices/system/cpu/cpu0/cpufreq/scaling_max_freq
     chown system system /sys/devices/system/cpu/cpu0/cpufreq/scaling_min_freq
     chown system system /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor
+    chown system system /sys/devices/system/cpu/cpu0/cpufreq/hmp_boost
     chown system system /sys/devices/system/cpu/cpufreq/conservative/freq_step
 
     chown system system /sys/devices/system/cpu/cpufreq/performance2/sampling_rate
@@ -193,6 +195,7 @@ on boot
     chmod 664 /sys/devices/system/cpu/cpu0/cpufreq/scaling_max_freq
     chmod 664 /sys/devices/system/cpu/cpu0/cpufreq/scaling_min_freq
     chmod 664 /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor
+    chmod 664 /sys/devices/system/cpu/cpu0/cpufreq/hmp_boost
     chmod 664 /sys/devices/system/cpu/cpufreq/conservative/freq_step
     chmod 664 /sys/devices/system/cpu/cpufreq/performance2/sampling_rate
     chmod 664 /sys/devices/system/cpu/cpufreq/performance2/down_threshold
diff --git a/common/products/tv/init.amlogic.rc b/common/products/tv/init.amlogic.rc
index 419fff4..cf379f5 100644
--- a/common/products/tv/init.amlogic.rc
+++ b/common/products/tv/init.amlogic.rc
@@ -40,6 +40,13 @@ on init
 
     chown media system /sys/class/graphics/fb0/osd_afbcd
 
+    # for tee
+    mkdir /tee 0700 system system
+    confirm_formated_ext ext4 /dev/block/tee /tee 1024 1024
+
+on post-fs
+    start tee_supplicant
+
 on post-fs-data
     mkdir /data/misc/wifi 0770 wifi wifi
     mkdir /data/misc/wifi/sockets 0770 wifi wifi
@@ -53,6 +60,10 @@ on post-fs-data
     # we will remap this as /storage/sdcard0 with the sdcard fuse tool
     mkdir /data/media 0770 media_rw media_rw
 
+    #save log
+    mkdir /data/log 0771 log log
+    mkdir /data/log/dontpanic 0771 log log
+
     #bluetooth
     chown bluetooth bluetooth /sys/class/rfkill/rfkill0/state
     chown bluetooth bluetooth /sys/class/rfkill/rfkill0/type
@@ -113,6 +124,7 @@ on boot
     chown media system /sys/class/video/disable_video
     chown media system /sys/class/video/zoom
     chown media system /sys/class/video/free_keep_buffer
+    chown media system /sys/class/video/free_cma_buffer
     chown media system /sys/class/codec_mm/tvp_enable
     chown media system /sys/class/ppmgr/angle
     chown media system /sys/class/ppmgr/disp
@@ -264,6 +276,7 @@ on boot
     chown system system /sys/devices/system/cpu/cpu0/cpufreq/scaling_max_freq
     chown system system /sys/devices/system/cpu/cpu0/cpufreq/scaling_min_freq
     chown system system /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor
+    chown system system /sys/devices/system/cpu/cpu0/cpufreq/hmp_boost
     chown system system /sys/devices/system/cpu/cpufreq/conservative/freq_step
 
     chown system system /sys/devices/system/cpu/cpufreq/performance2/sampling_rate
@@ -281,6 +294,7 @@ on boot
     chmod 664 /sys/devices/system/cpu/cpu0/cpufreq/scaling_max_freq
     chmod 664 /sys/devices/system/cpu/cpu0/cpufreq/scaling_min_freq
     chmod 664 /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor
+    chmod 664 /sys/devices/system/cpu/cpu0/cpufreq/hmp_boost
     chmod 664 /sys/devices/system/cpu/cpufreq/conservative/freq_step
     chmod 664 /sys/devices/system/cpu/cpufreq/performance2/sampling_rate
     chmod 664 /sys/devices/system/cpu/cpufreq/performance2/down_threshold
@@ -437,6 +451,9 @@ on property:instaboot.status=completed
     e2fsck -y /dev/block/param
     mount ext4 /dev/block/param /param noatime nodiratime norelatime nosuid nodev noauto_da_alloc
 
+on property:vold.post_fs_data_done=1
+    start tee_supplicant
+
 on property:dev.bootcomplete=1
 service hdcp_tx22 /system/bin/hdcp_tx22 \
     -f /system/etc/firmware/firmware.le
@@ -450,3 +467,10 @@ service hdcp_rx22 /system/bin/hdcp_rx22 \
     disabled
     oneshot
     seclabel u:r:hdcp_rx22:s0
+
+# logcat offline log
+service logcat /system/bin/logcat -b system -b events -b main -b crash -K -n 10 -v threadtime -f /data/log/logcat.log -r 1000 -M
+    class main
+    user log
+    group log
+    seclabel u:r:logcat:s0
diff --git a/common/products/tv/product_tv.mk b/common/products/tv/product_tv.mk
index ee7e19b..104a6e7 100644
--- a/common/products/tv/product_tv.mk
+++ b/common/products/tv/product_tv.mk
@@ -45,26 +45,26 @@ PRODUCT_PACKAGES += \
 
 USE_CUSTOM_AUDIO_POLICY := 1
 
+ifneq ($(TARGET_BUILD_GOOGLE_ATV), true)
 # NativeImagePlayer
 PRODUCT_PACKAGES += \
     NativeImagePlayer
 
-#RemoteControl Service
+#MboxLauncher
 PRODUCT_PACKAGES += \
-    RC_Service
+    MboxLauncher
+endif
+
 
 # Camera Hal
 PRODUCT_PACKAGES += \
     camera.amlogic
 
-#MboxLauncher
-PRODUCT_PACKAGES += \
-    MboxLauncher
-
 #Tvsettings
 PRODUCT_PACKAGES += \
     TvSettings
 
+
 PRODUCT_COPY_FILES += \
     frameworks/native/data/etc/android.software.live_tv.xml:system/etc/permissions/android.software.live_tv.xml \
     frameworks/native/data/etc/android.software.app_widgets.xml:system/etc/permissions/android.software.app_widgets.xml \
@@ -99,7 +99,8 @@ PRODUCT_COPY_FILES += \
     device/amlogic/common/hdcp_rx22/arm_tools/hdcprxkeys:system/bin/hdcprxkeys \
     device/amlogic/common/hdcp_rx22/firmware/esm_config.i:system/etc/firmware/hdcp_rx22/esm_config.i \
     device/amlogic/common/hdcp_rx22/firmware/firmware.rom:system/etc/firmware/hdcp_rx22/firmware.rom \
-    device/amlogic/common/hdcp_rx22/firmware/firmware.aic:system/etc/firmware/hdcp_rx22/firmware.aic
+    device/amlogic/common/hdcp_rx22/firmware/firmware.aic:system/etc/firmware/hdcp_rx22/firmware.aic \
+    device/amlogic/common/hdcp_rx22/firmware/firmware.le:system/etc/firmware/hdcp_rx22/firmware.le
 
 # bootanimation
 PRODUCT_COPY_FILES += \
diff --git a/common/releasetools.py b/common/releasetools.py
index fe82781..75d05a7 100755
--- a/common/releasetools.py
+++ b/common/releasetools.py
@@ -157,6 +157,14 @@ def IncrementalOTA_VerifyEnd(info):
   print "amlogic extensions:IncrementalOTA_VerifyEnd"
 
 def IncrementalOTA_InstallBegin(info):
+  platform = GetBuildProp("ro.board.platform", info.info_dict)
+  print "ro.board.platform: %s" % (platform)
+  if "meson3" in platform:
+    SetBootloaderEnv(info.script, "upgrade_step", "0")
+  elif "meson6" in platform:
+    SetBootloaderEnv(info.script, "upgrade_step", "0")
+  else:
+    SetBootloaderEnv(info.script, "upgrade_step", "3")
   print "amlogic extensions:IncrementalOTA_InstallBegin"
 
 def IncrementalOTA_InstallEnd(info):
@@ -175,4 +183,6 @@ def IncrementalOTA_InstallEnd(info):
       updating_bootloader = 1;
 
   if updating_bootloader:
-    SetBootloaderEnv(info.script, "upgrade_step", "1")
\ No newline at end of file
+    SetBootloaderEnv(info.script, "upgrade_step", "1")
+  else:
+    SetBootloaderEnv(info.script, "upgrade_step", "2")
diff --git a/common/rtk_bt_driver.mk b/common/rtk_bt_driver.mk
new file mode 100644
index 0000000..085efff
--- /dev/null
+++ b/common/rtk_bt_driver.mk
@@ -0,0 +1,10 @@
+KERNEL_ARCH ?= arm64
+CROSS_COMPILE ?= aarch64-linux-gnu-
+PRODUCT_OUT=out/target/product/$(TARGET_PRODUCT)
+TARGET_OUT=$(PRODUCT_OUT)/system
+
+rtk_btusb:
+	@echo "make rtk bluetooth module KERNEL_ARCH is $(KERNEL_ARCH)"
+	$(MAKE) -C $(shell pwd)/$(PRODUCT_OUT)/obj/KERNEL_OBJ M=$(shell pwd)/hardware/realtek/bluetooth/rtk_btusb ARCH=$(KERNEL_ARCH) CROSS_COMPILE=$(CROSS_COMPILE) CONFIG_BT_RTKBTUSB=m modules
+	cp $(shell pwd)/hardware/realtek/bluetooth/rtk_btusb/rtk_btusb.ko $(TARGET_OUT)/lib/
+
diff --git a/common/sepolicy/bcmdl.te b/common/sepolicy/bcmdl.te
index 592c21b..77a1376 100644
--- a/common/sepolicy/bcmdl.te
+++ b/common/sepolicy/bcmdl.te
@@ -1,7 +1,7 @@
 type bcmdl, domain;
 type bcmdl_exec, exec_type, file_type;
-allow bcmdl bcmdl:netlink_kobject_uevent_socket { read create };
-allow bcmdl usb_device:dir { read open };
+allow bcmdl bcmdl:netlink_kobject_uevent_socket { read create bind setopt };
+allow bcmdl usb_device:dir { read open search};
 allow bcmdl usb_device:chr_file { read open write ioctl };
 allow bcmdl bcmdl:udp_socket { create ioctl };
 allow bcmdl bcmdl:capability { net_raw net_admin };
diff --git a/common/sepolicy/device.te b/common/sepolicy/device.te
index 2a0588e..93b2a37 100644
--- a/common/sepolicy/device.te
+++ b/common/sepolicy/device.te
@@ -13,3 +13,4 @@ type cri_block_device, dev_type;
 type sda_block_device, dev_type;
 type vold_block_device, dev_type;
 type drm_block_device, dev_type;
+type tee_block_device, dev_type;
diff --git a/common/sepolicy/file_contexts b/common/sepolicy/file_contexts
index 11fb199..499e3da 100644
--- a/common/sepolicy/file_contexts
+++ b/common/sepolicy/file_contexts
@@ -84,6 +84,7 @@
 /sys/class/video/screen_mode            u:object_r:sysfs_xbmc:s0
 /sys/class/tsync/pts_pcrscr             u:object_r:sysfs_xbmc:s0
 /sys/class/tsync/enable                 u:object_r:sysfs_xbmc:s0
+/sys/devices/d0074000.emmc/mmc_host/emmc/emmc:0001/cid    u:object_r:sysfs_xbmc:s0
 
 
 /dev/vdin0              u:object_r:video_device:s0
@@ -92,11 +93,17 @@
 
 /system/bin/tvserver    u:object_r:tvserver_exec:s0
 
+/dev/tee0               u:object_r:drm_device:s0
+/dev/teepriv0           u:object_r:drm_device:s0
 /dev/opteearmtz00       u:object_r:drm_device:s0
-/system/bin/tee-supplicant   u:object_r:tee_supplicant_exec:s0
-/data/tee(/.*)?         u:object_r:tee_supplicant_file:s0
+/system/bin/tee-supplicant   u:object_r:tee_exec:s0
+/tee(/.*)?              u:object_r:tee_data_file:s0
+/data/tee(/.*)?         u:object_r:tee_data_file:s0
+/dev/block/tee          u:object_r:tee_block_device:s0
 /dev/block/mmcblk[0-9]  u:object_r:sda_block_device:s0
 /dev/block/mmcblk[0-9]p(.*) u:object_r:sda_block_device:s0
+/dev/block/mmcblk[0-9]rpmb u:object_r:sda_block_device:s0
+/data/log(/.*)?         u:object_r:log_file:s0
 
 /dev/socket/dig	        u:object_r:dig_socket:s0
 
diff --git a/common/sepolicy/fsck.te b/common/sepolicy/fsck.te
index ab87751..2f46258 100644
--- a/common/sepolicy/fsck.te
+++ b/common/sepolicy/fsck.te
@@ -1,4 +1,5 @@
 allow fsck param_block_device:blk_file { getattr read write open ioctl };
 allow fsck block_device:blk_file { getattr };
 allow fsck drm_block_device:blk_file { getattr read write };
-allow fsck userdata_block_device:blk_file { getattr read write };
\ No newline at end of file
+allow fsck userdata_block_device:blk_file { getattr read write };
+allow fsck tee_block_device:blk_file rw_file_perms;
diff --git a/common/sepolicy/init.te b/common/sepolicy/init.te
index 8bf4af4..f29a806 100644
--- a/common/sepolicy/init.te
+++ b/common/sepolicy/init.te
@@ -6,7 +6,9 @@ domain_auto_trans(init, system_control_exec, system_server)
 #allow init imageserver_service:service_manager add;
 domain_trans(init, imageserver_exec, imageserver)
 
-domain_trans(init, tee_supplicant_exec, tee_supplicant)
+domain_trans(init, logcat, logcat)
+
+domain_trans(init, tee_exec, tee)
 allow init fuse:file { open read write };
 allow init fuse:dir search;
 
@@ -65,8 +67,5 @@ allow init self:netlink_kobject_uevent_socket { create read write };
 
 allow init param_block_device:blk_file { getattr read write open };
 
-allow init self:packet_socket { create ioctl setopt read write };
-allow init self:rawip_socket { create ioctl };
 allow init drm_block_device:blk_file rw_file_perms;
-allow init system_file:file { execute_no_trans };
-allow init rootfs:file { create write setattr relabelto append unlink link rename };
+allow init tee_block_device:blk_file rw_file_perms;
diff --git a/common/sepolicy/logcat.te b/common/sepolicy/logcat.te
new file mode 100644
index 0000000..da06ee3
--- /dev/null
+++ b/common/sepolicy/logcat.te
@@ -0,0 +1,13 @@
+type logcat, domain;
+type log_file, file_type, data_file_type;
+
+allow logcat logcat_exec:file { entrypoint read execute };
+
+allow logcat log_file:dir { read open write add_name create setattr search remove_name rename };
+allow logcat log_file:file { create write open getattr read append rename unlink setattr };
+allow logcat logdr_socket:sock_file write;
+allow logcat logd:unix_stream_socket connectto;
+
+
+allow logcat shell_exec:file rx_file_perms;
+#allow logcat shell_exec:file { execute_no_trans execute read open };
diff --git a/common/sepolicy/platform_app.te b/common/sepolicy/platform_app.te
index a873c39..dbf115a 100644
--- a/common/sepolicy/platform_app.te
+++ b/common/sepolicy/platform_app.te
@@ -8,6 +8,9 @@ allow platform_app imageserver_service:service_manager find;
 
 allow platform_app loop_device:dir { open read };
 
+allow platform_app udf:dir { search open read getattr };
+allow platform_app udf:file { open read getattr };
+
 allow platform_app iso9660:dir { search open read getattr };
 allow platform_app iso9660:file { open read getattr };
 
diff --git a/common/sepolicy/property_contexts b/common/sepolicy/property_contexts
index 1058081..8a3d0b5 100644
--- a/common/sepolicy/property_contexts
+++ b/common/sepolicy/property_contexts
@@ -3,4 +3,5 @@ ubootenv.               u:object_r:uboot_prop:s0
 const.filesystem.       u:object_r:aml_display_prop:s0
 snd.                    u:object_r:tv_config_prop:s0
 tv.                     u:object_r:tv_prop:s0
-bcmdl_status.           u:object_r:bcmdl_prop:s0
\ No newline at end of file
+bcmdl_status            u:object_r:bcmdl_prop:s0
+wc_transport            u:object_r:bluetooth_prop:s0
diff --git a/common/sepolicy/recovery.te b/common/sepolicy/recovery.te
index 0d09218..d6b56bd 100644
--- a/common/sepolicy/recovery.te
+++ b/common/sepolicy/recovery.te
@@ -23,4 +23,6 @@ recovery_only(`
   allow recovery kmsg_device:chr_file rw_file_perms;
   allow recovery recovery:capability { net_admin };
   allow recovery recovery:netlink_kobject_uevent_socket { create bind setopt read };
+  allow pppoe_wrapper_exec labeledfs:filesystem associate;
+  allow ppp_system_file labeledfs:filesystem associate;
 ')
diff --git a/common/sepolicy/service.te b/common/sepolicy/service.te
index 9b45ff2..1c1cf99 100644
--- a/common/sepolicy/service.te
+++ b/common/sepolicy/service.te
@@ -4,4 +4,4 @@ type tvserver_service,          service_manager_type;
 type system_control_service,    service_manager_type;
 type pppoe_service,             service_manager_type;
 type screenmediasource_service, service_manager_type;
-type tee_supplicant_service,    service_manager_type;
+type tee_service,               service_manager_type;
diff --git a/common/sepolicy/service_contexts b/common/sepolicy/service_contexts
index dd4a798..096bc5e 100644
--- a/common/sepolicy/service_contexts
+++ b/common/sepolicy/service_contexts
@@ -4,4 +4,4 @@ image.player                                u:object_r:imageserver_service:s0
 pppoe                                       u:object_r:pppoe_service:s0
 tvservice                                   u:object_r:tvserver_service:s0
 media.screenmediasource                     u:object_r:screenmediasource_service:s0
-tee_supplicant                               u:object_r:tee_supplicant_service:s0
+tee_supplicant                              u:object_r:tee_service:s0
diff --git a/common/sepolicy/system_app.te b/common/sepolicy/system_app.te
index f5815e6..439efc0 100644
--- a/common/sepolicy/system_app.te
+++ b/common/sepolicy/system_app.te
@@ -32,9 +32,14 @@ allow system_app uio_device:chr_file rw_file_perms;
 allow system_app cache_file:dir {create_dir_perms create_file_perms rw_file_perms};
 allow system_app cache_file:file {create_file_perms rw_file_perms};
 
-allow system_app system_file:file { execmod };
+allow system_app log_file:dir { search read open getattr };
+allow system_app log_file:file { read open getattr };
+allow system_app tombstone_data_file:dir r_dir_perms;
+allow system_app tombstone_data_file:file r_file_perms;
 
-# for iptest
-allow system_app rootfs:file { write unlink };
-allow system_app rootfs:dir { write remove_name unlink };
-allow system_app ctl_default_prop:property_service { set };
+allow system_app debugfs:file r_file_perms;
+allow system_app shell_data_file:dir search;
+allow system_app kernel:system syslog_read;
+allow system_app graphics_device:dir search;
+allow system_app sysfs_xbmc:file {open read write};
+allow system_app media_prop:property_service set;
diff --git a/common/sepolicy/system_server.te b/common/sepolicy/system_server.te
index 858f282..429be70 100644
--- a/common/sepolicy/system_server.te
+++ b/common/sepolicy/system_server.te
@@ -3,10 +3,6 @@ allow system_server ir_device:chr_file rw_file_perms;
 # Manage /data/misc/etc/ppp.
 allow system_server radio_device:chr_file  { write };
 
-#added by oujiangping@dvt.dvt.com 22716
-allow system_server proc:file  { write };
-#added end
-
 allow system_server fuse:dir search;
 
 allow system_server mediaserver:process {signal sigkill};
@@ -24,3 +20,6 @@ allow system_server system_file:file execmod;
 allow system_server storage_stub_file:dir { getattr read open };
 allow system_server bcmdl_prop:property_service set;
 allow system_server media_prop:property_service set;
+
+
+allow system_server system_app:fifo_file { ioctl read write getattr };
diff --git a/common/sepolicy/tee.te b/common/sepolicy/tee.te
new file mode 100644
index 0000000..1690548
--- /dev/null
+++ b/common/sepolicy/tee.te
@@ -0,0 +1,9 @@
+allow tee self:capability { sys_rawio };
+allow tee sysfs_xbmc:file { read open };
+allow tee block_device:dir { open read search};
+allow tee sda_block_device:blk_file { read open write ioctl };
+allow tee drm_device:chr_file { read open write ioctl };
+allow tee tee_data_file:dir { add_name write create ioctl remove_name open read rmdir getattr search };
+allow tee tee_data_file:file { write create open unlink link read };
+allow tee system_data_file:dir { write search add_name create };
+allow tee system_data_file:file read;
diff --git a/common/sepolicy/tvserver.te b/common/sepolicy/tvserver.te
index 4bd5333..4fbbb67 100644
--- a/common/sepolicy/tvserver.te
+++ b/common/sepolicy/tvserver.te
@@ -62,6 +62,12 @@ allow tvserver tv_config_prop:property_service set;
 allow tvserver sysfs:dir { write };
 allow tvserver self:capability sys_nice;
 
+allow tvserver { fuse storage_file }:dir { read search };
+allow tvserver { fuse storage_file }:file { open read getattr };
+
 allow tvserver unlabeled:dir { setattr search write };
 allow tvserver unlabeled:file { getattr open write read lock };
 allow tvserver uhid_device:chr_file rw_file_perms;
+
+allow tvserver self:capability kill;
+allow tvserver appdomain:process { sigkill signal };
diff --git a/common/sepolicy/vold.te b/common/sepolicy/vold.te
index 9c5da3e..89a2b7c 100644
--- a/common/sepolicy/vold.te
+++ b/common/sepolicy/vold.te
@@ -33,3 +33,8 @@ allow vold block_device:blk_file { read write open getattr };
 
 # for make ext4fs
 domain_auto_trans(vold, make_ext4fs_exec, make_ext4fs);
+
+# for tee
+allow vold drm_device:chr_file  {open read write ioctl};
+allow vold tee_data_file:dir { open read ioctl getattr };
+
diff --git a/common/software.mk b/common/software.mk
index 9ea452f..1e32ded 100644
--- a/common/software.mk
+++ b/common/software.mk
@@ -38,8 +38,9 @@ PRODUCT_COPY_FILES += \
 PRODUCT_PACKAGE_OVERLAYS += device/amlogic/common/gms_overlay
 PRODUCT_PACKAGES += \
     GooglePackageInstaller
-
-$(call add-clean-step, rm -rf $(OUT_DIR)/system/priv-app/DLNA)
+else
+PRODUCT_PACKAGES += \
+    QuickSearchBox
 endif
 
 PRODUCT_PROPERTY_OVERRIDES += \
@@ -49,23 +50,25 @@ PRODUCT_PROPERTY_OVERRIDES += \
 #WITH_DEXPREOPT := true
 #WITH_DEXPREOPT_PIC := true
 
+ifneq ($(TARGET_BUILD_GOOGLE_ATV), true)
 PRODUCT_PACKAGES += \
     Contacts \
+    Calendar
+endif
+
+PRODUCT_PACKAGES += \
     TvProvider \
     Bluetooth \
     PrintSpooler \
-    DownloadProviderUi \
-    Calendar \
-    QuickSearchBox
+    DownloadProviderUi
 else
-ifneq ($(strip $(MEGAFON_NO_ORIGINAL)),true)
-PRODUCT_PACKAGES += \
-    Dig
-endif
-
 PRODUCT_PACKAGES += \
+    Dig \
     libfwdlockengine
 
+PRODUCT_PROPERTY_OVERRIDES += \
+    persist.sys.app.rotation=middle_port
+
 endif
 
 ifeq ($(TARGET_BUILD_NETFLIX), true)
diff --git a/common/wifi.mk b/common/wifi.mk
index 0eb8faa..0ff8f7a 100644
--- a/common/wifi.mk
+++ b/common/wifi.mk
@@ -35,6 +35,7 @@
 #                bcm43241
 #                rtl8192du
 #                rtl8192eu
+#                rtl8192es
 #                rtl8192cu
 #                rtl88x1au
 #                rtl8812au
@@ -956,6 +957,38 @@ PRODUCT_PROPERTY_OVERRIDES += \
 	wifi.interface=wlan0
 
 endif
+################################################################################## rtl8192es
+ifeq ($(WIFI_MODULE),rtl8192es)
+
+WIFI_DRIVER             := rtl8192es
+BOARD_WIFI_VENDOR       := realtek
+WIFI_DRIVER_MODULE_PATH := /system/lib/8192es.ko
+WIFI_DRIVER_MODULE_NAME := 8192es
+WIFI_DRIVER_MODULE_ARG  := "ifname=wlan0 if2name=p2p0"
+
+WPA_SUPPLICANT_VERSION           := VER_0_8_X
+BOARD_WPA_SUPPLICANT_DRIVER      := NL80211
+BOARD_WPA_SUPPLICANT_PRIVATE_LIB := lib_driver_cmd_rtl
+BOARD_HOSTAPD_DRIVER             := NL80211
+BOARD_HOSTAPD_PRIVATE_LIB        := lib_driver_cmd_rtl
+
+BOARD_WLAN_DEVICE := rtl8192es
+LIB_WIFI_HAL := libwifi-hal-rtl
+
+WIFI_FIRMWARE_LOADER      := ""
+WIFI_DRIVER_FW_PATH_PARAM := ""
+
+PRODUCT_COPY_FILES += \
+	frameworks/native/data/etc/android.hardware.wifi.direct.xml:system/etc/permissions/android.hardware.wifi.direct.xml
+
+PRODUCT_PACKAGES += \
+	wpa_supplicant_overlay.conf \
+	p2p_supplicant_overlay.conf
+
+PRODUCT_PROPERTY_OVERRIDES += \
+	wifi.interface=wlan0
+
+endif
 ################################################################################## rtl8723au
 ifeq ($(WIFI_MODULE),rtl8723au)
 
@@ -1301,37 +1334,37 @@ PRODUCT_COPY_FILES += hardware/amlogic/wifi/bcm_ampak/config/6212/fw_bcm43438a0.
 PRODUCT_COPY_FILES += hardware/amlogic/wifi/bcm_ampak/config/6212/fw_bcm43438a0_apsta.bin:system/etc/wifi/6212/fw_bcm43438a0_apsta.bin
 PRODUCT_COPY_FILES += hardware/amlogic/wifi/bcm_ampak/config/6212/fw_bcm43438a0_p2p.bin:system/etc/wifi/6212/fw_bcm43438a0_p2p.bin
 PRODUCT_COPY_FILES += hardware/amlogic/wifi/bcm_ampak/config/6212/nvram.txt:system/etc/wifi/6212/nvram.txt
-PRODUCT_COPY_FILES += device/amlogic/$(PRODUCT_NAME)/wifi/config.txt:system/etc/wifi/6212/config.txt
+PRODUCT_COPY_FILES += device/amlogic/p200/wifi/config.txt:system/etc/wifi/6212/config.txt
 PRODUCT_COPY_FILES += hardware/amlogic/wifi/bcm_ampak/config/62x2/fw_bcm43241b4_ag.bin:system/etc/wifi/62x2/fw_bcm43241b4_ag.bin
 PRODUCT_COPY_FILES += hardware/amlogic/wifi/bcm_ampak/config/62x2/fw_bcm43241b4_ag_apsta.bin:system/etc/wifi/62x2/fw_bcm43241b4_ag_apsta.bin
 PRODUCT_COPY_FILES += hardware/amlogic/wifi/bcm_ampak/config/62x2/fw_bcm43241b4_ag_p2p.bin:system/etc/wifi/62x2/fw_bcm43241b4_ag_p2p.bin
 PRODUCT_COPY_FILES += hardware/amlogic/wifi/bcm_ampak/config/62x2/nvram.txt:system/etc/wifi/62x2/nvram.txt
-PRODUCT_COPY_FILES += device/amlogic/$(PRODUCT_NAME)/wifi/config.txt:system/etc/wifi/62X2/config.txt
+PRODUCT_COPY_FILES += device/amlogic/p200/wifi/config.txt:system/etc/wifi/62X2/config.txt
 PRODUCT_COPY_FILES += hardware/amlogic/wifi/bcm_ampak/config/6255/fw_bcm43455c0_ag.bin:system/etc/wifi/6255/fw_bcm43455c0_ag.bin
 PRODUCT_COPY_FILES += hardware/amlogic/wifi/bcm_ampak/config/6255/fw_bcm43455c0_ag_apsta.bin:system/etc/wifi/6255/fw_bcm43455c0_ag_apsta.bin
 PRODUCT_COPY_FILES += hardware/amlogic/wifi/bcm_ampak/config/6255/fw_bcm43455c0_ag_p2p.bin:system/etc/wifi/6255/fw_bcm43455c0_ag_p2p.bin
 PRODUCT_COPY_FILES += hardware/amlogic/wifi/bcm_ampak/config/6255/nvram.txt:system/etc/wifi/6255/nvram.txt
-PRODUCT_COPY_FILES += device/amlogic/$(PRODUCT_NAME)/wifi/config.txt:system/etc/wifi/6255/config.txt
+PRODUCT_COPY_FILES += device/amlogic/p200/wifi/config.txt:system/etc/wifi/6255/config.txt
 PRODUCT_COPY_FILES += hardware/amlogic/wifi/bcm_ampak/config/6335/fw_bcm4339a0_ag.bin:system/etc/wifi/6335/fw_bcm4339a0_ag.bin
 PRODUCT_COPY_FILES += hardware/amlogic/wifi/bcm_ampak/config/6335/fw_bcm4339a0_ag_apsta.bin:system/etc/wifi/6335/fw_bcm4339a0_ag_apsta.bin
 PRODUCT_COPY_FILES += hardware/amlogic/wifi/bcm_ampak/config/6335/fw_bcm4339a0_ag_p2p.bin:system/etc/wifi/6335/fw_bcm4339a0_ag_p2p.bin
 PRODUCT_COPY_FILES += hardware/amlogic/wifi/bcm_ampak/config/6335/nvram.txt:system/etc/wifi/6335/nvram.txt
-PRODUCT_COPY_FILES += device/amlogic/$(PRODUCT_NAME)/wifi/config.txt:system/etc/wifi/6335/config.txt
+PRODUCT_COPY_FILES += device/amlogic/p200/wifi/config.txt:system/etc/wifi/6335/config.txt
 PRODUCT_COPY_FILES += hardware/amlogic/wifi/bcm_ampak/config/4356/fw_bcm4356a2_ag.bin:system/etc/wifi/4356/fw_bcm4356a2_ag.bin
 PRODUCT_COPY_FILES += hardware/amlogic/wifi/bcm_ampak/config/4356/fw_bcm4356a2_ag_apsta.bin:system/etc/wifi/4356/fw_bcm4356a2_ag_apsta.bin
 PRODUCT_COPY_FILES += hardware/amlogic/wifi/bcm_ampak/config/4356/fw_bcm4356a2_ag_p2p.bin:system/etc/wifi/4356/fw_bcm4356a2_ag_p2p.bin
 PRODUCT_COPY_FILES += hardware/amlogic/wifi/bcm_ampak/config/4356/nvram_ap6356.txt:system/etc/wifi/4356/nvram_ap6356.txt
-PRODUCT_COPY_FILES += device/amlogic/$(PRODUCT_NAME)/wifi/config.txt:system/etc/wifi/4356/config.txt
+PRODUCT_COPY_FILES += device/amlogic/p200/wifi/config.txt:system/etc/wifi/4356/config.txt
 PRODUCT_COPY_FILES += hardware/amlogic/wifi/bcm_ampak/config/4354/fw_bcm4354a1_ag.bin:system/etc/wifi/4354/fw_bcm4354a1_ag.bin
 PRODUCT_COPY_FILES += hardware/amlogic/wifi/bcm_ampak/config/4354/fw_bcm4354a1_ag_apsta.bin:system/etc/wifi/4354/fw_bcm4354a1_ag_apsta.bin
 PRODUCT_COPY_FILES += hardware/amlogic/wifi/bcm_ampak/config/4354/fw_bcm4354a1_ag_p2p.bin:system/etc/wifi/4354/fw_bcm4354a1_ag_p2p.bin
 PRODUCT_COPY_FILES += hardware/amlogic/wifi/bcm_ampak/config/4354/nvram_ap6354.txt:system/etc/wifi/4354/nvram_ap6354.txt
-PRODUCT_COPY_FILES += device/amlogic/$(PRODUCT_NAME)/wifi/config.txt:system/etc/wifi/4354/config.txt
+PRODUCT_COPY_FILES += device/amlogic/p200/wifi/config.txt:system/etc/wifi/4354/config.txt
 PRODUCT_COPY_FILES += hardware/amlogic/wifi/bcm_ampak/config/43458/fw_bcm43455c0_ag.bin:system/etc/wifi/43458/fw_bcm43455c0_ag.bin
 PRODUCT_COPY_FILES += hardware/amlogic/wifi/bcm_ampak/config/43458/fw_bcm43455c0_ag_apsta.bin:system/etc/wifi/43458/fw_bcm43455c0_ag_apsta.bin
 PRODUCT_COPY_FILES += hardware/amlogic/wifi/bcm_ampak/config/43458/fw_bcm43455c0_ag_p2p.bin:system/etc/wifi/43458/fw_bcm43455c0_ag_p2p.bin
 PRODUCT_COPY_FILES += hardware/amlogic/wifi/bcm_ampak/config/43458/nvram_43458.txt:system/etc/wifi/43458/nvram_43458.txt
-PRODUCT_COPY_FILES += device/amlogic/$(PRODUCT_NAME)/wifi/config.txt:system/etc/wifi/43458/config.txt
+PRODUCT_COPY_FILES += device/amlogic/p200/wifi/config.txt:system/etc/wifi/43458/config.txt
 PRODUCT_COPY_FILES += device/amlogic/common/init.amlogic.wifi.rc:root/init.amlogic.wifi.rc
 PRODUCT_COPY_FILES += hardware/amlogic/wifi/multi_wifi/config/bcm_supplicant.conf:system/etc/wifi/bcm_supplicant.conf
 PRODUCT_COPY_FILES += hardware/amlogic/wifi/multi_wifi/config/bcm_supplicant_overlay.conf:system/etc/wifi/bcm_supplicant_overlay.conf
diff --git a/common/wifi_driver.mk b/common/wifi_driver.mk
index 4fc9bd7..6676b1c 100755
--- a/common/wifi_driver.mk
+++ b/common/wifi_driver.mk
@@ -83,6 +83,10 @@ rtl8192eu:
 	$(MAKE) -C $(shell pwd)/$(PRODUCT_OUT)/obj/KERNEL_OBJ M=$(shell pwd)/hardware/wifi/realtek/drivers/8192eu/rtl8192EU ARCH=$(KERNEL_ARCH) CROSS_COMPILE=$(CROSS_COMPILE) modules
 	cp $(shell pwd)/hardware/wifi/realtek/drivers/8192eu/rtl8192EU/8192eu.ko $(TARGET_OUT)/lib/
 
+rtl8192es:
+	$(MAKE) -C $(shell pwd)/$(PRODUCT_OUT)/obj/KERNEL_OBJ M=$(shell pwd)/hardware/wifi/realtek/drivers/8192es/rtl8192ES ARCH=$(KERNEL_ARCH) CROSS_COMPILE=$(CROSS_COMPILE) modules
+	cp $(shell pwd)/hardware/wifi/realtek/drivers/8192es/rtl8192ES/8192es.ko $(TARGET_OUT)/lib/
+
 rtl8723bs:
 	$(MAKE) -C $(shell pwd)/$(PRODUCT_OUT)/obj/KERNEL_OBJ M=$(shell pwd)/hardware/wifi/realtek/drivers/8723bs/rtl8723BS ARCH=$(KERNEL_ARCH) CROSS_COMPILE=$(CROSS_COMPILE) modules
 	cp $(shell pwd)/hardware/wifi/realtek/drivers/8723bs/rtl8723BS/8723bs.ko $(TARGET_OUT)/lib/
@@ -133,6 +137,8 @@ multiwifi:
 	cp $(shell pwd)/hardware/wifi/realtek/drivers/8188eu/rtl8xxx_EU/8188eu.ko $(TARGET_OUT)/lib/
 	$(MAKE) -C $(shell pwd)/$(PRODUCT_OUT)/obj/KERNEL_OBJ M=$(shell pwd)/hardware/wifi/realtek/drivers/8812au/rtl8812AU ARCH=$(KERNEL_ARCH) CROSS_COMPILE=$(CROSS_COMPILE) modules
 	cp $(shell pwd)/hardware/wifi/realtek/drivers/8812au/rtl8812AU/8812au.ko $(TARGET_OUT)/lib/
+	$(MAKE) -C $(shell pwd)/$(PRODUCT_OUT)/obj/KERNEL_OBJ M=$(shell pwd)/hardware/wifi/realtek/drivers/8192es/rtl8192ES ARCH=$(KERNEL_ARCH) CROSS_COMPILE=$(CROSS_COMPILE) modules
+	cp $(shell pwd)/hardware/wifi/realtek/drivers/8192es/rtl8192ES/8192es.ko $(TARGET_OUT)/lib/
 	$(MAKE) -C $(shell pwd)/$(PRODUCT_OUT)/obj/KERNEL_OBJ M=$(shell pwd)/hardware/wifi/broadcom/drivers/ap6xxx/bcmdhd_1_201_59_x ARCH=$(KERNEL_ARCH) CROSS_COMPILE=$(CROSS_COMPILE) modules
 	cp $(shell pwd)/hardware/wifi/broadcom/drivers/ap6xxx/bcmdhd_1_201_59_x/dhd.ko $(TARGET_OUT)/lib/
 	$(MAKE) -C $(shell pwd)/$(PRODUCT_OUT)/obj/KERNEL_OBJ M=$(shell pwd)/hardware/wifi/mtk/drivers/mt7601 ARCH=$(KERNEL_ARCH) CROSS_COMPILE=$(CROSS_COMPILE) modules
diff --git a/gxbb_skt/fstab.amlogic b/gxbb_skt/fstab.amlogic
index 732cccf..a72b28a 100755
--- a/gxbb_skt/fstab.amlogic
+++ b/gxbb_skt/fstab.amlogic
@@ -13,3 +13,4 @@
 /dev/block/loop     auto                loop      defaults                                  voldmanaged=loop:auto
 # Add for zram. zramsize can be in numeric (byte) , in percent or auto (detect by the system)
 /dev/block/zram0     /swap_zram0             swap      defaults                             wait,zramsize=auto
+/dev/block/tee       /tee                 ext4      noatime,nosuid,nodev,nodelalloc,nomblk_io_submit,errors=panic    wait,check
diff --git a/gxbb_skt/fstab.verity.amlogic b/gxbb_skt/fstab.verity.amlogic
index 0089285..70301be 100755
--- a/gxbb_skt/fstab.verity.amlogic
+++ b/gxbb_skt/fstab.verity.amlogic
@@ -12,3 +12,4 @@
 /dev/block/loop     auto                loop      defaults                                  voldmanaged=loop:auto
 # Add for zram. zramsize can be in numeric (byte) , in percent or auto (detect by the system)
 /dev/block/zram0     /swap_zram0             swap      defaults                             wait,zramsize=auto
+/dev/block/tee       /tee                 ext4      noatime,nosuid,nodev,nodelalloc,nomblk_io_submit,errors=panic    wait,check
diff --git a/gxbb_skt/gxbb_skt.mk b/gxbb_skt/gxbb_skt.mk
index 5da62bb..8201a8f 100644
--- a/gxbb_skt/gxbb_skt.mk
+++ b/gxbb_skt/gxbb_skt.mk
@@ -165,9 +165,10 @@ PRODUCT_LOCALES := en_US en_AU en_IN fr_FR it_IT es_ES et_EE de_DE nl_NL cs_CZ p
 #                                                PPPOE
 #
 #################################################################################
-
+ifneq ($(TARGET_BUILD_GOOGLE_ATV), true)
 BUILD_WITH_PPPOE := true
 
+endif
 ifeq ($(BUILD_WITH_PPPOE),true)
 PRODUCT_PACKAGES += \
     PPPoE \
diff --git a/gxbb_skt/overlay/frameworks/base/core/res/res/values/config.xml b/gxbb_skt/overlay/frameworks/base/core/res/res/values/config.xml
index b039a3e..0c6fe6a 100644
--- a/gxbb_skt/overlay/frameworks/base/core/res/res/values/config.xml
+++ b/gxbb_skt/overlay/frameworks/base/core/res/res/values/config.xml
@@ -84,4 +84,6 @@
         <item>com.google.android.gms</item>
         <item>com.android.location.fused</item>
     </string-array>
+    <!--  Maximum number of supported users -->
+    <integer name="config_multiuserMaximumUsers">2</integer>
 </resources>
diff --git a/gxl_skt/device.mk b/gxl_skt/device.mk
index b11e648..d1ca166 100644
--- a/gxl_skt/device.mk
+++ b/gxl_skt/device.mk
@@ -28,6 +28,10 @@ PRODUCT_COPY_FILES += \
     device/amlogic/gxl_skt/files/mesondisplay.cfg:system/etc/mesondisplay.cfg \
     frameworks/native/data/etc/android.hardware.hdmi.cec.xml:system/etc/permissions/android.hardware.hdmi.cec.xml
 
+ifeq ($(USE_MEDIACODEC_SECURE), true)
+PRODUCT_COPY_FILES += device/amlogic/gxl_skt/files/media_codecs_secure.xml:system/etc/media_codecs_secure.xml
+endif
+
 # remote IME config file
 PRODUCT_COPY_FILES += \
     device/amlogic/gxl_skt/files/remote.conf:system/etc/remote.conf \
diff --git a/gxl_skt/files/media_codecs.xml b/gxl_skt/files/media_codecs.xml
index 62f7a9c..1a9714f 100644
--- a/gxl_skt/files/media_codecs.xml
+++ b/gxl_skt/files/media_codecs.xml
@@ -85,15 +85,6 @@ Only the three quirks included above are recognized at this point:
             <Limit name="bitrate" range="1-300000000" />
             <Feature name="adaptive-playback" />
         </MediaCodec>
-        <MediaCodec name="OMX.amlogic.hevc.decoder.awesome.secure" type="video/hevc" >
-            <Limit name="size" min="64x64" max="3840x2160" />
-            <Limit name="alignment" value="2x2" />
-            <Limit name="block-size" value="16x16" />
-            <Limit name="blocks-per-second" min="1" max="972000" />
-            <Limit name="bitrate" range="1-300000000" />
-            <Feature name="adaptive-playback" />
-            <Feature name="secure-playback" required="true" />
-        </MediaCodec>
         <MediaCodec name="OMX.amlogic.avc.decoder.awesome" type="video/avc" >
             <Limit name="size" min="64x64" max="3840x2160" />
             <Limit name="alignment" value="2x2" />
@@ -102,15 +93,6 @@ Only the three quirks included above are recognized at this point:
             <Limit name="bitrate" range="1-300000000" />
             <Feature name="adaptive-playback" />
         </MediaCodec>
-        <MediaCodec name="OMX.amlogic.avc.decoder.awesome.secure" type="video/avc" >
-            <Limit name="size" min="64x64" max="3840x2160" />
-            <Limit name="alignment" value="2x2" />
-            <Limit name="block-size" value="16x16" />
-            <Limit name="blocks-per-second" min="1" max="972000" />
-            <Limit name="bitrate" range="1-300000000" />
-            <Feature name="adaptive-playback" />
-            <Feature name="secure-playback" required="true" />
-        </MediaCodec>
         <MediaCodec name="OMX.amlogic.mpeg4.decoder.awesome" type="video/mp4v-es" >
             <Limit name="size" min="64x64" max="1920x1088" />
             <Limit name="alignment" value="2x2" />
diff --git a/gxl_skt/files/media_codecs_secure.xml b/gxl_skt/files/media_codecs_secure.xml
new file mode 100644
index 0000000..375557a
--- /dev/null
+++ b/gxl_skt/files/media_codecs_secure.xml
@@ -0,0 +1,43 @@
+<?xml version="1.0" encoding="utf-8" ?>
+<!-- Copyright (C) 2012 The Android Open Source Project
+
+     Licensed under the Apache License, Version 2.0 (the "License");
+     you may not use this file except in compliance with the License.
+     You may obtain a copy of the License at
+
+          http://www.apache.org/licenses/LICENSE-2.0
+
+     Unless required by applicable law or agreed to in writing, software
+     distributed under the License is distributed on an "AS IS" BASIS,
+     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+     See the License for the specific language governing permissions and
+     limitations under the License.
+-->
+
+
+
+<MediaCodecs>
+    <Decoders>
+        <MediaCodec name="OMX.amlogic.hevc.decoder.awesome.secure" type="video/hevc" >
+            <Limit name="size" min="64x64" max="3840x2160" />
+            <Limit name="alignment" value="2x2" />
+            <Limit name="block-size" value="16x16" />
+            <Limit name="blocks-per-second" min="1" max="972000" />
+            <Limit name="bitrate" range="1-300000000" />
+            <Feature name="adaptive-playback" />
+            <Feature name="secure-playback" required="true" />
+            <Feature name="tunneled-playback" />
+	    <Limit name="concurrent-instances" max="1" />
+        </MediaCodec>
+        <MediaCodec name="OMX.amlogic.avc.decoder.awesome.secure" type="video/avc" >
+            <Limit name="size" min="64x64" max="3840x2160" />
+            <Limit name="alignment" value="2x2" />
+            <Limit name="block-size" value="16x16" />
+            <Limit name="blocks-per-second" min="1" max="972000" />
+            <Limit name="bitrate" range="1-300000000" />
+            <Feature name="adaptive-playback" />
+            <Feature name="secure-playback" required="true" />
+	    <Limit name="concurrent-instances" max="1" />
+        </MediaCodec>
+    </Decoders>
+</MediaCodecs>
diff --git a/gxl_skt/fstab.amlogic b/gxl_skt/fstab.amlogic
index 751e0c6..80195ed 100644
--- a/gxl_skt/fstab.amlogic
+++ b/gxl_skt/fstab.amlogic
@@ -13,3 +13,4 @@
 /dev/block/loop     auto                loop      defaults                                  voldmanaged=loop:auto
 # Add for zram. zramsize can be in numeric (byte) , in percent or auto (detect by the system)
 /dev/block/zram0     /swap_zram0             swap      defaults                             wait,zramsize=auto
+/dev/block/tee       /tee                 ext4      noatime,nosuid,nodev,nodelalloc,nomblk_io_submit,errors=panic    wait,check
diff --git a/gxl_skt/fstab.verity.amlogic b/gxl_skt/fstab.verity.amlogic
index bc91cb9..91d8866 100755
--- a/gxl_skt/fstab.verity.amlogic
+++ b/gxl_skt/fstab.verity.amlogic
@@ -12,3 +12,4 @@
 /dev/block/loop     auto                loop      defaults                                  voldmanaged=loop:auto
 # Add for zram. zramsize can be in numeric (byte) , in percent or auto (detect by the system)
 /dev/block/zram0     /swap_zram0             swap      defaults                             wait,zramsize=auto
+/dev/block/tee       /tee                 ext4      noatime,nosuid,nodev,nodelalloc,nomblk_io_submit,errors=panic    wait,check
diff --git a/gxl_skt/gxl_skt.mk b/gxl_skt/gxl_skt.mk
index a15385b..dab2a60 100644
--- a/gxl_skt/gxl_skt.mk
+++ b/gxl_skt/gxl_skt.mk
@@ -61,7 +61,29 @@ PRODUCT_AML_SECUREBOOT_SIGNBOOTLOADER := $(PRODUCT_AML_SECUREBOOT_SIGNTOOL) --bo
 PRODUCT_AML_SECUREBOOT_SIGNIMAGE := $(PRODUCT_AML_SECUREBOOT_SIGNTOOL) --imgsig \
 					--amluserkey $(PRODUCT_AML_SECUREBOOT_USERKEY)
 
+########################################################################
+#
+#                           ATV
+#
+########################################################################
+ifeq ($(BOARD_COMPILE_ATV),true)
+BOARD_COMPILE_CTS := true
+TARGET_BUILD_GOOGLE_ATV:= true
+endif
+########################################################################
 
+########################################################################
+#
+#                           CTS
+#
+########################################################################
+ifeq ($(BOARD_COMPILE_CTS),true)
+BOARD_WIDEVINE_OEMCRYPTO_LEVEL := 1
+BOARD_PLAYREADY_LEVEL := 1
+TARGET_BUILD_CTS:= true
+TARGET_BUILD_NETFLIX:= true
+endif
+########################################################################
 
 #########################################################################
 #
@@ -196,8 +218,9 @@ PRODUCT_LOCALES := en_US en_AU en_IN fr_FR it_IT es_ES et_EE de_DE nl_NL cs_CZ p
 #                                                PPPOE
 #
 #################################################################################
-
+ifneq ($(TARGET_BUILD_GOOGLE_ATV), true)
 BUILD_WITH_PPPOE := true
+endif
 
 ifeq ($(BUILD_WITH_PPPOE),true)
 PRODUCT_PACKAGES += \
@@ -225,6 +248,11 @@ BOARD_USES_USB_PM := true
 #PRODUCT_COPY_FILES += \
     $(LOCAL_PATH)/Third_party_apk_camera.xml:system/etc/Third_party_apk_camera.xml \
 
-TARGET_BUILD_CTS:= false
-TARGET_BUILD_GOOGLE_ATV:= false
 include device/amlogic/common/software.mk
+ifeq ($(TARGET_BUILD_GOOGLE_ATV),true)
+PRODUCT_PROPERTY_OVERRIDES += \
+    ro.sf.lcd_density=320
+else
+PRODUCT_PROPERTY_OVERRIDES += \
+    ro.sf.lcd_density=240
+endif
diff --git a/gxl_skt/init.amlogic.board.rc b/gxl_skt/init.amlogic.board.rc
index bee4658..01ec49b 100644
--- a/gxl_skt/init.amlogic.board.rc
+++ b/gxl_skt/init.amlogic.board.rc
@@ -35,6 +35,7 @@ on boot
     # chmod 0666 /dev/ge2d
     chmod 666 /dev/cec
     chmod 0666 /dev/opteearmtz00
+    chmod 0666 /dev/tee0
     mkdir  /data/tee
 
 on fs
@@ -72,4 +73,4 @@ on fs
 service tee_supplicant /system/bin/tee-supplicant
     class main
     oneshot
-    seclabel u:r:tee_supplicant:s0
+    seclabel u:r:tee:s0
diff --git a/gxl_skt/overlay/frameworks/base/core/res/res/values/config.xml b/gxl_skt/overlay/frameworks/base/core/res/res/values/config.xml
index b039a3e..0c6fe6a 100644
--- a/gxl_skt/overlay/frameworks/base/core/res/res/values/config.xml
+++ b/gxl_skt/overlay/frameworks/base/core/res/res/values/config.xml
@@ -84,4 +84,6 @@
         <item>com.google.android.gms</item>
         <item>com.android.location.fused</item>
     </string-array>
+    <!--  Maximum number of supported users -->
+    <integer name="config_multiuserMaximumUsers">2</integer>
 </resources>
diff --git a/gxl_skt/system.prop b/gxl_skt/system.prop
index ce7ae3c..1f370ff 100644
--- a/gxl_skt/system.prop
+++ b/gxl_skt/system.prop
@@ -10,8 +10,6 @@ ro.camera.preview.UseMJPEG=1
 #if wifi Only
 ro.radio.noril=false
 
-ro.sf.lcd_density=240
-
 #if need pppoe
 ro.net.pppoe=true
 
diff --git a/gxm_skt/device.mk b/gxm_skt/device.mk
index b35c0bc..cda3793 100644
--- a/gxm_skt/device.mk
+++ b/gxm_skt/device.mk
@@ -29,6 +29,10 @@ PRODUCT_COPY_FILES += \
     device/amlogic/gxm_skt/files/mesondisplay.cfg:system/etc/mesondisplay.cfg \
     frameworks/native/data/etc/android.hardware.hdmi.cec.xml:system/etc/permissions/android.hardware.hdmi.cec.xml
 
+ifeq ($(USE_MEDIACODEC_SECURE), true)
+PRODUCT_COPY_FILES += device/amlogic/p212/files/media_codecs_secure.xml:system/etc/media_codecs_secure.xml
+endif
+
 # remote IME config file
 PRODUCT_COPY_FILES += \
     device/amlogic/gxm_skt/files/remote.conf:system/etc/remote.conf \
diff --git a/gxm_skt/files/media_codecs.xml b/gxm_skt/files/media_codecs.xml
index 62f7a9c..1a9714f 100644
--- a/gxm_skt/files/media_codecs.xml
+++ b/gxm_skt/files/media_codecs.xml
@@ -85,15 +85,6 @@ Only the three quirks included above are recognized at this point:
             <Limit name="bitrate" range="1-300000000" />
             <Feature name="adaptive-playback" />
         </MediaCodec>
-        <MediaCodec name="OMX.amlogic.hevc.decoder.awesome.secure" type="video/hevc" >
-            <Limit name="size" min="64x64" max="3840x2160" />
-            <Limit name="alignment" value="2x2" />
-            <Limit name="block-size" value="16x16" />
-            <Limit name="blocks-per-second" min="1" max="972000" />
-            <Limit name="bitrate" range="1-300000000" />
-            <Feature name="adaptive-playback" />
-            <Feature name="secure-playback" required="true" />
-        </MediaCodec>
         <MediaCodec name="OMX.amlogic.avc.decoder.awesome" type="video/avc" >
             <Limit name="size" min="64x64" max="3840x2160" />
             <Limit name="alignment" value="2x2" />
@@ -102,15 +93,6 @@ Only the three quirks included above are recognized at this point:
             <Limit name="bitrate" range="1-300000000" />
             <Feature name="adaptive-playback" />
         </MediaCodec>
-        <MediaCodec name="OMX.amlogic.avc.decoder.awesome.secure" type="video/avc" >
-            <Limit name="size" min="64x64" max="3840x2160" />
-            <Limit name="alignment" value="2x2" />
-            <Limit name="block-size" value="16x16" />
-            <Limit name="blocks-per-second" min="1" max="972000" />
-            <Limit name="bitrate" range="1-300000000" />
-            <Feature name="adaptive-playback" />
-            <Feature name="secure-playback" required="true" />
-        </MediaCodec>
         <MediaCodec name="OMX.amlogic.mpeg4.decoder.awesome" type="video/mp4v-es" >
             <Limit name="size" min="64x64" max="1920x1088" />
             <Limit name="alignment" value="2x2" />
diff --git a/gxm_skt/files/media_codecs_secure.xml b/gxm_skt/files/media_codecs_secure.xml
new file mode 100644
index 0000000..375557a
--- /dev/null
+++ b/gxm_skt/files/media_codecs_secure.xml
@@ -0,0 +1,43 @@
+<?xml version="1.0" encoding="utf-8" ?>
+<!-- Copyright (C) 2012 The Android Open Source Project
+
+     Licensed under the Apache License, Version 2.0 (the "License");
+     you may not use this file except in compliance with the License.
+     You may obtain a copy of the License at
+
+          http://www.apache.org/licenses/LICENSE-2.0
+
+     Unless required by applicable law or agreed to in writing, software
+     distributed under the License is distributed on an "AS IS" BASIS,
+     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+     See the License for the specific language governing permissions and
+     limitations under the License.
+-->
+
+
+
+<MediaCodecs>
+    <Decoders>
+        <MediaCodec name="OMX.amlogic.hevc.decoder.awesome.secure" type="video/hevc" >
+            <Limit name="size" min="64x64" max="3840x2160" />
+            <Limit name="alignment" value="2x2" />
+            <Limit name="block-size" value="16x16" />
+            <Limit name="blocks-per-second" min="1" max="972000" />
+            <Limit name="bitrate" range="1-300000000" />
+            <Feature name="adaptive-playback" />
+            <Feature name="secure-playback" required="true" />
+            <Feature name="tunneled-playback" />
+	    <Limit name="concurrent-instances" max="1" />
+        </MediaCodec>
+        <MediaCodec name="OMX.amlogic.avc.decoder.awesome.secure" type="video/avc" >
+            <Limit name="size" min="64x64" max="3840x2160" />
+            <Limit name="alignment" value="2x2" />
+            <Limit name="block-size" value="16x16" />
+            <Limit name="blocks-per-second" min="1" max="972000" />
+            <Limit name="bitrate" range="1-300000000" />
+            <Feature name="adaptive-playback" />
+            <Feature name="secure-playback" required="true" />
+	    <Limit name="concurrent-instances" max="1" />
+        </MediaCodec>
+    </Decoders>
+</MediaCodecs>
diff --git a/gxm_skt/fstab.amlogic b/gxm_skt/fstab.amlogic
index fb7a362..c44ff2f 100644
--- a/gxm_skt/fstab.amlogic
+++ b/gxm_skt/fstab.amlogic
@@ -13,3 +13,4 @@
 /dev/block/loop     auto                loop      defaults                                  voldmanaged=loop:auto
 # Add for zram. zramsize can be in numeric (byte) , in percent or auto (detect by the system)
 /dev/block/zram0     /swap_zram0             swap      defaults                             wait,zramsize=auto
+/dev/block/tee       /tee                 ext4      noatime,nosuid,nodev,nodelalloc,nomblk_io_submit,errors=panic    wait,check
diff --git a/gxm_skt/fstab.verity.amlogic b/gxm_skt/fstab.verity.amlogic
index bc91cb9..91d8866 100644
--- a/gxm_skt/fstab.verity.amlogic
+++ b/gxm_skt/fstab.verity.amlogic
@@ -12,3 +12,4 @@
 /dev/block/loop     auto                loop      defaults                                  voldmanaged=loop:auto
 # Add for zram. zramsize can be in numeric (byte) , in percent or auto (detect by the system)
 /dev/block/zram0     /swap_zram0             swap      defaults                             wait,zramsize=auto
+/dev/block/tee       /tee                 ext4      noatime,nosuid,nodev,nodelalloc,nomblk_io_submit,errors=panic    wait,check
diff --git a/gxm_skt/gxm_skt.mk b/gxm_skt/gxm_skt.mk
index 5072981..8af83d1 100644
--- a/gxm_skt/gxm_skt.mk
+++ b/gxm_skt/gxm_skt.mk
@@ -61,7 +61,29 @@ PRODUCT_AML_SECUREBOOT_SIGNBOOTLOADER := $(PRODUCT_AML_SECUREBOOT_SIGNTOOL) --bo
 PRODUCT_AML_SECUREBOOT_SIGNIMAGE := $(PRODUCT_AML_SECUREBOOT_SIGNTOOL) --imgsig \
 					--amluserkey $(PRODUCT_AML_SECUREBOOT_USERKEY)
 
+########################################################################
+#
+#                           ATV
+#
+########################################################################
+ifeq ($(BOARD_COMPILE_ATV),true)
+BOARD_COMPILE_CTS := true
+TARGET_BUILD_GOOGLE_ATV:= true
+endif
+########################################################################
 
+########################################################################
+#
+#                           CTS
+#
+########################################################################
+ifeq ($(BOARD_COMPILE_CTS),true)
+BOARD_WIDEVINE_OEMCRYPTO_LEVEL := 1
+BOARD_PLAYREADY_LEVEL := 1
+TARGET_BUILD_CTS:= true
+TARGET_BUILD_NETFLIX:= true
+endif
+########################################################################
 
 #########################################################################
 #
@@ -194,9 +216,9 @@ PRODUCT_LOCALES := en_US en_AU en_IN fr_FR it_IT es_ES et_EE de_DE nl_NL cs_CZ p
 #                                                PPPOE
 #
 #################################################################################
-
+ifneq ($(TARGET_BUILD_GOOGLE_ATV), true)
 BUILD_WITH_PPPOE := true
-
+endif
 ifeq ($(BUILD_WITH_PPPOE),true)
 PRODUCT_PACKAGES += \
     PPPoE \
@@ -223,6 +245,11 @@ BOARD_USES_USB_PM := true
 #PRODUCT_COPY_FILES += \
     $(LOCAL_PATH)/Third_party_apk_camera.xml:system/etc/Third_party_apk_camera.xml \
 
-TARGET_BUILD_CTS:= false
-TARGET_BUILD_GOOGLE_ATV:= false
 include device/amlogic/common/software.mk
+ifeq ($(TARGET_BUILD_GOOGLE_ATV),true)
+PRODUCT_PROPERTY_OVERRIDES += \
+    ro.sf.lcd_density=320
+else
+PRODUCT_PROPERTY_OVERRIDES += \
+    ro.sf.lcd_density=240
+endif
diff --git a/gxm_skt/init.amlogic.board.rc b/gxm_skt/init.amlogic.board.rc
index bee4658..01ec49b 100644
--- a/gxm_skt/init.amlogic.board.rc
+++ b/gxm_skt/init.amlogic.board.rc
@@ -35,6 +35,7 @@ on boot
     # chmod 0666 /dev/ge2d
     chmod 666 /dev/cec
     chmod 0666 /dev/opteearmtz00
+    chmod 0666 /dev/tee0
     mkdir  /data/tee
 
 on fs
@@ -72,4 +73,4 @@ on fs
 service tee_supplicant /system/bin/tee-supplicant
     class main
     oneshot
-    seclabel u:r:tee_supplicant:s0
+    seclabel u:r:tee:s0
diff --git a/gxm_skt/overlay/frameworks/base/core/res/res/values/config.xml b/gxm_skt/overlay/frameworks/base/core/res/res/values/config.xml
index b039a3e..0c6fe6a 100644
--- a/gxm_skt/overlay/frameworks/base/core/res/res/values/config.xml
+++ b/gxm_skt/overlay/frameworks/base/core/res/res/values/config.xml
@@ -84,4 +84,6 @@
         <item>com.google.android.gms</item>
         <item>com.android.location.fused</item>
     </string-array>
+    <!--  Maximum number of supported users -->
+    <integer name="config_multiuserMaximumUsers">2</integer>
 </resources>
diff --git a/gxm_skt/system.prop b/gxm_skt/system.prop
index ce7ae3c..1f370ff 100644
--- a/gxm_skt/system.prop
+++ b/gxm_skt/system.prop
@@ -10,8 +10,6 @@ ro.camera.preview.UseMJPEG=1
 #if wifi Only
 ro.radio.noril=false
 
-ro.sf.lcd_density=240
-
 #if need pppoe
 ro.net.pppoe=true
 
diff --git a/p200/device.mk b/p200/device.mk
index 0b2b0c7..bbfa327 100644
--- a/p200/device.mk
+++ b/p200/device.mk
@@ -29,6 +29,10 @@ PRODUCT_COPY_FILES += \
     device/amlogic/p200/files/mesondisplay.cfg:system/etc/mesondisplay.cfg \
     frameworks/native/data/etc/android.hardware.hdmi.cec.xml:system/etc/permissions/android.hardware.hdmi.cec.xml
 
+ifeq ($(USE_MEDIACODEC_SECURE), true)
+PRODUCT_COPY_FILES += device/amlogic/p212/files/media_codecs_secure.xml:system/etc/media_codecs_secure.xml
+endif
+
 # remote IME config file
 PRODUCT_COPY_FILES += \
     device/amlogic/p200/files/remote.conf:system/etc/remote.conf \
diff --git a/p200/files/media_codecs.xml b/p200/files/media_codecs.xml
index ae30821..1a9714f 100644
--- a/p200/files/media_codecs.xml
+++ b/p200/files/media_codecs.xml
@@ -85,16 +85,6 @@ Only the three quirks included above are recognized at this point:
             <Limit name="bitrate" range="1-300000000" />
             <Feature name="adaptive-playback" />
         </MediaCodec>
-        <MediaCodec name="OMX.amlogic.hevc.decoder.awesome.secure" type="video/hevc" >
-            <Limit name="size" min="64x64" max="3840x2160" />
-            <Limit name="alignment" value="2x2" />
-            <Limit name="block-size" value="16x16" />
-            <Limit name="blocks-per-second" min="1" max="972000" />
-            <Limit name="bitrate" range="1-300000000" />
-            <Feature name="adaptive-playback" />
-            <Feature name="secure-playback" required="true" />
-            <Feature name="tunneled-playback" />
-        </MediaCodec>
         <MediaCodec name="OMX.amlogic.avc.decoder.awesome" type="video/avc" >
             <Limit name="size" min="64x64" max="3840x2160" />
             <Limit name="alignment" value="2x2" />
@@ -103,15 +93,6 @@ Only the three quirks included above are recognized at this point:
             <Limit name="bitrate" range="1-300000000" />
             <Feature name="adaptive-playback" />
         </MediaCodec>
-        <MediaCodec name="OMX.amlogic.avc.decoder.awesome.secure" type="video/avc" >
-            <Limit name="size" min="64x64" max="3840x2160" />
-            <Limit name="alignment" value="2x2" />
-            <Limit name="block-size" value="16x16" />
-            <Limit name="blocks-per-second" min="1" max="972000" />
-            <Limit name="bitrate" range="1-300000000" />
-            <Feature name="adaptive-playback" />
-            <Feature name="secure-playback" required="true" />
-        </MediaCodec>
         <MediaCodec name="OMX.amlogic.mpeg4.decoder.awesome" type="video/mp4v-es" >
             <Limit name="size" min="64x64" max="1920x1088" />
             <Limit name="alignment" value="2x2" />
diff --git a/p200/files/media_codecs_secure.xml b/p200/files/media_codecs_secure.xml
new file mode 100644
index 0000000..375557a
--- /dev/null
+++ b/p200/files/media_codecs_secure.xml
@@ -0,0 +1,43 @@
+<?xml version="1.0" encoding="utf-8" ?>
+<!-- Copyright (C) 2012 The Android Open Source Project
+
+     Licensed under the Apache License, Version 2.0 (the "License");
+     you may not use this file except in compliance with the License.
+     You may obtain a copy of the License at
+
+          http://www.apache.org/licenses/LICENSE-2.0
+
+     Unless required by applicable law or agreed to in writing, software
+     distributed under the License is distributed on an "AS IS" BASIS,
+     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+     See the License for the specific language governing permissions and
+     limitations under the License.
+-->
+
+
+
+<MediaCodecs>
+    <Decoders>
+        <MediaCodec name="OMX.amlogic.hevc.decoder.awesome.secure" type="video/hevc" >
+            <Limit name="size" min="64x64" max="3840x2160" />
+            <Limit name="alignment" value="2x2" />
+            <Limit name="block-size" value="16x16" />
+            <Limit name="blocks-per-second" min="1" max="972000" />
+            <Limit name="bitrate" range="1-300000000" />
+            <Feature name="adaptive-playback" />
+            <Feature name="secure-playback" required="true" />
+            <Feature name="tunneled-playback" />
+	    <Limit name="concurrent-instances" max="1" />
+        </MediaCodec>
+        <MediaCodec name="OMX.amlogic.avc.decoder.awesome.secure" type="video/avc" >
+            <Limit name="size" min="64x64" max="3840x2160" />
+            <Limit name="alignment" value="2x2" />
+            <Limit name="block-size" value="16x16" />
+            <Limit name="blocks-per-second" min="1" max="972000" />
+            <Limit name="bitrate" range="1-300000000" />
+            <Feature name="adaptive-playback" />
+            <Feature name="secure-playback" required="true" />
+	    <Limit name="concurrent-instances" max="1" />
+        </MediaCodec>
+    </Decoders>
+</MediaCodecs>
diff --git a/p200/fstab.amlogic b/p200/fstab.amlogic
index 732cccf..a72b28a 100755
--- a/p200/fstab.amlogic
+++ b/p200/fstab.amlogic
@@ -13,3 +13,4 @@
 /dev/block/loop     auto                loop      defaults                                  voldmanaged=loop:auto
 # Add for zram. zramsize can be in numeric (byte) , in percent or auto (detect by the system)
 /dev/block/zram0     /swap_zram0             swap      defaults                             wait,zramsize=auto
+/dev/block/tee       /tee                 ext4      noatime,nosuid,nodev,nodelalloc,nomblk_io_submit,errors=panic    wait,check
diff --git a/p200/fstab.verity.amlogic b/p200/fstab.verity.amlogic
index bc91cb9..91d8866 100755
--- a/p200/fstab.verity.amlogic
+++ b/p200/fstab.verity.amlogic
@@ -12,3 +12,4 @@
 /dev/block/loop     auto                loop      defaults                                  voldmanaged=loop:auto
 # Add for zram. zramsize can be in numeric (byte) , in percent or auto (detect by the system)
 /dev/block/zram0     /swap_zram0             swap      defaults                             wait,zramsize=auto
+/dev/block/tee       /tee                 ext4      noatime,nosuid,nodev,nodelalloc,nomblk_io_submit,errors=panic    wait,check
diff --git a/p200/init.amlogic.board.rc b/p200/init.amlogic.board.rc
index 9e1ddac..2821770 100644
--- a/p200/init.amlogic.board.rc
+++ b/p200/init.amlogic.board.rc
@@ -35,6 +35,7 @@ on boot
     # chmod 0666 /dev/ge2d
     chmod 666 /dev/cec
     chmod 0666 /dev/opteearmtz00
+    chmod 0666 /dev/tee0
     mount debugfs debugfs /sys/kernel/debug mode=755
 
 on fs
@@ -74,5 +75,5 @@ service p2p_supplicant /system/bin/wpa_supplicant \
 service tee_supplicant /system/bin/tee-supplicant
 	class main
 	oneshot
-	seclabel u:r:tee_supplicant:s0
+	seclabel u:r:tee:s0
 
diff --git a/p200/overlay/frameworks/base/core/res/res/values/config.xml b/p200/overlay/frameworks/base/core/res/res/values/config.xml
index e9d1225..c1d525e 100644
--- a/p200/overlay/frameworks/base/core/res/res/values/config.xml
+++ b/p200/overlay/frameworks/base/core/res/res/values/config.xml
@@ -92,4 +92,6 @@
         <item>com.google.android.gms</item>
         <item>com.android.location.fused</item>
     </string-array>
+    <!--  Maximum number of supported users -->
+    <integer name="config_multiuserMaximumUsers">2</integer>
 </resources>
diff --git a/p200/p200.mk b/p200/p200.mk
index 59b5db2..a4a8cab 100644
--- a/p200/p200.mk
+++ b/p200/p200.mk
@@ -61,7 +61,29 @@ PRODUCT_AML_SECUREBOOT_SIGNBOOTLOADER := $(PRODUCT_AML_SECUREBOOT_SIGNTOOL) --bo
 PRODUCT_AML_SECUREBOOT_SIGNIMAGE := $(PRODUCT_AML_SECUREBOOT_SIGNTOOL) --imgsig \
 					--amluserkey $(PRODUCT_AML_SECUREBOOT_USERKEY)
 
+########################################################################
+#
+#                           ATV
+#
+########################################################################
+ifeq ($(BOARD_COMPILE_ATV),true)
+BOARD_COMPILE_CTS := true
+TARGET_BUILD_GOOGLE_ATV:= true
+endif
+########################################################################
 
+########################################################################
+#
+#                           CTS
+#
+########################################################################
+ifeq ($(BOARD_COMPILE_CTS),true)
+BOARD_WIDEVINE_OEMCRYPTO_LEVEL := 1
+BOARD_PLAYREADY_LEVEL := 1
+TARGET_BUILD_CTS:= true
+TARGET_BUILD_NETFLIX:= true
+endif
+########################################################################
 
 #########################################################################
 #
@@ -197,9 +219,10 @@ PRODUCT_LOCALES := en_US en_AU en_IN fr_FR it_IT es_ES et_EE de_DE nl_NL cs_CZ p
 #                                                PPPOE
 #
 #################################################################################
+ifneq ($(TARGET_BUILD_GOOGLE_ATV), true)
 
 BUILD_WITH_PPPOE := true
-
+endif
 ifeq ($(BUILD_WITH_PPPOE),true)
 PRODUCT_PACKAGES += \
     PPPoE \
@@ -226,7 +249,11 @@ BOARD_USES_USB_PM := true
 PRODUCT_COPY_FILES += \
     $(LOCAL_PATH)/Third_party_apk_camera.xml:system/etc/Third_party_apk_camera.xml \
 
-TARGET_BUILD_CTS:= false
-TARGET_BUILD_GOOGLE_ATV:= false
-TARGET_BUILD_NETFLIX:= false
 include device/amlogic/common/software.mk
+ifeq ($(TARGET_BUILD_GOOGLE_ATV),true)
+PRODUCT_PROPERTY_OVERRIDES += \
+    ro.sf.lcd_density=320
+else
+PRODUCT_PROPERTY_OVERRIDES += \
+    ro.sf.lcd_density=240
+endif
diff --git a/p200/system.prop b/p200/system.prop
index 63740cc..b17e52a 100644
--- a/p200/system.prop
+++ b/p200/system.prop
@@ -10,8 +10,6 @@ ro.camera.preview.UseMJPEG=1
 #if wifi Only
 ro.radio.noril=false
 
-ro.sf.lcd_density=240
-
 #if need pppoe
 ro.net.pppoe=true
 
@@ -40,7 +38,6 @@ media.amplayer.enable=true
 media.amsuperplayer.m4aplayer=STAGEFRIGHT_PLAYER
 media.amsuperplayer.defplayer=PV_PLAYER
 media.amplayer.thumbnail=true
-media.amplayer.widevineenable=false
 media.amplayer.dsource4local=1
 media.amplayer.startmode=true
 media.amplayer.dropwaitxms=100
@@ -79,7 +76,7 @@ persist.fw.force_adoptable=true
 
 #add livhls,libcurl as default hls
 media.libplayer.curlenable=true
-media.libplayer.modules=vhls_mod,dash_mod,curl_mod,prhls_mod,vm_mod
+media.libplayer.modules=vhls_mod,dash_mod,curl_mod,prhls_mod,vm_mod,bluray_mod
 
 
 #Hdmi In
diff --git a/p200_2G/fstab.amlogic b/p200_2G/fstab.amlogic
index 732cccf..a72b28a 100644
--- a/p200_2G/fstab.amlogic
+++ b/p200_2G/fstab.amlogic
@@ -13,3 +13,4 @@
 /dev/block/loop     auto                loop      defaults                                  voldmanaged=loop:auto
 # Add for zram. zramsize can be in numeric (byte) , in percent or auto (detect by the system)
 /dev/block/zram0     /swap_zram0             swap      defaults                             wait,zramsize=auto
+/dev/block/tee       /tee                 ext4      noatime,nosuid,nodev,nodelalloc,nomblk_io_submit,errors=panic    wait,check
diff --git a/p200_2G/fstab.verity.amlogic b/p200_2G/fstab.verity.amlogic
index bc91cb9..91d8866 100755
--- a/p200_2G/fstab.verity.amlogic
+++ b/p200_2G/fstab.verity.amlogic
@@ -12,3 +12,4 @@
 /dev/block/loop     auto                loop      defaults                                  voldmanaged=loop:auto
 # Add for zram. zramsize can be in numeric (byte) , in percent or auto (detect by the system)
 /dev/block/zram0     /swap_zram0             swap      defaults                             wait,zramsize=auto
+/dev/block/tee       /tee                 ext4      noatime,nosuid,nodev,nodelalloc,nomblk_io_submit,errors=panic    wait,check
diff --git a/p200_2G/init.amlogic.board.rc b/p200_2G/init.amlogic.board.rc
index 9af520d..6a665db 100644
--- a/p200_2G/init.amlogic.board.rc
+++ b/p200_2G/init.amlogic.board.rc
@@ -35,10 +35,11 @@ on boot
     # chmod 0666 /dev/ge2d
     chmod 666 /dev/cec
     chmod 0666 /dev/opteearmtz00
-    mkdir  /data/tee
+    chmod 0666 /dev/tee0
 
 on fs
-
+on post-fs-data
+   mkdir  /data/tee
 service wpa_supplicant /system/bin/wpa_supplicant \
     -iwlan0 -Dnl80211 -c/data/misc/wifi/wpa_supplicant.conf \
     -e/data/misc/wifi/entropy.bin \
@@ -72,5 +73,5 @@ service p2p_supplicant /system/bin/wpa_supplicant \
 service tee_supplicant /system/bin/tee-supplicant
     class main
     oneshot
-    seclabel u:r:te
+    seclabel u:r:tee:s0
 
diff --git a/p200_2G/overlay/frameworks/base/core/res/res/values/config.xml b/p200_2G/overlay/frameworks/base/core/res/res/values/config.xml
index e9d1225..c1d525e 100644
--- a/p200_2G/overlay/frameworks/base/core/res/res/values/config.xml
+++ b/p200_2G/overlay/frameworks/base/core/res/res/values/config.xml
@@ -92,4 +92,6 @@
         <item>com.google.android.gms</item>
         <item>com.android.location.fused</item>
     </string-array>
+    <!--  Maximum number of supported users -->
+    <integer name="config_multiuserMaximumUsers">2</integer>
 </resources>
diff --git a/p200_2G/p200_2G.mk b/p200_2G/p200_2G.mk
index eb4b443..a28e66f 100644
--- a/p200_2G/p200_2G.mk
+++ b/p200_2G/p200_2G.mk
@@ -193,8 +193,9 @@ PRODUCT_LOCALES := en_US en_AU en_IN fr_FR it_IT es_ES et_EE de_DE nl_NL cs_CZ p
 #                                                PPPOE
 #
 #################################################################################
-
+ifneq ($(TARGET_BUILD_GOOGLE_ATV), true)
 BUILD_WITH_PPPOE := true
+endif
 
 ifeq ($(BUILD_WITH_PPPOE),true)
 PRODUCT_PACKAGES += \
@@ -209,7 +210,6 @@ PRODUCT_PACKAGES += \
 PRODUCT_PROPERTY_OVERRIDES += \
     ro.platform.has.pppoe=true
 endif
-
 #################################################################################
 #
 #                                                DEFAULT LOWMEMORYKILLER CONFIG
diff --git a/p200_2G/system.prop b/p200_2G/system.prop
index 14a3044..abdd6ca 100644
--- a/p200_2G/system.prop
+++ b/p200_2G/system.prop
@@ -40,7 +40,6 @@ media.amplayer.enable=true
 media.amsuperplayer.m4aplayer=STAGEFRIGHT_PLAYER
 media.amsuperplayer.defplayer=PV_PLAYER
 media.amplayer.thumbnail=true
-media.amplayer.widevineenable=false
 media.amplayer.dsource4local=1
 media.amplayer.startmode=true
 media.amplayer.dropwaitxms=100
@@ -78,7 +77,7 @@ persist.fw.force_adoptable=true
 
 #add livhls,libcurl as default hls
 media.libplayer.curlenable=true
-media.libplayer.modules=vhls_mod,dash_mod,curl_mod,prhls_mod,vm_mod
+media.libplayer.modules=vhls_mod,dash_mod,curl_mod,prhls_mod,vm_mod,bluray_mod
 
 
 #Hdmi In
diff --git a/p201/device.mk b/p201/device.mk
index 727d8c0..9f83f10 100644
--- a/p201/device.mk
+++ b/p201/device.mk
@@ -29,6 +29,10 @@ PRODUCT_COPY_FILES += \
     device/amlogic/p201/files/mesondisplay.cfg:system/etc/mesondisplay.cfg \
     frameworks/native/data/etc/android.hardware.hdmi.cec.xml:system/etc/permissions/android.hardware.hdmi.cec.xml
 
+ifeq ($(USE_MEDIACODEC_SECURE), true)
+PRODUCT_COPY_FILES += device/amlogic/p212/files/media_codecs_secure.xml:system/etc/media_codecs_secure.xml
+endif
+
 # remote IME config file
 PRODUCT_COPY_FILES += \
     device/amlogic/p201/files/remote.conf:system/etc/remote.conf \
diff --git a/p201/files/media_codecs.xml b/p201/files/media_codecs.xml
index a6de028..d1d34fb 100644
--- a/p201/files/media_codecs.xml
+++ b/p201/files/media_codecs.xml
@@ -85,15 +85,6 @@ Only the three quirks included above are recognized at this point:
             <Limit name="bitrate" range="1-300000000" />
             <Feature name="adaptive-playback" />
         </MediaCodec>
-        <MediaCodec name="OMX.amlogic.hevc.decoder.awesome.secure" type="video/hevc" >
-            <Limit name="size" min="64x64" max="3840x2160" />
-            <Limit name="alignment" value="2x2" />
-            <Limit name="block-size" value="16x16" />
-            <Limit name="blocks-per-second" min="1" max="972000" />
-            <Limit name="bitrate" range="1-300000000" />
-            <Feature name="adaptive-playback" />
-            <Feature name="secure-playback" required="true" />
-        </MediaCodec>
         <MediaCodec name="OMX.amlogic.avc.decoder.awesome" type="video/avc" >
             <Limit name="size" min="64x64" max="3840x2160" />
             <Limit name="alignment" value="2x2" />
@@ -102,15 +93,6 @@ Only the three quirks included above are recognized at this point:
             <Limit name="bitrate" range="1-300000000" />
             <Feature name="adaptive-playback" />
         </MediaCodec>
-        <MediaCodec name="OMX.amlogic.avc.decoder.awesome.secure" type="video/avc" >
-            <Limit name="size" min="64x64" max="3840x2160" />
-            <Limit name="alignment" value="2x2" />
-            <Limit name="block-size" value="16x16" />
-            <Limit name="blocks-per-second" min="1" max="972000" />
-            <Limit name="bitrate" range="1-300000000" />
-            <Feature name="adaptive-playback" />
-            <Feature name="secure-playback" required="true" />
-        </MediaCodec>
         <MediaCodec name="OMX.amlogic.mpeg4.decoder.awesome" type="video/mp4v-es" >
             <Limit name="size" min="64x64" max="1920x1088" />
             <Limit name="alignment" value="2x2" />
diff --git a/p201/files/media_codecs_secure.xml b/p201/files/media_codecs_secure.xml
new file mode 100644
index 0000000..375557a
--- /dev/null
+++ b/p201/files/media_codecs_secure.xml
@@ -0,0 +1,43 @@
+<?xml version="1.0" encoding="utf-8" ?>
+<!-- Copyright (C) 2012 The Android Open Source Project
+
+     Licensed under the Apache License, Version 2.0 (the "License");
+     you may not use this file except in compliance with the License.
+     You may obtain a copy of the License at
+
+          http://www.apache.org/licenses/LICENSE-2.0
+
+     Unless required by applicable law or agreed to in writing, software
+     distributed under the License is distributed on an "AS IS" BASIS,
+     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+     See the License for the specific language governing permissions and
+     limitations under the License.
+-->
+
+
+
+<MediaCodecs>
+    <Decoders>
+        <MediaCodec name="OMX.amlogic.hevc.decoder.awesome.secure" type="video/hevc" >
+            <Limit name="size" min="64x64" max="3840x2160" />
+            <Limit name="alignment" value="2x2" />
+            <Limit name="block-size" value="16x16" />
+            <Limit name="blocks-per-second" min="1" max="972000" />
+            <Limit name="bitrate" range="1-300000000" />
+            <Feature name="adaptive-playback" />
+            <Feature name="secure-playback" required="true" />
+            <Feature name="tunneled-playback" />
+	    <Limit name="concurrent-instances" max="1" />
+        </MediaCodec>
+        <MediaCodec name="OMX.amlogic.avc.decoder.awesome.secure" type="video/avc" >
+            <Limit name="size" min="64x64" max="3840x2160" />
+            <Limit name="alignment" value="2x2" />
+            <Limit name="block-size" value="16x16" />
+            <Limit name="blocks-per-second" min="1" max="972000" />
+            <Limit name="bitrate" range="1-300000000" />
+            <Feature name="adaptive-playback" />
+            <Feature name="secure-playback" required="true" />
+	    <Limit name="concurrent-instances" max="1" />
+        </MediaCodec>
+    </Decoders>
+</MediaCodecs>
diff --git a/p201/fstab.amlogic b/p201/fstab.amlogic
index 31e8cf3..95871b1 100755
--- a/p201/fstab.amlogic
+++ b/p201/fstab.amlogic
@@ -13,3 +13,4 @@
 /dev/block/loop     auto                loop      defaults                                  voldmanaged=loop:auto
 # Add for zram. zramsize can be in numeric (byte) , in percent or auto (detect by the system)
 /dev/block/zram0     /swap_zram0             swap      defaults                             wait,zramsize=auto
+/dev/block/tee       /tee                 ext4      noatime,nosuid,nodev,nodelalloc,nomblk_io_submit,errors=panic    wait,check
diff --git a/p201/fstab.verity.amlogic b/p201/fstab.verity.amlogic
index 79d5a6b..bd9b22e 100755
--- a/p201/fstab.verity.amlogic
+++ b/p201/fstab.verity.amlogic
@@ -12,3 +12,4 @@
 /dev/block/loop     auto                loop      defaults                                  voldmanaged=loop:auto
 # Add for zram. zramsize can be in numeric (byte) , in percent or auto (detect by the system)
 /dev/block/zram0     /swap_zram0             swap      defaults                             wait,zramsize=auto
+/dev/block/tee       /tee                 ext4      noatime,nosuid,nodev,nodelalloc,nomblk_io_submit,errors=panic    wait,check
diff --git a/p201/init.amlogic.board.rc b/p201/init.amlogic.board.rc
index 1de328a..8877400 100644
--- a/p201/init.amlogic.board.rc
+++ b/p201/init.amlogic.board.rc
@@ -35,10 +35,12 @@ on boot
     # chmod 0666 /dev/ge2d
     chmod 666 /dev/cec
     chmod 0666 /dev/opteearmtz00
-    mkdir  /data/tee
+    chmod 0666 /dev/tee0
     mount debugfs debugfs /sys/kernel/debug mode=755
 
 on fs
+on post-fs-data
+   mkdir  /data/tee
 
 service wpa_supplicant /system/bin/wpa_supplicant \
     -iwlan0 -Dnl80211 -c/data/misc/wifi/wpa_supplicant.conf \
@@ -76,5 +78,5 @@ service p2p_supplicant /system/bin/wpa_supplicant \
 service tee_supplicant /system/bin/tee-supplicant
     class main
     oneshot
-    seclabel u:r:tee_supplicant:s0
+    seclabel u:r:tee:s0
 
diff --git a/p201/overlay/frameworks/base/core/res/res/values/config.xml b/p201/overlay/frameworks/base/core/res/res/values/config.xml
index e9d1225..c1d525e 100644
--- a/p201/overlay/frameworks/base/core/res/res/values/config.xml
+++ b/p201/overlay/frameworks/base/core/res/res/values/config.xml
@@ -92,4 +92,6 @@
         <item>com.google.android.gms</item>
         <item>com.android.location.fused</item>
     </string-array>
+    <!--  Maximum number of supported users -->
+    <integer name="config_multiuserMaximumUsers">2</integer>
 </resources>
diff --git a/p201/p201.mk b/p201/p201.mk
index 8bfc976..6103b69 100644
--- a/p201/p201.mk
+++ b/p201/p201.mk
@@ -62,6 +62,29 @@ PRODUCT_AML_SECUREBOOT_SIGNBOOTLOADER := $(PRODUCT_AML_SECUREBOOT_SIGNTOOL) --bo
 PRODUCT_AML_SECUREBOOT_SIGNIMAGE := $(PRODUCT_AML_SECUREBOOT_SIGNTOOL) --imgsig \
 					--amluserkey $(PRODUCT_AML_SECUREBOOT_USERKEY)
 
+########################################################################
+#
+#                           ATV
+#
+########################################################################
+ifeq ($(BOARD_COMPILE_ATV),true)
+BOARD_COMPILE_CTS := true
+TARGET_BUILD_GOOGLE_ATV:= true
+endif
+########################################################################
+
+########################################################################
+#
+#                           CTS
+#
+########################################################################
+ifeq ($(BOARD_COMPILE_CTS),true)
+BOARD_WIDEVINE_OEMCRYPTO_LEVEL := 1
+BOARD_PLAYREADY_LEVEL := 1
+TARGET_BUILD_CTS:= true
+TARGET_BUILD_NETFLIX:= true
+endif
+########################################################################
 
 #########################################################################
 #
@@ -198,9 +221,9 @@ PRODUCT_LOCALES := en_US en_AU en_IN fr_FR it_IT es_ES et_EE de_DE nl_NL cs_CZ p
 #                                                PPPOE
 #
 #################################################################################
-
+ifneq ($(TARGET_BUILD_GOOGLE_ATV), true)
 BUILD_WITH_PPPOE := true
-
+endif
 ifeq ($(BUILD_WITH_PPPOE),true)
 PRODUCT_PACKAGES += \
     PPPoE \
@@ -226,7 +249,11 @@ BOARD_USES_USB_PM := true
 PRODUCT_COPY_FILES += \
     $(LOCAL_PATH)/Third_party_apk_camera.xml:system/etc/Third_party_apk_camera.xml \
 
-TARGET_BUILD_CTS:= false
-TARGET_BUILD_GOOGLE_ATV:= false
-TARGET_BUILD_NETFLIX:= false
 include device/amlogic/common/software.mk
+ifeq ($(TARGET_BUILD_GOOGLE_ATV),true)
+PRODUCT_PROPERTY_OVERRIDES += \
+    ro.sf.lcd_density=320
+else
+PRODUCT_PROPERTY_OVERRIDES += \
+    ro.sf.lcd_density=240
+endif
diff --git a/p201/system.prop b/p201/system.prop
index 1065bc1..6b19f19 100644
--- a/p201/system.prop
+++ b/p201/system.prop
@@ -10,8 +10,6 @@ ro.camera.preview.UseMJPEG=1
 #if wifi Only
 ro.radio.noril=false
 
-ro.sf.lcd_density=240
-
 #if need pppoe
 ro.net.pppoe=true
 
@@ -77,7 +75,7 @@ persist.fw.force_adoptable=true
 
 #add livhls,libcurl as default hls
 media.libplayer.curlenable=true
-media.libplayer.modules=vhls_mod,dash_mod,curl_mod,prhls_mod,vm_mod
+media.libplayer.modules=vhls_mod,dash_mod,curl_mod,prhls_mod,vm_mod,bluray_mod
 
 
 #Hdmi In
diff --git a/p212/BoardConfig.mk b/p212/BoardConfig.mk
index 95968f7..3413f7e 100644
--- a/p212/BoardConfig.mk
+++ b/p212/BoardConfig.mk
@@ -60,7 +60,7 @@ BOARD_HAVE_FLASHLIGHT := false
 BOARD_HAVE_HW_JPEGENC := true
 
 TARGET_USERIMAGES_USE_EXT4 := true
-BOARD_SYSTEMIMAGE_PARTITION_SIZE := 805306368
+BOARD_SYSTEMIMAGE_PARTITION_SIZE := 1073741824
 BOARD_USERDATAIMAGE_PARTITION_SIZE := 576716800
 BOARD_CACHEIMAGE_PARTITION_SIZE := 69206016
 BOARD_CACHEIMAGE_FILE_SYSTEM_TYPE := ext4
diff --git a/p212/device.mk b/p212/device.mk
index 67245c1..cf1ed59 100644
--- a/p212/device.mk
+++ b/p212/device.mk
@@ -29,6 +29,10 @@ PRODUCT_COPY_FILES += \
     device/amlogic/p212/files/mesondisplay.cfg:system/etc/mesondisplay.cfg \
     frameworks/native/data/etc/android.hardware.hdmi.cec.xml:system/etc/permissions/android.hardware.hdmi.cec.xml
 
+ifeq ($(USE_MEDIACODEC_SECURE), true)
+PRODUCT_COPY_FILES += device/amlogic/p212/files/media_codecs_secure.xml:system/etc/media_codecs_secure.xml
+endif
+
 # remote IME config file
 PRODUCT_COPY_FILES += \
     device/amlogic/p212/files/remote.conf:system/etc/remote.conf \
diff --git a/p212/files/media_codecs.xml b/p212/files/media_codecs.xml
index b720f93..9a5d803 100644
--- a/p212/files/media_codecs.xml
+++ b/p212/files/media_codecs.xml
@@ -86,17 +86,6 @@ Only the three quirks included above are recognized at this point:
             <Feature name="adaptive-playback" />
             <Limit name="concurrent-instances" max="1" />
         </MediaCodec>
-        <MediaCodec name="OMX.amlogic.hevc.decoder.awesome.secure" type="video/hevc" >
-            <Limit name="size" min="64x64" max="3840x2160" />
-            <Limit name="alignment" value="2x2" />
-            <Limit name="block-size" value="16x16" />
-            <Limit name="blocks-per-second" min="1" max="972000" />
-            <Limit name="bitrate" range="1-300000000" />
-            <Feature name="adaptive-playback" />
-            <Feature name="secure-playback" required="true" />
-            <Feature name="tunneled-playback" />
-	    <Limit name="concurrent-instances" max="1" />
-        </MediaCodec>
         <MediaCodec name="OMX.amlogic.avc.decoder.awesome" type="video/avc" >
             <Limit name="size" min="64x64" max="3840x2160" />
             <Limit name="alignment" value="2x2" />
@@ -106,16 +95,6 @@ Only the three quirks included above are recognized at this point:
             <Feature name="adaptive-playback" />
             <Limit name="concurrent-instances" max="1" />
         </MediaCodec>
-        <MediaCodec name="OMX.amlogic.avc.decoder.awesome.secure" type="video/avc" >
-            <Limit name="size" min="64x64" max="3840x2160" />
-            <Limit name="alignment" value="2x2" />
-            <Limit name="block-size" value="16x16" />
-            <Limit name="blocks-per-second" min="1" max="972000" />
-            <Limit name="bitrate" range="1-300000000" />
-            <Feature name="adaptive-playback" />
-            <Feature name="secure-playback" required="true" />
-	    <Limit name="concurrent-instances" max="1" />
-        </MediaCodec>
         <MediaCodec name="OMX.amlogic.mpeg4.decoder.awesome" type="video/mp4v-es" >
             <Limit name="size" min="64x64" max="1920x1088" />
             <Limit name="alignment" value="2x2" />
diff --git a/p212/files/media_codecs_secure.xml b/p212/files/media_codecs_secure.xml
new file mode 100644
index 0000000..6eaf0eb
--- /dev/null
+++ b/p212/files/media_codecs_secure.xml
@@ -0,0 +1,54 @@
+<?xml version="1.0" encoding="utf-8" ?>
+<!-- Copyright (C) 2012 The Android Open Source Project
+
+     Licensed under the Apache License, Version 2.0 (the "License");
+     you may not use this file except in compliance with the License.
+     You may obtain a copy of the License at
+
+          http://www.apache.org/licenses/LICENSE-2.0
+
+     Unless required by applicable law or agreed to in writing, software
+     distributed under the License is distributed on an "AS IS" BASIS,
+     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+     See the License for the specific language governing permissions and
+     limitations under the License.
+-->
+
+
+
+<MediaCodecs>
+    <Decoders>
+        <MediaCodec name="OMX.amlogic.hevc.decoder.awesome.secure" type="video/hevc" >
+            <Limit name="size" min="64x64" max="3840x2160" />
+            <Limit name="alignment" value="2x2" />
+            <Limit name="block-size" value="16x16" />
+            <Limit name="blocks-per-second" min="1" max="972000" />
+            <Limit name="bitrate" range="1-300000000" />
+            <Feature name="adaptive-playback" />
+            <Feature name="secure-playback" required="true" />
+            <Feature name="tunneled-playback" />
+	    <Limit name="concurrent-instances" max="1" />
+        </MediaCodec>
+        <MediaCodec name="OMX.amlogic.avc.decoder.awesome.secure" type="video/avc" >
+            <Limit name="size" min="64x64" max="3840x2160" />
+            <Limit name="alignment" value="2x2" />
+            <Limit name="block-size" value="16x16" />
+            <Limit name="blocks-per-second" min="1" max="972000" />
+            <Limit name="bitrate" range="1-300000000" />
+            <Feature name="adaptive-playback" />
+            <Feature name="secure-playback" required="true" />
+	    <Limit name="concurrent-instances" max="1" />
+        </MediaCodec>
+        <MediaCodec name="OMX.amlogic.vp9.decoder.awesome.secure" type="video/x-vnd.on2.vp9" >
+            <Limit name="size" min="64x64" max="3840x2160" />
+            <Limit name="alignment" value="2x2" />
+            <Limit name="block-size" value="16x16" />
+            <Limit name="blocks-per-second" min="1" max="972000" />
+            <Limit name="bitrate" range="1-300000000" />
+            <Feature name="adaptive-playback" />
+            <Feature name="secure-playback" required="true" />
+            <Feature name="tunneled-playback" />
+	    <Limit name="concurrent-instances" max="1" />
+        </MediaCodec>
+    </Decoders>
+</MediaCodecs>
diff --git a/p212/files/remote.conf b/p212/files/remote.conf
index e1aa3ef..a558563 100644
--- a/p212/files/remote.conf
+++ b/p212/files/remote.conf
@@ -170,98 +170,3 @@ custom_begin
 				0xcd 121
 		key_end
 custom_end
-
-custom_begin
-#7748remote
-factory_infcode = 2
-factory_code	= 0x77480001
-
-key_begin
-    0x0a 116     #power
-    0x0f 176     #settings
-    0x9  119     #pause
-    0x4  123     #next
-    0x8  122     #prev
-    0x11 2       #1
-    0x12 3       #2
-    0x13 4       #3
-    0x14 5       #4
-    0x15 6       #5
-    0x16 7       #6
-    0x17 8       #7
-    0x18 9       #8
-    0x19 10      #9
-    0x4d 227     #*
-    0x10 11      #0
-    0x20 14      #DEL
-    0x1d 52      #dot. 
-    0x1b 228     ##
-    0x40 412     #apps/info
-    0x05 102     #home
-    0x1c 1       #back
-    0x07 139     #menu
-    0x0 103      #up
-    0x1 108      #down  
-    0x2 106      #right
-    0x3 105      #left
-    0x1f 232     #ok
-    0x30 127     #search
-    0xb 114      #volume_dowm
-    0xc 113      #mute 
-    0x6 115      #volume_up
-    0xe 405      #red 
-    0x1e 406     #green
-    0x4c 407     #yellow 
-    0x44 408     #blue
-key_end
-custom_end
-
-
-custom_begin
-#zte_remote
-factory_infcode = 3
-factory_code	=  0xff000001
-
-key_begin
-		0x56 102      ;HOME
-		0x4d 139      ;MENU
-		0x4c 158      ;BACK
-		0x49 97	      ;DPAD_CENTER
-		0x0d 607      ;PAGE_UP
-		0x13 608      ;PAGE_DOWN
-		0x48 105      ;DPAD_LEFT
-		0x47 103      ;DPAD_UP
-		0x4a 106      ;DPAD_RIGHT
-		0x4b 108      ;DPAD_DOWN
-		0x00 11	      ;0
-		0x01 2        ;1
-		0x02 3        ;2
-		0x03 4        ;3
-		0x04 5        ;4
-		0x05 6        ;5
-		0x06 7        ;6
-		0x07 8        ;7
-		0x08 9        ;8
-		0x09 10	      ;9
-		0x0a 177      ;LANGUAGE_SWITCH
-		0x16 14	      ;DEL
-		0x1d 141      ;SETTINGS
-		0x40 116      ;POWER	WAKE
-		0x0b 402      ;CHANNEL_UP
-		0x15 403      ;CHANNEL_DOWN
-		0x0c 115      ;VOLUME_UP
-		0x18 114      ;VOLUME_DOWN
-		0x12 113      ;VOLUME_MUTE
-		0x1c 605      ;MUSIC
-		0x44 119      ;MEDIA_PLAY_PAUSE
-		0x46 120      ;MEDIA_FAST_FORWARD
-		0x43 121      ;MEDIA_REWIND
-		0x1e 611      ;INFO
-		0x45 128      ;MEDIA_STOP
-		0x11 612      ;  SEEK
-		0x4e 600      ;  RED
-		0x4f 601      ;  GREEN
-		0x50 602      ;  YELLOW
-		0x51 603      ;  BLUE 
-key_end
-custom_end
\ No newline at end of file
diff --git a/p212/fstab.amlogic b/p212/fstab.amlogic
index 5e70018..80195ed 100644
--- a/p212/fstab.amlogic
+++ b/p212/fstab.amlogic
@@ -6,7 +6,6 @@
 /dev/block/system     /system             ext4      ro                                                    wait
 /dev/block/data       /data               ext4      noatime,nosuid,nodev,nodelalloc,nomblk_io_submit,errors=panic    wait,check,encryptable=/dev/block/misc
 /dev/block/cache      /cache              ext4      noatime,nosuid,nodev,nodelalloc,nomblk_io_submit,errors=panic    wait,check
-/dev/block/ghost      /ghost              ext4      noatime,nosuid,nodev,nodelalloc,nomblk_io_submit,errors=panic    wait,check
 /devices/*.sd/mmc_host/sd*  auto                vfat      defaults                       voldmanaged=sdcard1:auto,noemulatedsd
 /devices/*dwc3/xhci-hcd.0.auto/usb?/*/host*/target*/block/sd*  auto             vfat      defaults                       voldmanaged=udisk0:auto
 /devices/*dwc3/xhci-hcd.0.auto/usb?/*/host*/target*/block/sd*  auto             vfat      defaults                       voldmanaged=udisk1:auto
@@ -14,3 +13,4 @@
 /dev/block/loop     auto                loop      defaults                                  voldmanaged=loop:auto
 # Add for zram. zramsize can be in numeric (byte) , in percent or auto (detect by the system)
 /dev/block/zram0     /swap_zram0             swap      defaults                             wait,zramsize=auto
+/dev/block/tee       /tee                 ext4      noatime,nosuid,nodev,nodelalloc,nomblk_io_submit,errors=panic    wait,check
diff --git a/p212/fstab.verity.amlogic b/p212/fstab.verity.amlogic
index bc91cb9..91d8866 100644
--- a/p212/fstab.verity.amlogic
+++ b/p212/fstab.verity.amlogic
@@ -12,3 +12,4 @@
 /dev/block/loop     auto                loop      defaults                                  voldmanaged=loop:auto
 # Add for zram. zramsize can be in numeric (byte) , in percent or auto (detect by the system)
 /dev/block/zram0     /swap_zram0             swap      defaults                             wait,zramsize=auto
+/dev/block/tee       /tee                 ext4      noatime,nosuid,nodev,nodelalloc,nomblk_io_submit,errors=panic    wait,check
diff --git a/p212/init.amlogic.board.rc b/p212/init.amlogic.board.rc
index 85f33ac..97e6cc7 100644
--- a/p212/init.amlogic.board.rc
+++ b/p212/init.amlogic.board.rc
@@ -10,11 +10,6 @@ on early-init
     insmod /boot/optee.ko
     insmod /boot/optee_armtz.ko
 
-on aml-firstboot-init
-    #format ghost patrition if not exist
-    wait /dev/block/ghost 20
-    confirm_formated ext4 /dev/block/ghost /ghost
-
 on init
 
 on post-fs-data
@@ -40,6 +35,7 @@ on boot
     # chmod 0666 /dev/ge2d
     chmod 666 /dev/cec
     chmod 0666 /dev/opteearmtz00
+    chmod 0666 /dev/tee0
     mount debugfs debugfs /sys/kernel/debug mode=755
 
 on fs
@@ -80,5 +76,5 @@ service p2p_supplicant /system/bin/wpa_supplicant \
 service tee_supplicant /system/bin/tee-supplicant
 		class main
 		oneshot
-		seclabel u:r:tee_supplicant:s0
+		seclabel u:r:tee:s0
 
diff --git a/p212/overlay/frameworks/base/core/res/res/values/config.xml b/p212/overlay/frameworks/base/core/res/res/values/config.xml
index e9d1225..c1d525e 100644
--- a/p212/overlay/frameworks/base/core/res/res/values/config.xml
+++ b/p212/overlay/frameworks/base/core/res/res/values/config.xml
@@ -92,4 +92,6 @@
         <item>com.google.android.gms</item>
         <item>com.android.location.fused</item>
     </string-array>
+    <!--  Maximum number of supported users -->
+    <integer name="config_multiuserMaximumUsers">2</integer>
 </resources>
diff --git a/p212/p212.mk b/p212/p212.mk
index c2d3f75..f2d323d 100644
--- a/p212/p212.mk
+++ b/p212/p212.mk
@@ -61,7 +61,29 @@ PRODUCT_AML_SECUREBOOT_SIGNBOOTLOADER := $(PRODUCT_AML_SECUREBOOT_SIGNTOOL) --bo
 PRODUCT_AML_SECUREBOOT_SIGNIMAGE := $(PRODUCT_AML_SECUREBOOT_SIGNTOOL) --imgsig \
 					--amluserkey $(PRODUCT_AML_SECUREBOOT_USERKEY)
 
+########################################################################
+#
+#                           ATV
+#
+########################################################################
+ifeq ($(BOARD_COMPILE_ATV),true)
+BOARD_COMPILE_CTS := true
+TARGET_BUILD_GOOGLE_ATV:= true
+endif
+########################################################################
 
+########################################################################
+#
+#                           CTS
+#
+########################################################################
+ifeq ($(BOARD_COMPILE_CTS),true)
+BOARD_WIDEVINE_OEMCRYPTO_LEVEL := 1
+BOARD_PLAYREADY_LEVEL := 1
+TARGET_BUILD_CTS:= true
+TARGET_BUILD_NETFLIX:= true
+endif
+########################################################################
 
 #########################################################################
 #
@@ -102,7 +124,7 @@ PRODUCT_DEFAULT_WIFI_CHANNELS := 11
 #########################################################################
 
 BOARD_HAVE_BLUETOOTH := true
-BLUETOOTH_MODULE := AP6335
+MULTI_BLUETOOTH_SUPPORT := true
 BCM_BLUETOOTH_LPM_ENABLE := true
 include device/amlogic/common/bluetooth.mk
 
@@ -142,8 +164,10 @@ include device/amlogic/common/audio.mk
 #
 #########################################################################
 
+ifneq ($(TARGET_BUILD_CTS), true)
 PRODUCT_COPY_FILES += \
     frameworks/native/data/etc/android.hardware.camera.front.xml:system/etc/permissions/android.hardware.camera.front.xml
+endif
 
 
 
@@ -195,8 +219,9 @@ PRODUCT_LOCALES := en_US en_AU en_IN fr_FR it_IT es_ES et_EE de_DE nl_NL cs_CZ p
 #                                                PPPOE
 #
 #################################################################################
-
+ifneq ($(TARGET_BUILD_GOOGLE_ATV), true)
 BUILD_WITH_PPPOE := true
+endif
 
 ifeq ($(BUILD_WITH_PPPOE),true)
 PRODUCT_PACKAGES += \
@@ -224,9 +249,6 @@ BOARD_USES_USB_PM := true
 PRODUCT_COPY_FILES += \
     $(LOCAL_PATH)/Third_party_apk_camera.xml:system/etc/Third_party_apk_camera.xml \
 
-TARGET_BUILD_CTS:= false
-TARGET_BUILD_GOOGLE_ATV:= false
-TARGET_BUILD_NETFLIX:= false
 include device/amlogic/common/software.mk
 ifeq ($(TARGET_BUILD_GOOGLE_ATV),true)
 PRODUCT_PROPERTY_OVERRIDES += \
@@ -234,4 +256,4 @@ PRODUCT_PROPERTY_OVERRIDES += \
 else
 PRODUCT_PROPERTY_OVERRIDES += \
     ro.sf.lcd_density=240
-endif
\ No newline at end of file
+endif
diff --git a/p212/recovery/init.recovery.amlogic.rc b/p212/recovery/init.recovery.amlogic.rc
index 00eae56..5c4ece4 100644
--- a/p212/recovery/init.recovery.amlogic.rc
+++ b/p212/recovery/init.recovery.amlogic.rc
@@ -4,8 +4,6 @@ on early-init
 on init
 
 on fs
-    mkdir /ghost
-    chmod 777 /ghost
 
 on boot
 service console /sbin/sh
diff --git a/p212/recovery/recovery.fstab b/p212/recovery/recovery.fstab
index bf453a2..15148a4 100644
--- a/p212/recovery/recovery.fstab
+++ b/p212/recovery/recovery.fstab
@@ -7,6 +7,5 @@ boot        /boot       mtd    defaults    defaults
 /dev/block/system       /system ext4    defaults    defaults
 /dev/block/cache        /cache  ext4    defaults    defaults
 /dev/block/data         /data   ext4    defaults    defaults
-/dev/block/ghost        /ghost  ext4    defaults    defaults
 /dev/block/mmcblk#p#    /sdcard vfat    defaults    defaults
 /dev/block/sd##         /udisk  auto    defaults    defaults
diff --git a/p212/system.prop b/p212/system.prop
index 0db8d76..2a2d02c 100644
--- a/p212/system.prop
+++ b/p212/system.prop
@@ -8,8 +8,9 @@ ro.camera.preview.LimitedRate=1280x720x30,640x480x30,320x240x28
 ro.camera.preview.UseMJPEG=1
 
 #for bt auto connect
-ro.autoconnectbt.macprefix=DC:2C:26
-ro.autoconnectbt.btclass=2540
+ro.autoconnectbt.isneed=true
+ro.autoconnectbt.macprefix=00:CD:FF
+ro.autoconnectbt.btclass=50c
 
 #if wifi Only
 ro.radio.noril=false
@@ -79,7 +80,7 @@ persist.fw.force_adoptable=true
 
 #add livhls,libcurl as default hls
 media.libplayer.curlenable=true
-media.libplayer.modules=vhls_mod,dash_mod,curl_mod,prhls_mod,vm_mod
+media.libplayer.modules=vhls_mod,dash_mod,curl_mod,prhls_mod,vm_mod,bluray_mod
 
 
 #Hdmi In
@@ -113,7 +114,6 @@ ro.nrdp.modelgroup=S905
 #ubootenv.var.ipaddr=
 #ubootenv.var.gatewayip=
 ubootenv.var.outputmode=
-ubootenv.var.uimode=
 #ubootenv.var.screenratio=
 #ubootenv.var.oobeflag=
 ubootenv.var.480p_x=
diff --git a/p212/upgrade/aml_upgrade_package.conf b/p212/upgrade/aml_upgrade_package.conf
index b4855b6..c84e44b 100644
--- a/p212/upgrade/aml_upgrade_package.conf
+++ b/p212/upgrade/aml_upgrade_package.conf
@@ -9,7 +9,7 @@ file="platform.conf"        main_type= "conf"          sub_type="platform"
 file="aml_sdc_burn.ini"     main_type="ini"           sub_type="aml_sdc_burn"
 #file="meson_target.dtd" main_type="dtd"           sub_type="meson_target"
 file="meson.dtb"        main_type="dtb"           sub_type="meson1"
-#file="manifest.xml"         main_type="xml"           sub_type="manifest"
+file="manifest.xml"         main_type="xml"           sub_type="manifest"
 
 [LIST_VERIFY]
 #partition images needed verify
diff --git a/p230/device.mk b/p230/device.mk
index ab282e3..ef2ff46 100644
--- a/p230/device.mk
+++ b/p230/device.mk
@@ -29,6 +29,10 @@ PRODUCT_COPY_FILES += \
     device/amlogic/p230/files/mesondisplay.cfg:system/etc/mesondisplay.cfg \
     frameworks/native/data/etc/android.hardware.hdmi.cec.xml:system/etc/permissions/android.hardware.hdmi.cec.xml
 
+ifeq ($(USE_MEDIACODEC_SECURE), true)
+PRODUCT_COPY_FILES += device/amlogic/p212/files/media_codecs_secure.xml:system/etc/media_codecs_secure.xml
+endif
+
 # remote IME config file
 PRODUCT_COPY_FILES += \
     device/amlogic/p230/files/remote.conf:system/etc/remote.conf \
diff --git a/p230/files/media_codecs.xml b/p230/files/media_codecs.xml
index b720f93..9a5d803 100644
--- a/p230/files/media_codecs.xml
+++ b/p230/files/media_codecs.xml
@@ -86,17 +86,6 @@ Only the three quirks included above are recognized at this point:
             <Feature name="adaptive-playback" />
             <Limit name="concurrent-instances" max="1" />
         </MediaCodec>
-        <MediaCodec name="OMX.amlogic.hevc.decoder.awesome.secure" type="video/hevc" >
-            <Limit name="size" min="64x64" max="3840x2160" />
-            <Limit name="alignment" value="2x2" />
-            <Limit name="block-size" value="16x16" />
-            <Limit name="blocks-per-second" min="1" max="972000" />
-            <Limit name="bitrate" range="1-300000000" />
-            <Feature name="adaptive-playback" />
-            <Feature name="secure-playback" required="true" />
-            <Feature name="tunneled-playback" />
-	    <Limit name="concurrent-instances" max="1" />
-        </MediaCodec>
         <MediaCodec name="OMX.amlogic.avc.decoder.awesome" type="video/avc" >
             <Limit name="size" min="64x64" max="3840x2160" />
             <Limit name="alignment" value="2x2" />
@@ -106,16 +95,6 @@ Only the three quirks included above are recognized at this point:
             <Feature name="adaptive-playback" />
             <Limit name="concurrent-instances" max="1" />
         </MediaCodec>
-        <MediaCodec name="OMX.amlogic.avc.decoder.awesome.secure" type="video/avc" >
-            <Limit name="size" min="64x64" max="3840x2160" />
-            <Limit name="alignment" value="2x2" />
-            <Limit name="block-size" value="16x16" />
-            <Limit name="blocks-per-second" min="1" max="972000" />
-            <Limit name="bitrate" range="1-300000000" />
-            <Feature name="adaptive-playback" />
-            <Feature name="secure-playback" required="true" />
-	    <Limit name="concurrent-instances" max="1" />
-        </MediaCodec>
         <MediaCodec name="OMX.amlogic.mpeg4.decoder.awesome" type="video/mp4v-es" >
             <Limit name="size" min="64x64" max="1920x1088" />
             <Limit name="alignment" value="2x2" />
diff --git a/p230/files/media_codecs_secure.xml b/p230/files/media_codecs_secure.xml
new file mode 100644
index 0000000..375557a
--- /dev/null
+++ b/p230/files/media_codecs_secure.xml
@@ -0,0 +1,43 @@
+<?xml version="1.0" encoding="utf-8" ?>
+<!-- Copyright (C) 2012 The Android Open Source Project
+
+     Licensed under the Apache License, Version 2.0 (the "License");
+     you may not use this file except in compliance with the License.
+     You may obtain a copy of the License at
+
+          http://www.apache.org/licenses/LICENSE-2.0
+
+     Unless required by applicable law or agreed to in writing, software
+     distributed under the License is distributed on an "AS IS" BASIS,
+     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+     See the License for the specific language governing permissions and
+     limitations under the License.
+-->
+
+
+
+<MediaCodecs>
+    <Decoders>
+        <MediaCodec name="OMX.amlogic.hevc.decoder.awesome.secure" type="video/hevc" >
+            <Limit name="size" min="64x64" max="3840x2160" />
+            <Limit name="alignment" value="2x2" />
+            <Limit name="block-size" value="16x16" />
+            <Limit name="blocks-per-second" min="1" max="972000" />
+            <Limit name="bitrate" range="1-300000000" />
+            <Feature name="adaptive-playback" />
+            <Feature name="secure-playback" required="true" />
+            <Feature name="tunneled-playback" />
+	    <Limit name="concurrent-instances" max="1" />
+        </MediaCodec>
+        <MediaCodec name="OMX.amlogic.avc.decoder.awesome.secure" type="video/avc" >
+            <Limit name="size" min="64x64" max="3840x2160" />
+            <Limit name="alignment" value="2x2" />
+            <Limit name="block-size" value="16x16" />
+            <Limit name="blocks-per-second" min="1" max="972000" />
+            <Limit name="bitrate" range="1-300000000" />
+            <Feature name="adaptive-playback" />
+            <Feature name="secure-playback" required="true" />
+	    <Limit name="concurrent-instances" max="1" />
+        </MediaCodec>
+    </Decoders>
+</MediaCodecs>
diff --git a/p230/fstab.amlogic b/p230/fstab.amlogic
index 751e0c6..80195ed 100644
--- a/p230/fstab.amlogic
+++ b/p230/fstab.amlogic
@@ -13,3 +13,4 @@
 /dev/block/loop     auto                loop      defaults                                  voldmanaged=loop:auto
 # Add for zram. zramsize can be in numeric (byte) , in percent or auto (detect by the system)
 /dev/block/zram0     /swap_zram0             swap      defaults                             wait,zramsize=auto
+/dev/block/tee       /tee                 ext4      noatime,nosuid,nodev,nodelalloc,nomblk_io_submit,errors=panic    wait,check
diff --git a/p230/fstab.verity.amlogic b/p230/fstab.verity.amlogic
index bc91cb9..91d8866 100644
--- a/p230/fstab.verity.amlogic
+++ b/p230/fstab.verity.amlogic
@@ -12,3 +12,4 @@
 /dev/block/loop     auto                loop      defaults                                  voldmanaged=loop:auto
 # Add for zram. zramsize can be in numeric (byte) , in percent or auto (detect by the system)
 /dev/block/zram0     /swap_zram0             swap      defaults                             wait,zramsize=auto
+/dev/block/tee       /tee                 ext4      noatime,nosuid,nodev,nodelalloc,nomblk_io_submit,errors=panic    wait,check
diff --git a/p230/init.amlogic.board.rc b/p230/init.amlogic.board.rc
index fbe1e20..f9a0793 100644
--- a/p230/init.amlogic.board.rc
+++ b/p230/init.amlogic.board.rc
@@ -38,9 +38,12 @@ on boot
     # chmod 0666 /dev/ge2d
     chmod 666 /dev/cec
     chmod 0666 /dev/opteearmtz00
-    mkdir  /data/tee
+    chmod 0666 /dev/tee0
+
 
 on fs
+on post-fs-data
+   mkdir  /data/tee
 
 service wpa_supplicant /system/bin/wpa_supplicant \
     -iwlan0 -Dnl80211 -c/data/misc/wifi/wpa_supplicant.conf \
@@ -75,5 +78,5 @@ service p2p_supplicant /system/bin/wpa_supplicant \
 service tee_supplicant /system/bin/tee-supplicant
 		class main
 		oneshot
-		seclabel u:r:tee_supplicant:s0
+		seclabel u:r:tee:s0
 
diff --git a/p230/overlay/frameworks/base/core/res/res/values/config.xml b/p230/overlay/frameworks/base/core/res/res/values/config.xml
index 923aa73..e000e5d 100644
--- a/p230/overlay/frameworks/base/core/res/res/values/config.xml
+++ b/p230/overlay/frameworks/base/core/res/res/values/config.xml
@@ -90,4 +90,6 @@
         <item>com.google.android.gms</item>
         <item>com.android.location.fused</item>
     </string-array>
+    <!--  Maximum number of supported users -->
+    <integer name="config_multiuserMaximumUsers">2</integer>
 </resources>
diff --git a/p230/p230.mk b/p230/p230.mk
index a08ce9e..c75e110 100644
--- a/p230/p230.mk
+++ b/p230/p230.mk
@@ -61,7 +61,29 @@ PRODUCT_AML_SECUREBOOT_SIGNBOOTLOADER := $(PRODUCT_AML_SECUREBOOT_SIGNTOOL) --bo
 PRODUCT_AML_SECUREBOOT_SIGNIMAGE := $(PRODUCT_AML_SECUREBOOT_SIGNTOOL) --imgsig \
 					--amluserkey $(PRODUCT_AML_SECUREBOOT_USERKEY)
 
+########################################################################
+#
+#                           ATV
+#
+########################################################################
+ifeq ($(BOARD_COMPILE_ATV),true)
+BOARD_COMPILE_CTS := true
+TARGET_BUILD_GOOGLE_ATV:= true
+endif
+########################################################################
 
+########################################################################
+#
+#                           CTS
+#
+########################################################################
+ifeq ($(BOARD_COMPILE_CTS),true)
+BOARD_WIDEVINE_OEMCRYPTO_LEVEL := 1
+BOARD_PLAYREADY_LEVEL := 1
+TARGET_BUILD_CTS:= true
+TARGET_BUILD_NETFLIX:= true
+endif
+########################################################################
 
 #########################################################################
 #
@@ -194,8 +216,9 @@ PRODUCT_LOCALES := en_US en_AU en_IN fr_FR it_IT es_ES et_EE de_DE nl_NL cs_CZ p
 #                                                PPPOE
 #
 #################################################################################
-
+ifneq ($(TARGET_BUILD_GOOGLE_ATV), true)
 BUILD_WITH_PPPOE := true
+endif
 
 ifeq ($(BUILD_WITH_PPPOE),true)
 PRODUCT_PACKAGES += \
@@ -210,7 +233,6 @@ PRODUCT_PACKAGES += \
 PRODUCT_PROPERTY_OVERRIDES += \
     ro.platform.has.pppoe=true
 endif
-
 #################################################################################
 #
 #                                                DEFAULT LOWMEMORYKILLER CONFIG
@@ -223,6 +245,11 @@ BOARD_USES_USB_PM := true
 PRODUCT_COPY_FILES += \
     $(LOCAL_PATH)/Third_party_apk_camera.xml:system/etc/Third_party_apk_camera.xml \
 
-TARGET_BUILD_CTS:= false
-TARGET_BUILD_GOOGLE_ATV:= false
 include device/amlogic/common/software.mk
+ifeq ($(TARGET_BUILD_GOOGLE_ATV),true)
+PRODUCT_PROPERTY_OVERRIDES += \
+    ro.sf.lcd_density=320
+else
+PRODUCT_PROPERTY_OVERRIDES += \
+    ro.sf.lcd_density=240
+endif
diff --git a/p230/system.prop b/p230/system.prop
index 63740cc..a785d14 100644
--- a/p230/system.prop
+++ b/p230/system.prop
@@ -7,11 +7,14 @@ ro.camera.preview.MaxSize=1280x720
 ro.camera.preview.LimitedRate=1280x720x30,640x480x30,320x240x28
 ro.camera.preview.UseMJPEG=1
 
+#for bt auto connect
+ro.autoconnectbt.isneed=true
+ro.autoconnectbt.macprefix=00:CD:FF
+ro.autoconnectbt.btclass=50c
+
 #if wifi Only
 ro.radio.noril=false
 
-ro.sf.lcd_density=240
-
 #if need pppoe
 ro.net.pppoe=true
 
@@ -40,7 +43,6 @@ media.amplayer.enable=true
 media.amsuperplayer.m4aplayer=STAGEFRIGHT_PLAYER
 media.amsuperplayer.defplayer=PV_PLAYER
 media.amplayer.thumbnail=true
-media.amplayer.widevineenable=false
 media.amplayer.dsource4local=1
 media.amplayer.startmode=true
 media.amplayer.dropwaitxms=100
diff --git a/p231/BoardConfig.mk b/p231/BoardConfig.mk
index 7328ebb..1fc9f92 100644
--- a/p231/BoardConfig.mk
+++ b/p231/BoardConfig.mk
@@ -84,7 +84,7 @@ TARGET_USE_BLOCK_BASE_UPGRADE := true
 TARGET_OTA_UPDATE_DTB := true
 #TARGET_RECOVERY_DISABLE_ADB_SIDELOAD := true
 
-BOARD_HAVE_BLUETOOTH_BCM := true
+#BOARD_HAVE_BLUETOOTH_BCM := true
 include device/amlogic/common/sepolicy.mk
 include device/amlogic/common/gpu/mali450-user-$(TARGET_ARCH).mk
 #MALLOC_IMPL := dlmalloc
diff --git a/p231/Kernel.mk b/p231/Kernel.mk
index 8767b2b..95ca298 100644
--- a/p231/Kernel.mk
+++ b/p231/Kernel.mk
@@ -2,7 +2,7 @@
 -include device/amlogic/common/gpu.mk
 
 USE_PREBUILT_KERNEL := false
-WIFI_MODULE := qca9377
+WIFI_MODULE := multiwifi
 
 INSTALLED_KERNEL_TARGET := $(PRODUCT_OUT)/kernel
 
@@ -47,7 +47,6 @@ $(KERNEL_OUT):
 	mkdir -p $(KERNEL_OUT)
 
 $(KERNEL_CONFIG): $(KERNEL_OUT)
-	$(shell pwd)/hardware/wifi/qualcomm/drivers/qca9377/kconfigs/cpscript.sh $(KERNEL_ROOTDIR) copy
 	$(MAKE) -C $(KERNEL_ROOTDIR) O=../$(KERNEL_OUT) ARCH=$(KERNEL_ARCH) CROSS_COMPILE=$(PREFIX_CROSS_COMPILE) $(KERNEL_DEFCONFIG)
 
 BOARD_MKBOOTIMG_ARGS := --second $(PRODUCT_OUT)/dtb.img
@@ -59,7 +58,6 @@ $(INTERMEDIATES_KERNEL): $(KERNEL_OUT) $(KERNEL_CONFIG)
 #	$(MAKE) -C $(shell pwd)/$(PRODUCT_OUT)/obj/KERNEL_OBJ M=$(shell pwd)/hardware/amlogic/thermal/ ARCH=$(KERNEL_ARCH) CROSS_COMPILE=$(PREFIX_CROSS_COMPILE) modules
 	#$(gpu-modules)
 	$(MAKE) CROSS_COMPILE=$(PREFIX_CROSS_COMPILE) -f device/amlogic/common/wifi_driver.mk $(WIFI_MODULE)
-	$(shell pwd)/hardware/wifi/qualcomm/drivers/qca9377/kconfigs/cpscript.sh $(KERNEL_ROOTDIR) recover
 	$(cp-modules)
 
 kerneltags: $(KERNEL_OUT)
diff --git a/p231/device.mk b/p231/device.mk
index 6014b5c..f56dba4 100644
--- a/p231/device.mk
+++ b/p231/device.mk
@@ -29,6 +29,10 @@ PRODUCT_COPY_FILES += \
     device/amlogic/p231/files/mesondisplay.cfg:system/etc/mesondisplay.cfg \
     frameworks/native/data/etc/android.hardware.hdmi.cec.xml:system/etc/permissions/android.hardware.hdmi.cec.xml
 
+ifeq ($(USE_MEDIACODEC_SECURE), true)
+PRODUCT_COPY_FILES += device/amlogic/gxl_skt/files/media_codecs_secure.xml:system/etc/media_codecs_secure.xml
+endif
+
 # remote IME config file
 PRODUCT_COPY_FILES += \
     device/amlogic/p231/files/remote.conf:system/etc/remote.conf \
diff --git a/p231/files/media_codecs.xml b/p231/files/media_codecs.xml
index b720f93..9a5d803 100644
--- a/p231/files/media_codecs.xml
+++ b/p231/files/media_codecs.xml
@@ -86,17 +86,6 @@ Only the three quirks included above are recognized at this point:
             <Feature name="adaptive-playback" />
             <Limit name="concurrent-instances" max="1" />
         </MediaCodec>
-        <MediaCodec name="OMX.amlogic.hevc.decoder.awesome.secure" type="video/hevc" >
-            <Limit name="size" min="64x64" max="3840x2160" />
-            <Limit name="alignment" value="2x2" />
-            <Limit name="block-size" value="16x16" />
-            <Limit name="blocks-per-second" min="1" max="972000" />
-            <Limit name="bitrate" range="1-300000000" />
-            <Feature name="adaptive-playback" />
-            <Feature name="secure-playback" required="true" />
-            <Feature name="tunneled-playback" />
-	    <Limit name="concurrent-instances" max="1" />
-        </MediaCodec>
         <MediaCodec name="OMX.amlogic.avc.decoder.awesome" type="video/avc" >
             <Limit name="size" min="64x64" max="3840x2160" />
             <Limit name="alignment" value="2x2" />
@@ -106,16 +95,6 @@ Only the three quirks included above are recognized at this point:
             <Feature name="adaptive-playback" />
             <Limit name="concurrent-instances" max="1" />
         </MediaCodec>
-        <MediaCodec name="OMX.amlogic.avc.decoder.awesome.secure" type="video/avc" >
-            <Limit name="size" min="64x64" max="3840x2160" />
-            <Limit name="alignment" value="2x2" />
-            <Limit name="block-size" value="16x16" />
-            <Limit name="blocks-per-second" min="1" max="972000" />
-            <Limit name="bitrate" range="1-300000000" />
-            <Feature name="adaptive-playback" />
-            <Feature name="secure-playback" required="true" />
-	    <Limit name="concurrent-instances" max="1" />
-        </MediaCodec>
         <MediaCodec name="OMX.amlogic.mpeg4.decoder.awesome" type="video/mp4v-es" >
             <Limit name="size" min="64x64" max="1920x1088" />
             <Limit name="alignment" value="2x2" />
diff --git a/p231/files/media_codecs_secure.xml b/p231/files/media_codecs_secure.xml
new file mode 100644
index 0000000..375557a
--- /dev/null
+++ b/p231/files/media_codecs_secure.xml
@@ -0,0 +1,43 @@
+<?xml version="1.0" encoding="utf-8" ?>
+<!-- Copyright (C) 2012 The Android Open Source Project
+
+     Licensed under the Apache License, Version 2.0 (the "License");
+     you may not use this file except in compliance with the License.
+     You may obtain a copy of the License at
+
+          http://www.apache.org/licenses/LICENSE-2.0
+
+     Unless required by applicable law or agreed to in writing, software
+     distributed under the License is distributed on an "AS IS" BASIS,
+     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+     See the License for the specific language governing permissions and
+     limitations under the License.
+-->
+
+
+
+<MediaCodecs>
+    <Decoders>
+        <MediaCodec name="OMX.amlogic.hevc.decoder.awesome.secure" type="video/hevc" >
+            <Limit name="size" min="64x64" max="3840x2160" />
+            <Limit name="alignment" value="2x2" />
+            <Limit name="block-size" value="16x16" />
+            <Limit name="blocks-per-second" min="1" max="972000" />
+            <Limit name="bitrate" range="1-300000000" />
+            <Feature name="adaptive-playback" />
+            <Feature name="secure-playback" required="true" />
+            <Feature name="tunneled-playback" />
+	    <Limit name="concurrent-instances" max="1" />
+        </MediaCodec>
+        <MediaCodec name="OMX.amlogic.avc.decoder.awesome.secure" type="video/avc" >
+            <Limit name="size" min="64x64" max="3840x2160" />
+            <Limit name="alignment" value="2x2" />
+            <Limit name="block-size" value="16x16" />
+            <Limit name="blocks-per-second" min="1" max="972000" />
+            <Limit name="bitrate" range="1-300000000" />
+            <Feature name="adaptive-playback" />
+            <Feature name="secure-playback" required="true" />
+	    <Limit name="concurrent-instances" max="1" />
+        </MediaCodec>
+    </Decoders>
+</MediaCodecs>
diff --git a/p231/fstab.amlogic b/p231/fstab.amlogic
index 751e0c6..80195ed 100644
--- a/p231/fstab.amlogic
+++ b/p231/fstab.amlogic
@@ -13,3 +13,4 @@
 /dev/block/loop     auto                loop      defaults                                  voldmanaged=loop:auto
 # Add for zram. zramsize can be in numeric (byte) , in percent or auto (detect by the system)
 /dev/block/zram0     /swap_zram0             swap      defaults                             wait,zramsize=auto
+/dev/block/tee       /tee                 ext4      noatime,nosuid,nodev,nodelalloc,nomblk_io_submit,errors=panic    wait,check
diff --git a/p231/fstab.verity.amlogic b/p231/fstab.verity.amlogic
index bc91cb9..91d8866 100644
--- a/p231/fstab.verity.amlogic
+++ b/p231/fstab.verity.amlogic
@@ -12,3 +12,4 @@
 /dev/block/loop     auto                loop      defaults                                  voldmanaged=loop:auto
 # Add for zram. zramsize can be in numeric (byte) , in percent or auto (detect by the system)
 /dev/block/zram0     /swap_zram0             swap      defaults                             wait,zramsize=auto
+/dev/block/tee       /tee                 ext4      noatime,nosuid,nodev,nodelalloc,nomblk_io_submit,errors=panic    wait,check
diff --git a/p231/init.amlogic.board.rc b/p231/init.amlogic.board.rc
index 30f9dab..3626baa 100644
--- a/p231/init.amlogic.board.rc
+++ b/p231/init.amlogic.board.rc
@@ -38,16 +38,18 @@ on boot
     # chmod 0666 /dev/ge2d
     chmod 666 /dev/cec
     chmod 0666 /dev/opteearmtz00
-    mkdir  /data/tee
-	insmod /system/lib/compat.ko
+    chmod 0666 /dev/tee0
+	  insmod /system/lib/compat.ko
     insmod /system/lib/cfg80211.ko
-on fs
 
+on fs
+on post-fs-data
+   mkdir  /data/tee
 service wpa_supplicant /system/bin/wpa_supplicant \
     -iwlan0 -Dnl80211 -c/data/misc/wifi/wpa_supplicant.conf \
-    -I/system/etc/wifi/wpa_supplicant_overlay.conf \
+    -e/data/misc/wifi/entropy.bin \
     -O/data/misc/wifi/sockets \
-    -e/data/misc/wifi/entropy.bin -g@android:wpa_wlan0
+    -g@android:wpa_wlan0
     #   we will start as root and wpa_supplicant will switch to user wifi
     #   after setting up the capabilities required for WEXT
     #   user wifi
@@ -58,13 +60,12 @@ service wpa_supplicant /system/bin/wpa_supplicant \
     oneshot
 
 service p2p_supplicant /system/bin/wpa_supplicant \
-    -ip2p0 -Dnl80211 -c /data/misc/wifi/p2p_supplicant.conf \
-    -m/data/misc/wifi/p2p_supplicant.conf \
+    -iwlan0 -Dnl80211 -c/data/misc/wifi/wpa_supplicant.conf \
     -I/system/etc/wifi/p2p_supplicant_overlay.conf \
+    -m/data/misc/wifi/p2p_supplicant.conf \
     -O/data/misc/wifi/sockets \
-    -e/data/misc/wifi/entropy.bin -g@android:wpa_wlan0 \
-    -N -puse_p2p_group_interface=1 \
-    -iwlan0 -Dnl80211 -c/data/misc/wifi/wpa_supplicant.conf
+    -g@android:wpa_wlan0    \
+    -puse_p2p_group_interface=1p2p_device=1 -e/data/misc/wifi/entropy.bin
 #   we will start as root and wpa_supplicant will switch to user wifi
 #   after setting up the capabilities required for WEXT
 #   user wifi
@@ -77,5 +78,5 @@ service p2p_supplicant /system/bin/wpa_supplicant \
 service tee_supplicant /system/bin/tee-supplicant
 		class main
 		oneshot
-		seclabel u:r:tee_supplicant:s0
+		seclabel u:r:tee:s0
 
diff --git a/p231/overlay/frameworks/base/core/res/res/values/config.xml b/p231/overlay/frameworks/base/core/res/res/values/config.xml
index b26a9b8..0ccda55 100644
--- a/p231/overlay/frameworks/base/core/res/res/values/config.xml
+++ b/p231/overlay/frameworks/base/core/res/res/values/config.xml
@@ -88,4 +88,6 @@
         <item>com.google.android.gms</item>
         <item>com.android.location.fused</item>
     </string-array>
+    <!--  Maximum number of supported users -->
+    <integer name="config_multiuserMaximumUsers">2</integer>
 </resources>
diff --git a/p231/p231.mk b/p231/p231.mk
index 7d397d9..f147b36 100644
--- a/p231/p231.mk
+++ b/p231/p231.mk
@@ -61,7 +61,29 @@ PRODUCT_AML_SECUREBOOT_SIGNBOOTLOADER := $(PRODUCT_AML_SECUREBOOT_SIGNTOOL) --bo
 PRODUCT_AML_SECUREBOOT_SIGNIMAGE := $(PRODUCT_AML_SECUREBOOT_SIGNTOOL) --imgsig \
 					--amluserkey $(PRODUCT_AML_SECUREBOOT_USERKEY)
 
+########################################################################
+#
+#                           ATV
+#
+########################################################################
+ifeq ($(BOARD_COMPILE_ATV),true)
+BOARD_COMPILE_CTS := true
+TARGET_BUILD_GOOGLE_ATV:= true
+endif
+########################################################################
 
+########################################################################
+#
+#                           CTS
+#
+########################################################################
+ifeq ($(BOARD_COMPILE_CTS),true)
+BOARD_WIDEVINE_OEMCRYPTO_LEVEL := 1
+BOARD_PLAYREADY_LEVEL := 1
+TARGET_BUILD_CTS:= true
+TARGET_BUILD_NETFLIX:= true
+endif
+########################################################################
 
 #########################################################################
 #
@@ -87,7 +109,7 @@ endif # ifeq ($(BUILD_WITH_DM_VERITY), true)
 #
 #########################################################################
 
-WIFI_MODULE := QCOM9377
+MULTI_WIFI_SUPPORT := true
 include device/amlogic/common/wifi.mk
 
 # Change this to match target country
@@ -102,7 +124,7 @@ PRODUCT_DEFAULT_WIFI_CHANNELS := 11
 #########################################################################
 
 BOARD_HAVE_BLUETOOTH := true
-BLUETOOTH_MODULE := QCOM9377
+MULTI_BLUETOOTH_SUPPORT := true
 include device/amlogic/common/bluetooth.mk
 
 
@@ -194,8 +216,9 @@ PRODUCT_LOCALES := en_US en_AU en_IN fr_FR it_IT es_ES et_EE de_DE nl_NL cs_CZ p
 #                                                PPPOE
 #
 #################################################################################
-
+ifneq ($(TARGET_BUILD_GOOGLE_ATV), true)
 BUILD_WITH_PPPOE := true
+endif
 
 ifeq ($(BUILD_WITH_PPPOE),true)
 PRODUCT_PACKAGES += \
@@ -223,5 +246,11 @@ BOARD_USES_USB_PM := true
 PRODUCT_COPY_FILES += \
     $(LOCAL_PATH)/Third_party_apk_camera.xml:system/etc/Third_party_apk_camera.xml \
 
-TARGET_BUILD_CTS:= false
 include device/amlogic/common/software.mk
+ifeq ($(TARGET_BUILD_GOOGLE_ATV),true)
+PRODUCT_PROPERTY_OVERRIDES += \
+    ro.sf.lcd_density=320
+else
+PRODUCT_PROPERTY_OVERRIDES += \
+    ro.sf.lcd_density=240
+endif
diff --git a/p231/system.prop b/p231/system.prop
index 63740cc..a785d14 100644
--- a/p231/system.prop
+++ b/p231/system.prop
@@ -7,11 +7,14 @@ ro.camera.preview.MaxSize=1280x720
 ro.camera.preview.LimitedRate=1280x720x30,640x480x30,320x240x28
 ro.camera.preview.UseMJPEG=1
 
+#for bt auto connect
+ro.autoconnectbt.isneed=true
+ro.autoconnectbt.macprefix=00:CD:FF
+ro.autoconnectbt.btclass=50c
+
 #if wifi Only
 ro.radio.noril=false
 
-ro.sf.lcd_density=240
-
 #if need pppoe
 ro.net.pppoe=true
 
@@ -40,7 +43,6 @@ media.amplayer.enable=true
 media.amsuperplayer.m4aplayer=STAGEFRIGHT_PLAYER
 media.amsuperplayer.defplayer=PV_PLAYER
 media.amplayer.thumbnail=true
-media.amplayer.widevineenable=false
 media.amplayer.dsource4local=1
 media.amplayer.startmode=true
 media.amplayer.dropwaitxms=100
diff --git a/p300/files/tv/pq.xml b/p300/files/tv/pq.xml
index addb550..68643b7 100644
--- a/p300/files/tv/pq.xml
+++ b/p300/files/tv/pq.xml
@@ -954,47 +954,57 @@
         <Lowalpha Value="17" />
         <Hist_adj_level Value="5" />
         <ve_dnlp_adj_level Value="6" />
-        <ve_dnlp_mvreflsh Value="5" />
-        <ve_dnlp_gmma_rate Value="138" />
-        <ve_dnlp_lowalpha_new Value="22" />
-        <ve_dnlp_hghalpha_new Value="30" />
+        <ve_dnlp_mvreflsh Value="4" />
+        <ve_dnlp_gmma_rate Value="150" />
+        <ve_dnlp_lowalpha_new Value="28" />
+        <ve_dnlp_hghalpha_new Value="50" />
         <ve_dnlp_sbnbnd Value="0" />
         <ve_dnlp_sendbnd Value="0" />
-        <ve_dnlp_cliprate_new Value="6" />
+        <ve_dnlp_cliprate_new Value="36" />
         <ve_dnlp_clashBgn Value="0" />
-        <ve_dnlp_clashEnd Value="14" />
-        <ve_mtdbld_rate Value="50" />
-        <ve_blkbld_rate Value="6" />
+        <ve_dnlp_clashEnd Value="15" />
+        <ve_mtdbld_rate Value="40" />
+        <ve_dnlp_pst_gmarat Value="65" />
         <dnlp_sel Value="1" />
         <ve_dnlp_blk_cctr Value="8" />
         <ve_dnlp_brgt_ctrl Value="48" />
         <ve_dnlp_brgt_range Value="16" />
         <ve_dnlp_brght_add Value="32" />
         <ve_dnlp_brght_max Value="0" />
-        <ve_dnlp_almst_wht Value="62" />
+        <ve_dnlp_almst_wht Value="60" />
         <ve_dnlp_hghbin Value="55" />
-        <ve_dnlp_hghnum Value="4" />
-        <ve_dnlp_lowbin Value="4" />
-        <ve_dnlp_lownum Value="4" />
-        <ve_dnlp_bkgend Value="20" />
-        <ve_dnlp_bkgert Value="2" />
-        <ve_dnlp_blkext Value="2" />
-        <ve_dnlp_whtext Value="8" />
-        <ve_dnlp_bextmx Value="2" />
-        <ve_dnlp_wextmx Value="2" />
+        <ve_dnlp_hghnum Value="0" />
+        <ve_dnlp_lowbin Value="0" />
+        <ve_dnlp_lownum Value="0" />
+        <ve_dnlp_bkgend Value="0" />
+        <ve_dnlp_bkgert Value="64" />
+        <ve_dnlp_blkext Value="4" />
+        <ve_dnlp_whtext Value="4" />
+        <ve_dnlp_bextmx Value="4" />
+        <ve_dnlp_wextmx Value="32" />
         <ve_dnlp_smhist_ck Value="0" />
         <ve_dnlp_glb_crate Value="1" />
-        <Reg_hist_en_vs_latch Value="0" />
-        <Dnlp_En value="0" />
-        <Hist_34bin_only value="0" />
-        <Dnlp_bypass value="0" />
-        <Hist_win_En value="0" />
-        <Luma_Hist_Spl_En value="0" />
-        <Spl_sft value="0" />
-        <Reg_filt_mode value="0" />
-        <Hist_in_sel value="0" />
-        <Hist_din_comp_mux value="0" />
-        <Hist_dnlp_low value="0" />
+        <dnlp_pstgma_brghtrate Value="8" />
+        <dnlp_pstgma_brghtrat1 Value="15" />
+        <dnlp_wext_autorat Value="16" />
+        <dnlp_cliprate_min Value="19" />
+        <dnlp_adpcrat_lbnd Value="10" />
+        <dnlp_adpcrat_hbnd Value="20" />
+        <dnlp_adpmtd_lbnd Value="19" />
+        <dnlp_adpmtd_hbnd Value="20" />
+        <dnlp_set_bext Value="0" />
+        <dnlp_set_wext Value="0" />
+        <dnlp_satur_rat Value="30" />
+        <dnlp_satur_max Value="40" />
+        <blk_prct_rng Value="2" />
+        <blk_prct_max Value="16" />
+        <dnlp_lowrange Value="18" />
+        <dnlp_hghrange Value="18" />
+        <dnlp_auto_rng Value="0" />
+        <dnlp_bin0_absmax Value="16" />
+        <dnlp_bin0_sbtmax Value="128" />
+        <dnlp_adpalpha_lrate Value="32" />
+        <dnlp_adpalpha_hrate Value="32" />
         <ve_dnlp_lrate00 Value="64" />
         <ve_dnlp_lrate02 Value="64" />
         <ve_dnlp_lrate04 Value="64" />
@@ -1052,47 +1062,57 @@
         <Lowalpha Value="18" />
         <Hist_adj_level Value="5" />
         <ve_dnlp_adj_level Value="6" />
-        <ve_dnlp_mvreflsh Value="5" />
+        <ve_dnlp_mvreflsh Value="4" />
         <ve_dnlp_gmma_rate Value="128" />
-        <ve_dnlp_lowalpha_new Value="22" />
-        <ve_dnlp_hghalpha_new Value="28" />
+        <ve_dnlp_lowalpha_new Value="40" />
+        <ve_dnlp_hghalpha_new Value="60" />
         <ve_dnlp_sbnbnd Value="0" />
         <ve_dnlp_sendbnd Value="0" />
-        <ve_dnlp_cliprate_new Value="6" />
+        <ve_dnlp_cliprate_new Value="34" />
         <ve_dnlp_clashBgn Value="0" />
-        <ve_dnlp_clashEnd Value="14" />
-        <ve_mtdbld_rate Value="50" />
-        <ve_blkbld_rate Value="0" />
+        <ve_dnlp_clashEnd Value="15" />
+        <ve_mtdbld_rate Value="40" />
+        <ve_dnlp_pst_gmarat Value="65" />
         <dnlp_sel Value="1" />
         <ve_dnlp_blk_cctr Value="8" />
         <ve_dnlp_brgt_ctrl Value="48" />
         <ve_dnlp_brgt_range Value="16" />
-        <ve_dnlp_brght_add Value="34" />
+        <ve_dnlp_brght_add Value="33" />
         <ve_dnlp_brght_max Value="0" />
-        <ve_dnlp_almst_wht Value="62" />
+        <ve_dnlp_almst_wht Value="60" />
         <ve_dnlp_hghbin Value="55" />
         <ve_dnlp_hghnum Value="4" />
         <ve_dnlp_lowbin Value="4" />
         <ve_dnlp_lownum Value="4" />
-        <ve_dnlp_bkgend Value="20" />
-        <ve_dnlp_bkgert Value="4" />
+        <ve_dnlp_bkgend Value="0" />
+        <ve_dnlp_bkgert Value="64" />
         <ve_dnlp_blkext Value="4" />
-        <ve_dnlp_whtext Value="8" />
-        <ve_dnlp_bextmx Value="2" />
-        <ve_dnlp_wextmx Value="2" />
+        <ve_dnlp_whtext Value="4" />
+        <ve_dnlp_bextmx Value="4" />
+        <ve_dnlp_wextmx Value="32" />
         <ve_dnlp_smhist_ck Value="0" />
         <ve_dnlp_glb_crate Value="1" />
-        <Reg_hist_en_vs_latch Value="0" />
-        <Dnlp_En value="0" />
-        <Hist_34bin_only value="0" />
-        <Dnlp_bypass value="0" />
-        <Hist_win_En value="0" />
-        <Luma_Hist_Spl_En value="0" />
-        <Spl_sft value="0" />
-        <Reg_filt_mode value="0" />
-        <Hist_in_sel value="0" />
-        <Hist_din_comp_mux value="0" />
-        <Hist_dnlp_low value="0" />
+        <dnlp_pstgma_brghtrate Value="8" />
+        <dnlp_pstgma_brghtrat1 Value="15" />
+        <dnlp_wext_autorat Value="16" />
+        <dnlp_cliprate_min Value="19" />
+        <dnlp_adpcrat_lbnd Value="10" />
+        <dnlp_adpcrat_hbnd Value="20" />
+        <dnlp_adpmtd_lbnd Value="19" />
+        <dnlp_adpmtd_hbnd Value="20" />
+        <dnlp_set_bext Value="0" />
+        <dnlp_set_wext Value="0" />
+        <dnlp_satur_rat Value="30" />
+        <dnlp_satur_max Value="40" />
+        <blk_prct_rng Value="2" />
+        <blk_prct_max Value="16" />
+        <dnlp_lowrange Value="18" />
+        <dnlp_hghrange Value="18" />
+        <dnlp_auto_rng Value="0" />
+        <dnlp_bin0_absmax Value="16" />
+        <dnlp_bin0_sbtmax Value="128" />
+        <dnlp_adpalpha_lrate Value="32" />
+        <dnlp_adpalpha_hrate Value="32" />
         <ve_dnlp_lrate00 Value="64" />
         <ve_dnlp_lrate02 Value="64" />
         <ve_dnlp_lrate04 Value="64" />
@@ -1155,45 +1175,55 @@
         <ve_dnlp_adj_level Value="6" />
         <ve_dnlp_mvreflsh Value="5" />
         <ve_dnlp_gmma_rate Value="150" />
-        <ve_dnlp_lowalpha_new Value="22" />
-        <ve_dnlp_hghalpha_new Value="28" />
+        <ve_dnlp_lowalpha_new Value="55" />
+        <ve_dnlp_hghalpha_new Value="50" />
         <ve_dnlp_sbnbnd Value="0" />
         <ve_dnlp_sendbnd Value="0" />
-        <ve_dnlp_cliprate_new Value="6" />
+        <ve_dnlp_cliprate_new Value="34" />
         <ve_dnlp_clashBgn Value="0" />
         <ve_dnlp_clashEnd Value="15" />
-        <ve_mtdbld_rate Value="55" />
-        <ve_blkbld_rate Value="0" />
+        <ve_mtdbld_rate Value="30" />
+        <ve_dnlp_pst_gmarat Value="65" />
         <dnlp_sel Value="1" />
         <ve_dnlp_blk_cctr Value="8" />
         <ve_dnlp_brgt_ctrl Value="48" />
         <ve_dnlp_brgt_range Value="16" />
-        <ve_dnlp_brght_add Value="34" />
+        <ve_dnlp_brght_add Value="32" />
         <ve_dnlp_brght_max Value="0" />
-        <ve_dnlp_almst_wht Value="63" />
+        <ve_dnlp_almst_wht Value="60" />
         <ve_dnlp_hghbin Value="55" />
         <ve_dnlp_hghnum Value="4" />
         <ve_dnlp_lowbin Value="4" />
         <ve_dnlp_lownum Value="4" />
-        <ve_dnlp_bkgend Value="20" />
-        <ve_dnlp_bkgert Value="4" />
+        <ve_dnlp_bkgend Value="0" />
+        <ve_dnlp_bkgert Value="64" />
         <ve_dnlp_blkext Value="4" />
-        <ve_dnlp_whtext Value="8" />
-        <ve_dnlp_bextmx Value="2" />
-        <ve_dnlp_wextmx Value="2" />
+        <ve_dnlp_whtext Value="4" />
+        <ve_dnlp_bextmx Value="4" />
+        <ve_dnlp_wextmx Value="32" />
         <ve_dnlp_smhist_ck Value="0" />
         <ve_dnlp_glb_crate Value="1" />
-        <Reg_hist_en_vs_latch Value="0" />
-        <Dnlp_En value="0" />
-        <Hist_34bin_only value="0" />
-        <Dnlp_bypass value="0" />
-        <Hist_win_En value="0" />
-        <Luma_Hist_Spl_En value="0" />
-        <Spl_sft value="0" />
-        <Reg_filt_mode value="0" />
-        <Hist_in_sel value="0" />
-        <Hist_din_comp_mux value="0" />
-        <Hist_dnlp_low value="0" />
+        <dnlp_pstgma_brghtrate Value="10" />
+        <dnlp_pstgma_brghtrat1 Value="15" />
+        <dnlp_wext_autorat Value="16" />
+        <dnlp_cliprate_min Value="19" />
+        <dnlp_adpcrat_lbnd Value="10" />
+        <dnlp_adpcrat_hbnd Value="20" />
+        <dnlp_adpmtd_lbnd Value="19" />
+        <dnlp_adpmtd_hbnd Value="20" />
+        <dnlp_set_bext Value="0" />
+        <dnlp_set_wext Value="0" />
+        <dnlp_satur_rat Value="30" />
+        <dnlp_satur_max Value="40" />
+        <blk_prct_rng Value="2" />
+        <blk_prct_max Value="16" />
+        <dnlp_lowrange Value="18" />
+        <dnlp_hghrange Value="18" />
+        <dnlp_auto_rng Value="0" />
+        <dnlp_bin0_absmax Value="16" />
+        <dnlp_bin0_sbtmax Value="128" />
+        <dnlp_adpalpha_lrate Value="32" />
+        <dnlp_adpalpha_hrate Value="32" />
         <ve_dnlp_lrate00 Value="64" />
         <ve_dnlp_lrate02 Value="64" />
         <ve_dnlp_lrate04 Value="64" />
@@ -1257,46 +1287,56 @@
         <Hist_adj_level Value="5" />
         <ve_dnlp_adj_level Value="6" />
         <ve_dnlp_mvreflsh Value="5" />
-        <ve_dnlp_gmma_rate Value="158" />
-        <ve_dnlp_lowalpha_new Value="22" />
-        <ve_dnlp_hghalpha_new Value="26" />
+        <ve_dnlp_gmma_rate Value="140" />
+        <ve_dnlp_lowalpha_new Value="36" />
+        <ve_dnlp_hghalpha_new Value="45" />
         <ve_dnlp_sbnbnd Value="0" />
         <ve_dnlp_sendbnd Value="0" />
-        <ve_dnlp_cliprate_new Value="6" />
+        <ve_dnlp_cliprate_new Value="30" />
         <ve_dnlp_clashBgn Value="0" />
         <ve_dnlp_clashEnd Value="15" />
         <ve_mtdbld_rate Value="50" />
-        <ve_blkbld_rate Value="0" />
+        <ve_dnlp_pst_gmarat Value="65" />
         <dnlp_sel Value="1" />
         <ve_dnlp_blk_cctr Value="8" />
         <ve_dnlp_brgt_ctrl Value="48" />
         <ve_dnlp_brgt_range Value="16" />
-        <ve_dnlp_brght_add Value="34" />
+        <ve_dnlp_brght_add Value="33" />
         <ve_dnlp_brght_max Value="0" />
-        <ve_dnlp_almst_wht Value="63" />
+        <ve_dnlp_almst_wht Value="60" />
         <ve_dnlp_hghbin Value="55" />
         <ve_dnlp_hghnum Value="4" />
         <ve_dnlp_lowbin Value="4" />
         <ve_dnlp_lownum Value="4" />
-        <ve_dnlp_bkgend Value="20" />
-        <ve_dnlp_bkgert Value="4" />
-        <ve_dnlp_blkext Value="8" />
-        <ve_dnlp_whtext Value="8" />
-        <ve_dnlp_bextmx Value="2" />
-        <ve_dnlp_wextmx Value="2" />
+        <ve_dnlp_bkgend Value="4" />
+        <ve_dnlp_bkgert Value="64" />
+        <ve_dnlp_blkext Value="4" />
+        <ve_dnlp_whtext Value="4" />
+        <ve_dnlp_bextmx Value="4" />
+        <ve_dnlp_wextmx Value="32" />
         <ve_dnlp_smhist_ck Value="0" />
         <ve_dnlp_glb_crate Value="1" />
-        <Reg_hist_en_vs_latch Value="0" />
-        <Dnlp_En value="0" />
-        <Hist_34bin_only value="0" />
-        <Dnlp_bypass value="0" />
-        <Hist_win_En value="0" />
-        <Luma_Hist_Spl_En value="0" />
-        <Spl_sft value="0" />
-        <Reg_filt_mode value="0" />
-        <Hist_in_sel value="0" />
-        <Hist_din_comp_mux value="0" />
-        <Hist_dnlp_low value="0" />
+        <dnlp_pstgma_brghtrate Value="10" />
+        <dnlp_pstgma_brghtrat1 Value="15" />
+        <dnlp_wext_autorat Value="16" />
+        <dnlp_cliprate_min Value="18" />
+        <dnlp_adpcrat_lbnd Value="10" />
+        <dnlp_adpcrat_hbnd Value="20" />
+        <dnlp_adpmtd_lbnd Value="19" />
+        <dnlp_adpmtd_hbnd Value="20" />
+        <dnlp_set_bext Value="0" />
+        <dnlp_set_wext Value="0" />
+        <dnlp_satur_rat Value="20" />
+        <dnlp_satur_max Value="40" />
+        <blk_prct_rng Value="2" />
+        <blk_prct_max Value="16" />
+        <dnlp_lowrange Value="18" />
+        <dnlp_hghrange Value="18" />
+        <dnlp_auto_rng Value="0" />
+        <dnlp_bin0_absmax Value="16" />
+        <dnlp_bin0_sbtmax Value="128" />
+        <dnlp_adpalpha_lrate Value="32" />
+        <dnlp_adpalpha_hrate Value="32" />
         <ve_dnlp_lrate00 Value="64" />
         <ve_dnlp_lrate02 Value="64" />
         <ve_dnlp_lrate04 Value="64" />
@@ -10776,7 +10816,7 @@
         </RelatedField>
         <RedCurve Value="0.000000000000,0.001785118482,0.003754314966,0.005682894960,0.007829389535,0.010296771303,0.013048983179,0.015953097492,0.019001664594,0.021521855146,0.024080703035,0.026680149138,0.029322123155,0.032008558512,0.034741390496,0.037522550672,0.040353968740,0.043367587030,0.046467538923,0.049646411091,0.052896801382,0.056211300194,0.059582497925,0.063002988696,0.066465362906,0.069962546229,0.073488749564,0.077038541436,0.080606468022,0.084187075496,0.087774917483,0.091364547610,0.094950519502,0.098602727056,0.102200962603,0.105759114027,0.109291099012,0.112810842693,0.116332247853,0.119869217277,0.123435683548,0.127095147967,0.130785852671,0.134499236941,0.138226777315,0.141959935427,0.145690158010,0.149408936501,0.153107717633,0.156923845410,0.160759314895,0.164610341191,0.168473139405,0.172343939543,0.176218986511,0.180094480515,0.183966636658,0.187834888697,0.191711515188,0.195611923933,0.199551641941,0.203546091914,0.207610741258,0.211761027575,0.216012433171,0.220416799188,0.224887326360,0.229397580028,0.233921080828,0.238431423903,0.242902129889,0.247306779027,0.251618891954,0.255916923285,0.260076224804,0.264129459858,0.268109411001,0.272048771381,0.275980263948,0.279936671257,0.283950626850,0.288075089455,0.292250394821,0.296466857195,0.300714731216,0.304984390736,0.309266120195,0.313550263643,0.317827105522,0.322086989880,0.326320201159,0.330517083406,0.334667921066,0.338763058186,0.342792779207,0.346747428179,0.350617289543,0.354670315981,0.358688831329,0.362679064274,0.366647243500,0.370599627495,0.374542444944,0.378481894732,0.382424235344,0.386375695467,0.390342503786,0.394330918789,0.398347139359,0.402397394180,0.406487941742,0.410625010729,0.414814800024,0.419061362743,0.423359721899,0.427702724934,0.432083159685,0.436493873596,0.440927684307,0.445377409458,0.449835866690,0.454295903444,0.458750307560,0.463191926479,0.467613607645,0.472008109093,0.476368308067,0.480687022209,0.484957039356,0.488935977221,0.492916464806,0.496898472309,0.500882029533,0.504867017269,0.508853614330,0.512841641903,0.516831159592,0.520822107792,0.524814546108,0.528808414936,0.532803714275,0.536800444126,0.540798604488,0.544798195362,0.548799157143,0.552801489830,0.556805253029,0.560810327530,0.564816832542,0.568824648857,0.572833776474,0.576844274998,0.580856144428,0.584869265556,0.588883757591,0.592899501324,0.596916556358,0.600934922695,0.604954540730,0.608975470066,0.612997591496,0.617021024227,0.621045708656,0.625071644783,0.629098773003,0.633127152920,0.637156784534,0.641187608242,0.645219564438,0.649252831936,0.653287231922,0.657322824001,0.661359608173,0.665397524834,0.669436693192,0.673476994038,0.677518427372,0.681561052799,0.685604751110,0.689649581909,0.693695604801,0.697742700577,0.701790988445,0.705840289593,0.709890782833,0.713942289352,0.717994928360,0.722048699856,0.726103544235,0.730159461498,0.734216451645,0.738274455070,0.742333531380,0.746393680573,0.750454902649,0.754517197609,0.758580505848,0.762644827366,0.766710221767,0.770776569843,0.774843990803,0.778912484646,0.782981932163,0.787052333355,0.791123867035,0.795196294785,0.799269795418,0.803344190121,0.807419598103,0.811496019363,0.815573394299,0.819651782513,0.823731124401,0.827811300755,0.831892609596,0.835974752903,0.840057969093,0.844141960144,0.848227024078,0.852313041687,0.856399893761,0.860487699509,0.864576458931,0.868666172028,0.872756719589,0.876848280430,0.880940675735,0.885033965111,0.889128208160,0.893223345280,0.897319316864,0.901416242123,0.905514061451,0.909612655640,0.913712203503,0.917812645435,0.921913981438,0.926016151905,0.930119156837,0.934223055840,0.938327848911,0.942433476448,0.946539878845,0.950647234917,0.954755425453,0.958864390850,0.962974250317,0.967084884644,0.971196353436,0.975308716297,0.979421854019,0.983535885811,0.987650692463,0.991766273975,0.995882689953,1.000000000000," />
         <GreenCurve Value="0.000000000000,0.001960784430,0.004901960958,0.006862745155,0.009803921916,0.012745098211,0.015686275437,0.018627451733,0.021568628028,0.024509804323,0.028431372717,0.031372550875,0.035294119269,0.039215687662,0.042156863958,0.046078432351,0.050000000745,0.053921569139,0.057843137532,0.061764705926,0.065686278045,0.069607846439,0.073529414833,0.077450983226,0.081372551620,0.084313727915,0.088235296309,0.092156864703,0.096078433096,0.100000001490,0.103921569884,0.106862746179,0.110784314573,0.114705882967,0.119607843459,0.123529411852,0.127450987697,0.131372556090,0.135294124484,0.139215692878,0.142156869173,0.146078437567,0.150000005960,0.153921574354,0.157843142748,0.161764711142,0.164705887437,0.168627455831,0.172549024224,0.176470592618,0.180392161012,0.184313729405,0.188235297799,0.191176474094,0.195098042488,0.199019610882,0.202941179276,0.206862747669,0.210784316063,0.214705884457,0.218627452850,0.222549021244,0.226470589638,0.229411765933,0.233333334327,0.237254902720,0.241176471114,0.245098039508,0.249019607902,0.252941191196,0.256862759590,0.260784327984,0.264705896378,0.268627464771,0.272549033165,0.276470601559,0.280392169952,0.284313738346,0.288235306740,0.292156875134,0.295098036528,0.299019604921,0.302941173315,0.306862741709,0.310784310102,0.314705878496,0.318627446890,0.322549015284,0.326470583677,0.330392152071,0.334313720465,0.338235288858,0.342156857252,0.346078425646,0.349999994040,0.353921562433,0.357843130827,0.361764699221,0.365686267614,0.369607836008,0.373529404402,0.377450972795,0.381372541189,0.385294109583,0.389215677977,0.393137246370,0.397058814764,0.400980383158,0.404901951551,0.408823519945,0.412745088339,0.416666656733,0.420588225126,0.424509793520,0.429411768913,0.433333337307,0.437254905701,0.441176474094,0.445098042488,0.449019610882,0.452941179276,0.456862747669,0.460784316063,0.464705884457,0.468627452850,0.472549021244,0.476470589638,0.480392158031,0.484313726425,0.488235294819,0.492156863213,0.496078431606,0.500000000000,0.503921568394,0.508823513985,0.512745082378,0.516666650772,0.520588219166,0.524509787560,0.528431355953,0.532352924347,0.536274492741,0.540196061134,0.544117629528,0.548039197922,0.551960766315,0.555882334709,0.560784339905,0.564705908298,0.568627476692,0.572549045086,0.576470613480,0.580392181873,0.584313750267,0.588235318661,0.592156887054,0.596078455448,0.600000023842,0.604901969433,0.608823537827,0.612745106220,0.616666674614,0.620588243008,0.624509811401,0.628431379795,0.632352948189,0.636274516582,0.641176462173,0.645098030567,0.649019598961,0.652941167355,0.656862735748,0.660784304142,0.664705872536,0.668627440929,0.672549009323,0.677450954914,0.681372523308,0.685294091702,0.689215660095,0.693137228489,0.697058796883,0.700980365276,0.704901933670,0.709803938866,0.713725507259,0.717647075653,0.721568644047,0.725490212440,0.729411780834,0.733333349228,0.738235294819,0.742156863213,0.746078431606,0.750000000000,0.753921568394,0.757843136787,0.761764705181,0.766666650772,0.770588219166,0.774509787560,0.778431355953,0.782352924347,0.786274492741,0.790196061134,0.795098066330,0.799019634724,0.802941203117,0.806862771511,0.810784339905,0.814705908298,0.819607853889,0.823529422283,0.827450990677,0.831372559071,0.835294127464,0.839215695858,0.844117641449,0.848039209843,0.851960778236,0.855882346630,0.859803915024,0.863725483418,0.868627429008,0.872548997402,0.876470565796,0.880392134190,0.884313702583,0.888235270977,0.893137276173,0.897058844566,0.900980412960,0.904901981354,0.908823549747,0.912745118141,0.917647063732,0.921568632126,0.925490200520,0.929411768913,0.933333337307,0.938235282898,0.942156851292,0.946078419685,0.949999988079,0.953921556473,0.958823502064,0.962745070457,0.966666638851,0.970588207245,0.974509775639,0.979411780834,0.983333349228,0.987254917622,0.991176486015,0.995098054409,1.000000000000," />
-        <BlueCurve Value="0.000000000000,0.001697949599,0.003500942374,0.005409825593,0.007425446529,0.009548652917,0.011780292727,0.014121212065,0.016572259367,0.019134279341,0.021808125079,0.024594638497,0.027494670823,0.030509063974,0.033638674766,0.036884341389,0.040246915072,0.043573051691,0.046953167766,0.050371281803,0.053811423481,0.057257618755,0.060693886131,0.064104259014,0.067472763360,0.070790655911,0.074078112841,0.077362544835,0.080671355128,0.084031961858,0.087471768260,0.091018185019,0.094698615372,0.098474755883,0.102399274707,0.106429249048,0.110521785915,0.114633977413,0.118722915649,0.122745692730,0.126659408212,0.130432873964,0.134081885219,0.137633919716,0.141116470098,0.144557043910,0.147983163595,0.151422291994,0.154901966453,0.158393070102,0.161969870329,0.165622234344,0.169339969754,0.173113003373,0.176931142807,0.180784314871,0.184662312269,0.188555181026,0.192453503609,0.196347996593,0.200229465961,0.204088583589,0.207916110754,0.211702793837,0.215439364314,0.219306126237,0.223050370812,0.226709410548,0.230320557952,0.233921125531,0.237548470497,0.241239890456,0.245032697916,0.249143391848,0.253284037113,0.257448792458,0.261631906033,0.265827476978,0.270029783249,0.274233013391,0.278431385756,0.282352954149,0.287254899740,0.291176468134,0.295098036528,0.300000011921,0.303921580315,0.307843148708,0.311764717102,0.316666662693,0.320588231087,0.324509799480,0.328431367874,0.333333343267,0.337254911661,0.341176480055,0.345098048449,0.349019616842,0.353921562433,0.357843130827,0.361764699221,0.365686267614,0.369607836008,0.374509811401,0.378431379795,0.382352948189,0.386274516582,0.390196084976,0.395098030567,0.399019598961,0.402941167355,0.407843142748,0.411764711142,0.416666656733,0.420588225126,0.425490200520,0.430392146111,0.435294121504,0.439215689898,0.444117635489,0.449019610882,0.452941179276,0.457843124866,0.461764693260,0.466666668653,0.470588237047,0.475490182638,0.479411751032,0.484313726425,0.488235294819,0.492156863213,0.496078431606,0.500000000000,0.503921568394,0.508823513985,0.512745082378,0.516666650772,0.520588219166,0.524509787560,0.528431355953,0.532352924347,0.536274492741,0.540196061134,0.544117629528,0.548039197922,0.551960766315,0.555882334709,0.560784339905,0.564705908298,0.568627476692,0.572549045086,0.576470613480,0.580392181873,0.584313750267,0.588235318661,0.592156887054,0.596078455448,0.600000023842,0.604901969433,0.608823537827,0.612745106220,0.616666674614,0.620588243008,0.624509811401,0.628431379795,0.632352948189,0.636274516582,0.641176462173,0.645098030567,0.649019598961,0.652941167355,0.656862735748,0.660784304142,0.664705872536,0.668627440929,0.672549009323,0.677450954914,0.681372523308,0.685294091702,0.689215660095,0.693137228489,0.697058796883,0.700980365276,0.704901933670,0.709803938866,0.713725507259,0.717647075653,0.721568644047,0.725490212440,0.729411780834,0.733333349228,0.738235294819,0.742156863213,0.746078431606,0.750000000000,0.753921568394,0.757843136787,0.761764705181,0.766666650772,0.770588219166,0.774509787560,0.778431355953,0.782352924347,0.786274492741,0.790196061134,0.795098066330,0.799019634724,0.802941203117,0.806862771511,0.810784339905,0.814705908298,0.819607853889,0.823529422283,0.827450990677,0.831372559071,0.835294127464,0.839215695858,0.844117641449,0.848039209843,0.851960778236,0.855882346630,0.859803915024,0.863725483418,0.868627429008,0.872548997402,0.876470565796,0.880392134190,0.884313702583,0.888235270977,0.893137276173,0.897058844566,0.900980412960,0.904901981354,0.908823549747,0.912745118141,0.917647063732,0.921568632126,0.925490200520,0.929411768913,0.933333337307,0.938235282898,0.942156851292,0.946078419685,0.949999988079,0.953921556473,0.958823502064,0.962745070457,0.966666638851,0.970588207245,0.974509775639,0.979411780834,0.983333349228,0.987254917622,0.991176486015,0.995098054409,1.000000000000," />
+        <BlueCurve Value="0.000000000000,0.000980392215,0.002941176528,0.004901960958,0.006862745155,0.008823529817,0.011764706112,0.013725490309,0.015686275437,0.018627451733,0.021568628028,0.024509804323,0.027450980619,0.030392156914,0.033333335072,0.036274511367,0.040196079761,0.043137256056,0.046078432351,0.050000000745,0.052941177040,0.056862745434,0.059803921729,0.063725493848,0.066666670144,0.070588238537,0.073529414833,0.076470591128,0.080392159522,0.083333335817,0.087254904211,0.090196080506,0.094117648900,0.098039217293,0.101960785687,0.105882354081,0.109803922474,0.113725490868,0.118627451360,0.122549019754,0.126470595598,0.130392163992,0.133333340287,0.137254908681,0.140196084976,0.144117653370,0.147058829665,0.150980398059,0.154901966453,0.157843142748,0.161764711142,0.164705887437,0.168627455831,0.172549024224,0.176470592618,0.180392161012,0.184313729405,0.188235297799,0.192156866193,0.196078434587,0.200000002980,0.203921571374,0.207843139768,0.210784316063,0.214705884457,0.218627452850,0.222549021244,0.226470589638,0.229411765933,0.233333334327,0.237254902720,0.241176471114,0.244117647409,0.249019607902,0.252941191196,0.256862759590,0.260784327984,0.265686273575,0.269607841969,0.273529410362,0.278431385756,0.282352954149,0.287254899740,0.291176468134,0.295098036528,0.300000011921,0.303921580315,0.307843148708,0.311764717102,0.316666662693,0.320588231087,0.324509799480,0.328431367874,0.333333343267,0.337254911661,0.341176480055,0.345098048449,0.349019616842,0.353921562433,0.357843130827,0.361764699221,0.365686267614,0.369607836008,0.374509811401,0.378431379795,0.382352948189,0.386274516582,0.390196084976,0.395098030567,0.399019598961,0.402941167355,0.407843142748,0.411764711142,0.416666656733,0.420588225126,0.425490200520,0.430392146111,0.435294121504,0.439215689898,0.444117635489,0.449019610882,0.452941179276,0.457843124866,0.461764693260,0.466666668653,0.470588237047,0.475490182638,0.479411751032,0.484313726425,0.488235294819,0.492156863213,0.496078431606,0.500000000000,0.503921568394,0.508823513985,0.512745082378,0.516666650772,0.520588219166,0.524509787560,0.528431355953,0.532352924347,0.536274492741,0.540196061134,0.544117629528,0.548039197922,0.551960766315,0.555882334709,0.560784339905,0.564705908298,0.568627476692,0.572549045086,0.576470613480,0.580392181873,0.584313750267,0.588235318661,0.592156887054,0.596078455448,0.600000023842,0.604901969433,0.608823537827,0.612745106220,0.616666674614,0.620588243008,0.624509811401,0.628431379795,0.632352948189,0.636274516582,0.641176462173,0.645098030567,0.649019598961,0.652941167355,0.656862735748,0.660784304142,0.664705872536,0.668627440929,0.672549009323,0.677450954914,0.681372523308,0.685294091702,0.689215660095,0.693137228489,0.697058796883,0.700980365276,0.704901933670,0.709803938866,0.713725507259,0.717647075653,0.721568644047,0.725490212440,0.729411780834,0.733333349228,0.738235294819,0.742156863213,0.746078431606,0.750000000000,0.753921568394,0.757843136787,0.761764705181,0.766666650772,0.770588219166,0.774509787560,0.778431355953,0.782352924347,0.786274492741,0.790196061134,0.795098066330,0.799019634724,0.802941203117,0.806862771511,0.810784339905,0.814705908298,0.819607853889,0.823529422283,0.827450990677,0.831372559071,0.835294127464,0.839215695858,0.844117641449,0.848039209843,0.851960778236,0.855882346630,0.859803915024,0.863725483418,0.868627429008,0.872548997402,0.876470565796,0.880392134190,0.884313702583,0.888235270977,0.893137276173,0.897058844566,0.900980412960,0.904901981354,0.908823549747,0.912745118141,0.917647063732,0.921568632126,0.925490200520,0.929411768913,0.933333337307,0.938235282898,0.942156851292,0.946078419685,0.949999988079,0.953921556473,0.958823502064,0.962745070457,0.966666638851,0.970588207245,0.974509775639,0.979411780834,0.983333349228,0.987254917622,0.991176486015,0.995098054409,1.000000000000," />
         <RedTable Value="0.000000,1.000000,3.000000,5.000000,7.000000,10.000000,13.000000,16.000000,19.000000,21.000000,24.000000,27.000000,29.000000,32.000000,35.000000,38.000000,41.000000,44.000000,47.000000,50.000000,53.000000,57.000000,60.000000,64.000000,67.000000,71.000000,74.000000,78.000000,82.000000,85.000000,89.000000,93.000000,96.000000,100.000000,104.000000,107.000000,111.000000,115.000000,118.000000,122.000000,125.000000,129.000000,133.000000,137.000000,140.000000,144.000000,148.000000,152.000000,156.000000,160.000000,163.000000,167.000000,171.000000,175.000000,179.000000,183.000000,187.000000,191.000000,195.000000,199.000000,203.000000,207.000000,211.000000,215.000000,220.000000,224.000000,229.000000,233.000000,238.000000,243.000000,247.000000,252.000000,256.000000,261.000000,265.000000,269.000000,273.000000,277.000000,281.000000,285.000000,289.000000,293.000000,298.000000,302.000000,306.000000,311.000000,315.000000,319.000000,324.000000,328.000000,332.000000,337.000000,341.000000,345.000000,349.000000,353.000000,357.000000,361.000000,365.000000,369.000000,373.000000,378.000000,382.000000,386.000000,390.000000,394.000000,398.000000,402.000000,406.000000,410.000000,414.000000,418.000000,423.000000,427.000000,431.000000,436.000000,440.000000,445.000000,449.000000,454.000000,458.000000,463.000000,467.000000,472.000000,476.000000,481.000000,485.000000,490.000000,494.000000,498.000000,502.000000,506.000000,510.000000,514.000000,519.000000,523.000000,527.000000,531.000000,535.000000,539.000000,543.000000,547.000000,551.000000,555.000000,559.000000,563.000000,567.000000,572.000000,576.000000,580.000000,584.000000,588.000000,592.000000,596.000000,600.000000,604.000000,608.000000,612.000000,617.000000,621.000000,625.000000,629.000000,633.000000,637.000000,641.000000,645.000000,649.000000,654.000000,658.000000,662.000000,666.000000,670.000000,674.000000,678.000000,682.000000,686.000000,691.000000,695.000000,699.000000,703.000000,707.000000,711.000000,715.000000,719.000000,724.000000,728.000000,732.000000,736.000000,740.000000,744.000000,748.000000,753.000000,757.000000,761.000000,765.000000,769.000000,773.000000,777.000000,782.000000,786.000000,790.000000,794.000000,798.000000,802.000000,806.000000,811.000000,815.000000,819.000000,823.000000,827.000000,831.000000,836.000000,840.000000,844.000000,848.000000,852.000000,856.000000,861.000000,865.000000,869.000000,873.000000,877.000000,881.000000,886.000000,890.000000,894.000000,898.000000,902.000000,906.000000,911.000000,915.000000,919.000000,923.000000,927.000000,931.000000,936.000000,940.000000,944.000000,948.000000,952.000000,957.000000,961.000000,965.000000,969.000000,973.000000,978.000000,982.000000,986.000000,990.000000,994.000000,999.000000,1003.000000,1007.000000,1011.000000,1015.000000,1020.000000," />
         <GreenTable Value="0.000000,2.000000,5.000000,7.000000,10.000000,13.000000,16.000000,19.000000,22.000000,25.000000,29.000000,32.000000,36.000000,40.000000,43.000000,47.000000,51.000000,55.000000,59.000000,63.000000,67.000000,71.000000,75.000000,79.000000,83.000000,86.000000,90.000000,94.000000,98.000000,102.000000,106.000000,109.000000,113.000000,117.000000,122.000000,126.000000,130.000000,134.000000,138.000000,142.000000,145.000000,149.000000,153.000000,157.000000,161.000000,165.000000,168.000000,172.000000,176.000000,180.000000,184.000000,188.000000,192.000000,195.000000,199.000000,203.000000,207.000000,211.000000,215.000000,219.000000,223.000000,227.000000,231.000000,234.000000,238.000000,242.000000,246.000000,250.000000,254.000000,258.000000,262.000000,266.000000,270.000000,274.000000,278.000000,282.000000,286.000000,290.000000,294.000000,298.000000,301.000000,305.000000,309.000000,313.000000,317.000000,321.000000,325.000000,329.000000,333.000000,337.000000,341.000000,345.000000,349.000000,353.000000,357.000000,361.000000,365.000000,369.000000,373.000000,377.000000,381.000000,385.000000,389.000000,393.000000,397.000000,401.000000,405.000000,409.000000,413.000000,417.000000,421.000000,425.000000,429.000000,433.000000,438.000000,442.000000,446.000000,450.000000,454.000000,458.000000,462.000000,466.000000,470.000000,474.000000,478.000000,482.000000,486.000000,490.000000,494.000000,498.000000,502.000000,506.000000,510.000000,514.000000,519.000000,523.000000,527.000000,531.000000,535.000000,539.000000,543.000000,547.000000,551.000000,555.000000,559.000000,563.000000,567.000000,572.000000,576.000000,580.000000,584.000000,588.000000,592.000000,596.000000,600.000000,604.000000,608.000000,612.000000,617.000000,621.000000,625.000000,629.000000,633.000000,637.000000,641.000000,645.000000,649.000000,654.000000,658.000000,662.000000,666.000000,670.000000,674.000000,678.000000,682.000000,686.000000,691.000000,695.000000,699.000000,703.000000,707.000000,711.000000,715.000000,719.000000,724.000000,728.000000,732.000000,736.000000,740.000000,744.000000,748.000000,753.000000,757.000000,761.000000,765.000000,769.000000,773.000000,777.000000,782.000000,786.000000,790.000000,794.000000,798.000000,802.000000,806.000000,811.000000,815.000000,819.000000,823.000000,827.000000,831.000000,836.000000,840.000000,844.000000,848.000000,852.000000,856.000000,861.000000,865.000000,869.000000,873.000000,877.000000,881.000000,886.000000,890.000000,894.000000,898.000000,902.000000,906.000000,911.000000,915.000000,919.000000,923.000000,927.000000,931.000000,936.000000,940.000000,944.000000,948.000000,952.000000,957.000000,961.000000,965.000000,969.000000,973.000000,978.000000,982.000000,986.000000,990.000000,994.000000,999.000000,1003.000000,1007.000000,1011.000000,1015.000000,1020.000000," />
         <BlueTable Value="0.000000,1.000000,3.000000,5.000000,7.000000,9.000000,12.000000,14.000000,16.000000,19.000000,22.000000,25.000000,28.000000,31.000000,34.000000,37.000000,41.000000,44.000000,47.000000,51.000000,54.000000,58.000000,61.000000,65.000000,68.000000,72.000000,75.000000,78.000000,82.000000,85.000000,89.000000,92.000000,96.000000,100.000000,104.000000,108.000000,112.000000,116.000000,121.000000,125.000000,129.000000,133.000000,136.000000,140.000000,143.000000,147.000000,150.000000,154.000000,158.000000,161.000000,165.000000,168.000000,172.000000,176.000000,180.000000,184.000000,188.000000,192.000000,196.000000,200.000000,204.000000,208.000000,212.000000,215.000000,219.000000,223.000000,227.000000,231.000000,234.000000,238.000000,242.000000,246.000000,249.000000,254.000000,258.000000,262.000000,266.000000,271.000000,275.000000,279.000000,284.000000,288.000000,293.000000,297.000000,301.000000,306.000000,310.000000,314.000000,318.000000,323.000000,327.000000,331.000000,335.000000,340.000000,344.000000,348.000000,352.000000,356.000000,361.000000,365.000000,369.000000,373.000000,377.000000,382.000000,386.000000,390.000000,394.000000,398.000000,403.000000,407.000000,411.000000,416.000000,420.000000,425.000000,429.000000,434.000000,439.000000,444.000000,448.000000,453.000000,458.000000,462.000000,467.000000,471.000000,476.000000,480.000000,485.000000,489.000000,494.000000,498.000000,502.000000,506.000000,510.000000,514.000000,519.000000,523.000000,527.000000,531.000000,535.000000,539.000000,543.000000,547.000000,551.000000,555.000000,559.000000,563.000000,567.000000,572.000000,576.000000,580.000000,584.000000,588.000000,592.000000,596.000000,600.000000,604.000000,608.000000,612.000000,617.000000,621.000000,625.000000,629.000000,633.000000,637.000000,641.000000,645.000000,649.000000,654.000000,658.000000,662.000000,666.000000,670.000000,674.000000,678.000000,682.000000,686.000000,691.000000,695.000000,699.000000,703.000000,707.000000,711.000000,715.000000,719.000000,724.000000,728.000000,732.000000,736.000000,740.000000,744.000000,748.000000,753.000000,757.000000,761.000000,765.000000,769.000000,773.000000,777.000000,782.000000,786.000000,790.000000,794.000000,798.000000,802.000000,806.000000,811.000000,815.000000,819.000000,823.000000,827.000000,831.000000,836.000000,840.000000,844.000000,848.000000,852.000000,856.000000,861.000000,865.000000,869.000000,873.000000,877.000000,881.000000,886.000000,890.000000,894.000000,898.000000,902.000000,906.000000,911.000000,915.000000,919.000000,923.000000,927.000000,931.000000,936.000000,940.000000,944.000000,948.000000,952.000000,957.000000,961.000000,965.000000,969.000000,973.000000,978.000000,982.000000,986.000000,990.000000,994.000000,999.000000,1003.000000,1007.000000,1011.000000,1015.000000,1020.000000," />
@@ -34404,47 +34444,57 @@
         <Lowalpha Value="17" />
         <Hist_adj_level Value="5" />
         <ve_dnlp_adj_level Value="6" />
-        <ve_dnlp_mvreflsh Value="6" />
-        <ve_dnlp_gmma_rate Value="99" />
-        <ve_dnlp_lowalpha_new Value="28" />
-        <ve_dnlp_hghalpha_new Value="28" />
+        <ve_dnlp_mvreflsh Value="5" />
+        <ve_dnlp_gmma_rate Value="95" />
+        <ve_dnlp_lowalpha_new Value="45" />
+        <ve_dnlp_hghalpha_new Value="60" />
         <ve_dnlp_sbnbnd Value="4" />
         <ve_dnlp_sendbnd Value="4" />
-        <ve_dnlp_cliprate_new Value="5" />
+        <ve_dnlp_cliprate_new Value="30" />
         <ve_dnlp_clashBgn Value="4" />
         <ve_dnlp_clashEnd Value="10" />
-        <ve_mtdbld_rate Value="40" />
-        <ve_blkbld_rate Value="0" />
+        <ve_mtdbld_rate Value="35" />
+        <ve_dnlp_pst_gmarat Value="64" />
         <dnlp_sel Value="1" />
         <ve_dnlp_blk_cctr Value="8" />
         <ve_dnlp_brgt_ctrl Value="48" />
         <ve_dnlp_brgt_range Value="16" />
-        <ve_dnlp_brght_add Value="36" />
+        <ve_dnlp_brght_add Value="33" />
         <ve_dnlp_brght_max Value="0" />
-        <ve_dnlp_almst_wht Value="59" />
-        <ve_dnlp_hghbin Value="46" />
+        <ve_dnlp_almst_wht Value="60" />
+        <ve_dnlp_hghbin Value="49" />
         <ve_dnlp_hghnum Value="4" />
         <ve_dnlp_lowbin Value="4" />
         <ve_dnlp_lownum Value="4" />
-        <ve_dnlp_bkgend Value="20" />
-        <ve_dnlp_bkgert Value="4" />
-        <ve_dnlp_blkext Value="0" />
-        <ve_dnlp_whtext Value="8" />
-        <ve_dnlp_bextmx Value="0" />
-        <ve_dnlp_wextmx Value="2" />
+        <ve_dnlp_bkgend Value="0" />
+        <ve_dnlp_bkgert Value="64" />
+        <ve_dnlp_blkext Value="1" />
+        <ve_dnlp_whtext Value="1" />
+        <ve_dnlp_bextmx Value="1" />
+        <ve_dnlp_wextmx Value="32" />
         <ve_dnlp_smhist_ck Value="0" />
         <ve_dnlp_glb_crate Value="1" />
-        <Reg_hist_en_vs_latch Value="0" />
-        <Dnlp_En value="0" />
-        <Hist_34bin_only value="0" />
-        <Dnlp_bypass value="0" />
-        <Hist_win_En value="0" />
-        <Luma_Hist_Spl_En value="0" />
-        <Spl_sft value="0" />
-        <Reg_filt_mode value="0" />
-        <Hist_in_sel value="0" />
-        <Hist_din_comp_mux value="0" />
-        <Hist_dnlp_low value="0" />
+        <dnlp_pstgma_brghtrate Value="0" />
+        <dnlp_pstgma_brghtrat1 Value="0" />
+        <dnlp_wext_autorat Value="16" />
+        <dnlp_cliprate_min Value="16" />
+        <dnlp_adpcrat_lbnd Value="10" />
+        <dnlp_adpcrat_hbnd Value="20" />
+        <dnlp_adpmtd_lbnd Value="19" />
+        <dnlp_adpmtd_hbnd Value="20" />
+        <dnlp_set_bext Value="0" />
+        <dnlp_set_wext Value="0" />
+        <dnlp_satur_rat Value="30" />
+        <dnlp_satur_max Value="40" />
+        <blk_prct_rng Value="2" />
+        <blk_prct_max Value="16" />
+        <dnlp_lowrange Value="18" />
+        <dnlp_hghrange Value="18" />
+        <dnlp_auto_rng Value="0" />
+        <dnlp_bin0_absmax Value="16" />
+        <dnlp_bin0_sbtmax Value="128" />
+        <dnlp_adpalpha_lrate Value="32" />
+        <dnlp_adpalpha_hrate Value="32" />
         <ve_dnlp_lrate00 Value="64" />
         <ve_dnlp_lrate02 Value="64" />
         <ve_dnlp_lrate04 Value="64" />
diff --git a/p300/fstab.amlogic b/p300/fstab.amlogic
index 8fb602a..c74f2e5 100644
--- a/p300/fstab.amlogic
+++ b/p300/fstab.amlogic
@@ -14,3 +14,4 @@
 /dev/block/loop     auto                loop      defaults                                  voldmanaged=loop:auto
 /dev/block/param    /param              ext4      noatime,nosuid,nodev,nomblk_io_submit,errors=remount-ro    wait,check
 /dev/block/zram0    /swap_zram0             swap      defaults                             wait,zramsize=auto
+/dev/block/tee       /tee                 ext4      noatime,nosuid,nodev,nodelalloc,nomblk_io_submit,errors=panic    wait,check
diff --git a/p300/fstab.verity.amlogic b/p300/fstab.verity.amlogic
index c1e5cbe..82ba70d 100644
--- a/p300/fstab.verity.amlogic
+++ b/p300/fstab.verity.amlogic
@@ -10,3 +10,4 @@
 /devices/lm?/usb?/*/host*/target*/block/sd*  auto             vfat      defaults                       voldmanaged=udisk0:auto
 /devices/lm?/usb?/*/host*/target*/block/sd*  auto             vfat      defaults                       voldmanaged=udisk1:auto
 /dev/block/loop     auto                loop      defaults                                  voldmanaged=loop:auto
+/dev/block/tee       /tee                 ext4      noatime,nosuid,nodev,nodelalloc,nomblk_io_submit,errors=panic    wait,check
diff --git a/p300/init.amlogic.board.rc b/p300/init.amlogic.board.rc
index 53ad163..ec48db4 100644
--- a/p300/init.amlogic.board.rc
+++ b/p300/init.amlogic.board.rc
@@ -7,12 +7,16 @@ on early-init
     mount configfs configfs /sys/kernel/config
     #mount usbfs none /proc/bus/usb
 
+    insmod /boot/optee.ko
+    insmod /boot/optee_armtz.ko
+
     insmod /boot/instaboot.ko
     insmod /boot/si2151_fe.ko
 
 on init
 
 on post-fs-data
+    mkdir  /data/tee
     insmod /system/lib/mali.ko
 
 on boot
@@ -37,6 +41,8 @@ on boot
     # chmod 0666 /dev/ge2d
     chmod 666 /dev/cec
     chmod 666 /dev/dvb0.frontend0
+    chmod 0666 /dev/opteearmtz00
+    chmod 0666 /dev/tee0
     mount debugfs debugfs /sys/kernel/debug mode=755
 
 on fs
@@ -72,3 +78,9 @@ service p2p_supplicant /system/bin/wpa_supplicant \
     socket wpa_wlan0 dgram 660 wifi wifi
     disabled
     oneshot
+
+service tee_supplicant /system/bin/tee-supplicant
+	class main
+	oneshot
+	seclabel u:r:tee:s0
+
diff --git a/p300/overlay/frameworks/base/core/res/res/values/config.xml b/p300/overlay/frameworks/base/core/res/res/values/config.xml
index 1d415e5..2313c50 100644
--- a/p300/overlay/frameworks/base/core/res/res/values/config.xml
+++ b/p300/overlay/frameworks/base/core/res/res/values/config.xml
@@ -96,4 +96,6 @@
         <item>com.android.location.fused</item>
     </string-array>
     <integer name="config_longPressOnPowerBehavior">3</integer>
+    <!--  Maximum number of supported users -->
+    <integer name="config_multiuserMaximumUsers">2</integer>
 </resources>
diff --git a/p300/p300.mk b/p300/p300.mk
index 6e6c2e1..68fb723 100644
--- a/p300/p300.mk
+++ b/p300/p300.mk
@@ -60,7 +60,29 @@ PRODUCT_AML_SECUREBOOT_SIGNBOOTLOADER := $(PRODUCT_AML_SECUREBOOT_SIGNTOOL) --bo
 PRODUCT_AML_SECUREBOOT_SIGNIMAGE := $(PRODUCT_AML_SECUREBOOT_SIGNTOOL) --imgsig \
 					--amluserkey $(PRODUCT_AML_SECUREBOOT_USERKEY)
 
+########################################################################
+#
+#                           ATV
+#
+########################################################################
+ifeq ($(BOARD_COMPILE_ATV),true)
+BOARD_COMPILE_CTS := true
+TARGET_BUILD_GOOGLE_ATV:= true
+endif
+########################################################################
 
+########################################################################
+#
+#                           CTS
+#
+########################################################################
+ifeq ($(BOARD_COMPILE_CTS),true)
+BOARD_WIDEVINE_OEMCRYPTO_LEVEL := 1
+BOARD_PLAYREADY_LEVEL := 1
+TARGET_BUILD_CTS:= true
+TARGET_BUILD_NETFLIX:= true
+endif
+########################################################################
 
 #########################################################################
 #
@@ -197,8 +219,9 @@ PRODUCT_LOCALES := en_US en_AU en_IN fr_FR it_IT es_ES et_EE de_DE nl_NL cs_CZ p
 #                                                PPPOE
 #
 #################################################################################
-
+ifneq ($(TARGET_BUILD_GOOGLE_ATV), true)
 BUILD_WITH_PPPOE := true
+endif
 
 ifeq ($(BUILD_WITH_PPPOE),true)
 PRODUCT_PACKAGES += \
@@ -213,7 +236,6 @@ PRODUCT_PACKAGES += \
 PRODUCT_PROPERTY_OVERRIDES += \
     ro.platform.has.pppoe=true
 endif
-
 #################################################################################
 #
 #                                                DEFAULT LOWMEMORYKILLER CONFIG
@@ -226,9 +248,13 @@ BOARD_USES_USB_PM := true
 #PRODUCT_COPY_FILES += \
 #    $(LOCAL_PATH)/Third_party_apk_camera.xml:system/etc/Third_party_apk_camera.xml \
 
-TARGET_BUILD_CTS:= false
-TARGET_BUILD_GOOGLE_ATV:= false
-TARGET_BUILD_NETFLIX:= false
+ifeq ($(TARGET_BUILD_GOOGLE_ATV),true)
+PRODUCT_PROPERTY_OVERRIDES += \
+    ro.sf.lcd_density=320
+else
+PRODUCT_PROPERTY_OVERRIDES += \
+    ro.sf.lcd_density=240
+endif
 
 #########################################################################
 #
diff --git a/p300/system.prop b/p300/system.prop
index 6a3bd47..0f65e94 100644
--- a/p300/system.prop
+++ b/p300/system.prop
@@ -11,8 +11,6 @@ ro.camera.preview.UseMJPEG=1
 #if wifi Only
 ro.radio.noril=false
 
-ro.sf.lcd_density=240
-
 #if need pppoe
 ro.net.pppoe=true
 
diff --git a/p301/files/tv/pq.xml b/p301/files/tv/pq.xml
index addb550..68643b7 100644
--- a/p301/files/tv/pq.xml
+++ b/p301/files/tv/pq.xml
@@ -954,47 +954,57 @@
         <Lowalpha Value="17" />
         <Hist_adj_level Value="5" />
         <ve_dnlp_adj_level Value="6" />
-        <ve_dnlp_mvreflsh Value="5" />
-        <ve_dnlp_gmma_rate Value="138" />
-        <ve_dnlp_lowalpha_new Value="22" />
-        <ve_dnlp_hghalpha_new Value="30" />
+        <ve_dnlp_mvreflsh Value="4" />
+        <ve_dnlp_gmma_rate Value="150" />
+        <ve_dnlp_lowalpha_new Value="28" />
+        <ve_dnlp_hghalpha_new Value="50" />
         <ve_dnlp_sbnbnd Value="0" />
         <ve_dnlp_sendbnd Value="0" />
-        <ve_dnlp_cliprate_new Value="6" />
+        <ve_dnlp_cliprate_new Value="36" />
         <ve_dnlp_clashBgn Value="0" />
-        <ve_dnlp_clashEnd Value="14" />
-        <ve_mtdbld_rate Value="50" />
-        <ve_blkbld_rate Value="6" />
+        <ve_dnlp_clashEnd Value="15" />
+        <ve_mtdbld_rate Value="40" />
+        <ve_dnlp_pst_gmarat Value="65" />
         <dnlp_sel Value="1" />
         <ve_dnlp_blk_cctr Value="8" />
         <ve_dnlp_brgt_ctrl Value="48" />
         <ve_dnlp_brgt_range Value="16" />
         <ve_dnlp_brght_add Value="32" />
         <ve_dnlp_brght_max Value="0" />
-        <ve_dnlp_almst_wht Value="62" />
+        <ve_dnlp_almst_wht Value="60" />
         <ve_dnlp_hghbin Value="55" />
-        <ve_dnlp_hghnum Value="4" />
-        <ve_dnlp_lowbin Value="4" />
-        <ve_dnlp_lownum Value="4" />
-        <ve_dnlp_bkgend Value="20" />
-        <ve_dnlp_bkgert Value="2" />
-        <ve_dnlp_blkext Value="2" />
-        <ve_dnlp_whtext Value="8" />
-        <ve_dnlp_bextmx Value="2" />
-        <ve_dnlp_wextmx Value="2" />
+        <ve_dnlp_hghnum Value="0" />
+        <ve_dnlp_lowbin Value="0" />
+        <ve_dnlp_lownum Value="0" />
+        <ve_dnlp_bkgend Value="0" />
+        <ve_dnlp_bkgert Value="64" />
+        <ve_dnlp_blkext Value="4" />
+        <ve_dnlp_whtext Value="4" />
+        <ve_dnlp_bextmx Value="4" />
+        <ve_dnlp_wextmx Value="32" />
         <ve_dnlp_smhist_ck Value="0" />
         <ve_dnlp_glb_crate Value="1" />
-        <Reg_hist_en_vs_latch Value="0" />
-        <Dnlp_En value="0" />
-        <Hist_34bin_only value="0" />
-        <Dnlp_bypass value="0" />
-        <Hist_win_En value="0" />
-        <Luma_Hist_Spl_En value="0" />
-        <Spl_sft value="0" />
-        <Reg_filt_mode value="0" />
-        <Hist_in_sel value="0" />
-        <Hist_din_comp_mux value="0" />
-        <Hist_dnlp_low value="0" />
+        <dnlp_pstgma_brghtrate Value="8" />
+        <dnlp_pstgma_brghtrat1 Value="15" />
+        <dnlp_wext_autorat Value="16" />
+        <dnlp_cliprate_min Value="19" />
+        <dnlp_adpcrat_lbnd Value="10" />
+        <dnlp_adpcrat_hbnd Value="20" />
+        <dnlp_adpmtd_lbnd Value="19" />
+        <dnlp_adpmtd_hbnd Value="20" />
+        <dnlp_set_bext Value="0" />
+        <dnlp_set_wext Value="0" />
+        <dnlp_satur_rat Value="30" />
+        <dnlp_satur_max Value="40" />
+        <blk_prct_rng Value="2" />
+        <blk_prct_max Value="16" />
+        <dnlp_lowrange Value="18" />
+        <dnlp_hghrange Value="18" />
+        <dnlp_auto_rng Value="0" />
+        <dnlp_bin0_absmax Value="16" />
+        <dnlp_bin0_sbtmax Value="128" />
+        <dnlp_adpalpha_lrate Value="32" />
+        <dnlp_adpalpha_hrate Value="32" />
         <ve_dnlp_lrate00 Value="64" />
         <ve_dnlp_lrate02 Value="64" />
         <ve_dnlp_lrate04 Value="64" />
@@ -1052,47 +1062,57 @@
         <Lowalpha Value="18" />
         <Hist_adj_level Value="5" />
         <ve_dnlp_adj_level Value="6" />
-        <ve_dnlp_mvreflsh Value="5" />
+        <ve_dnlp_mvreflsh Value="4" />
         <ve_dnlp_gmma_rate Value="128" />
-        <ve_dnlp_lowalpha_new Value="22" />
-        <ve_dnlp_hghalpha_new Value="28" />
+        <ve_dnlp_lowalpha_new Value="40" />
+        <ve_dnlp_hghalpha_new Value="60" />
         <ve_dnlp_sbnbnd Value="0" />
         <ve_dnlp_sendbnd Value="0" />
-        <ve_dnlp_cliprate_new Value="6" />
+        <ve_dnlp_cliprate_new Value="34" />
         <ve_dnlp_clashBgn Value="0" />
-        <ve_dnlp_clashEnd Value="14" />
-        <ve_mtdbld_rate Value="50" />
-        <ve_blkbld_rate Value="0" />
+        <ve_dnlp_clashEnd Value="15" />
+        <ve_mtdbld_rate Value="40" />
+        <ve_dnlp_pst_gmarat Value="65" />
         <dnlp_sel Value="1" />
         <ve_dnlp_blk_cctr Value="8" />
         <ve_dnlp_brgt_ctrl Value="48" />
         <ve_dnlp_brgt_range Value="16" />
-        <ve_dnlp_brght_add Value="34" />
+        <ve_dnlp_brght_add Value="33" />
         <ve_dnlp_brght_max Value="0" />
-        <ve_dnlp_almst_wht Value="62" />
+        <ve_dnlp_almst_wht Value="60" />
         <ve_dnlp_hghbin Value="55" />
         <ve_dnlp_hghnum Value="4" />
         <ve_dnlp_lowbin Value="4" />
         <ve_dnlp_lownum Value="4" />
-        <ve_dnlp_bkgend Value="20" />
-        <ve_dnlp_bkgert Value="4" />
+        <ve_dnlp_bkgend Value="0" />
+        <ve_dnlp_bkgert Value="64" />
         <ve_dnlp_blkext Value="4" />
-        <ve_dnlp_whtext Value="8" />
-        <ve_dnlp_bextmx Value="2" />
-        <ve_dnlp_wextmx Value="2" />
+        <ve_dnlp_whtext Value="4" />
+        <ve_dnlp_bextmx Value="4" />
+        <ve_dnlp_wextmx Value="32" />
         <ve_dnlp_smhist_ck Value="0" />
         <ve_dnlp_glb_crate Value="1" />
-        <Reg_hist_en_vs_latch Value="0" />
-        <Dnlp_En value="0" />
-        <Hist_34bin_only value="0" />
-        <Dnlp_bypass value="0" />
-        <Hist_win_En value="0" />
-        <Luma_Hist_Spl_En value="0" />
-        <Spl_sft value="0" />
-        <Reg_filt_mode value="0" />
-        <Hist_in_sel value="0" />
-        <Hist_din_comp_mux value="0" />
-        <Hist_dnlp_low value="0" />
+        <dnlp_pstgma_brghtrate Value="8" />
+        <dnlp_pstgma_brghtrat1 Value="15" />
+        <dnlp_wext_autorat Value="16" />
+        <dnlp_cliprate_min Value="19" />
+        <dnlp_adpcrat_lbnd Value="10" />
+        <dnlp_adpcrat_hbnd Value="20" />
+        <dnlp_adpmtd_lbnd Value="19" />
+        <dnlp_adpmtd_hbnd Value="20" />
+        <dnlp_set_bext Value="0" />
+        <dnlp_set_wext Value="0" />
+        <dnlp_satur_rat Value="30" />
+        <dnlp_satur_max Value="40" />
+        <blk_prct_rng Value="2" />
+        <blk_prct_max Value="16" />
+        <dnlp_lowrange Value="18" />
+        <dnlp_hghrange Value="18" />
+        <dnlp_auto_rng Value="0" />
+        <dnlp_bin0_absmax Value="16" />
+        <dnlp_bin0_sbtmax Value="128" />
+        <dnlp_adpalpha_lrate Value="32" />
+        <dnlp_adpalpha_hrate Value="32" />
         <ve_dnlp_lrate00 Value="64" />
         <ve_dnlp_lrate02 Value="64" />
         <ve_dnlp_lrate04 Value="64" />
@@ -1155,45 +1175,55 @@
         <ve_dnlp_adj_level Value="6" />
         <ve_dnlp_mvreflsh Value="5" />
         <ve_dnlp_gmma_rate Value="150" />
-        <ve_dnlp_lowalpha_new Value="22" />
-        <ve_dnlp_hghalpha_new Value="28" />
+        <ve_dnlp_lowalpha_new Value="55" />
+        <ve_dnlp_hghalpha_new Value="50" />
         <ve_dnlp_sbnbnd Value="0" />
         <ve_dnlp_sendbnd Value="0" />
-        <ve_dnlp_cliprate_new Value="6" />
+        <ve_dnlp_cliprate_new Value="34" />
         <ve_dnlp_clashBgn Value="0" />
         <ve_dnlp_clashEnd Value="15" />
-        <ve_mtdbld_rate Value="55" />
-        <ve_blkbld_rate Value="0" />
+        <ve_mtdbld_rate Value="30" />
+        <ve_dnlp_pst_gmarat Value="65" />
         <dnlp_sel Value="1" />
         <ve_dnlp_blk_cctr Value="8" />
         <ve_dnlp_brgt_ctrl Value="48" />
         <ve_dnlp_brgt_range Value="16" />
-        <ve_dnlp_brght_add Value="34" />
+        <ve_dnlp_brght_add Value="32" />
         <ve_dnlp_brght_max Value="0" />
-        <ve_dnlp_almst_wht Value="63" />
+        <ve_dnlp_almst_wht Value="60" />
         <ve_dnlp_hghbin Value="55" />
         <ve_dnlp_hghnum Value="4" />
         <ve_dnlp_lowbin Value="4" />
         <ve_dnlp_lownum Value="4" />
-        <ve_dnlp_bkgend Value="20" />
-        <ve_dnlp_bkgert Value="4" />
+        <ve_dnlp_bkgend Value="0" />
+        <ve_dnlp_bkgert Value="64" />
         <ve_dnlp_blkext Value="4" />
-        <ve_dnlp_whtext Value="8" />
-        <ve_dnlp_bextmx Value="2" />
-        <ve_dnlp_wextmx Value="2" />
+        <ve_dnlp_whtext Value="4" />
+        <ve_dnlp_bextmx Value="4" />
+        <ve_dnlp_wextmx Value="32" />
         <ve_dnlp_smhist_ck Value="0" />
         <ve_dnlp_glb_crate Value="1" />
-        <Reg_hist_en_vs_latch Value="0" />
-        <Dnlp_En value="0" />
-        <Hist_34bin_only value="0" />
-        <Dnlp_bypass value="0" />
-        <Hist_win_En value="0" />
-        <Luma_Hist_Spl_En value="0" />
-        <Spl_sft value="0" />
-        <Reg_filt_mode value="0" />
-        <Hist_in_sel value="0" />
-        <Hist_din_comp_mux value="0" />
-        <Hist_dnlp_low value="0" />
+        <dnlp_pstgma_brghtrate Value="10" />
+        <dnlp_pstgma_brghtrat1 Value="15" />
+        <dnlp_wext_autorat Value="16" />
+        <dnlp_cliprate_min Value="19" />
+        <dnlp_adpcrat_lbnd Value="10" />
+        <dnlp_adpcrat_hbnd Value="20" />
+        <dnlp_adpmtd_lbnd Value="19" />
+        <dnlp_adpmtd_hbnd Value="20" />
+        <dnlp_set_bext Value="0" />
+        <dnlp_set_wext Value="0" />
+        <dnlp_satur_rat Value="30" />
+        <dnlp_satur_max Value="40" />
+        <blk_prct_rng Value="2" />
+        <blk_prct_max Value="16" />
+        <dnlp_lowrange Value="18" />
+        <dnlp_hghrange Value="18" />
+        <dnlp_auto_rng Value="0" />
+        <dnlp_bin0_absmax Value="16" />
+        <dnlp_bin0_sbtmax Value="128" />
+        <dnlp_adpalpha_lrate Value="32" />
+        <dnlp_adpalpha_hrate Value="32" />
         <ve_dnlp_lrate00 Value="64" />
         <ve_dnlp_lrate02 Value="64" />
         <ve_dnlp_lrate04 Value="64" />
@@ -1257,46 +1287,56 @@
         <Hist_adj_level Value="5" />
         <ve_dnlp_adj_level Value="6" />
         <ve_dnlp_mvreflsh Value="5" />
-        <ve_dnlp_gmma_rate Value="158" />
-        <ve_dnlp_lowalpha_new Value="22" />
-        <ve_dnlp_hghalpha_new Value="26" />
+        <ve_dnlp_gmma_rate Value="140" />
+        <ve_dnlp_lowalpha_new Value="36" />
+        <ve_dnlp_hghalpha_new Value="45" />
         <ve_dnlp_sbnbnd Value="0" />
         <ve_dnlp_sendbnd Value="0" />
-        <ve_dnlp_cliprate_new Value="6" />
+        <ve_dnlp_cliprate_new Value="30" />
         <ve_dnlp_clashBgn Value="0" />
         <ve_dnlp_clashEnd Value="15" />
         <ve_mtdbld_rate Value="50" />
-        <ve_blkbld_rate Value="0" />
+        <ve_dnlp_pst_gmarat Value="65" />
         <dnlp_sel Value="1" />
         <ve_dnlp_blk_cctr Value="8" />
         <ve_dnlp_brgt_ctrl Value="48" />
         <ve_dnlp_brgt_range Value="16" />
-        <ve_dnlp_brght_add Value="34" />
+        <ve_dnlp_brght_add Value="33" />
         <ve_dnlp_brght_max Value="0" />
-        <ve_dnlp_almst_wht Value="63" />
+        <ve_dnlp_almst_wht Value="60" />
         <ve_dnlp_hghbin Value="55" />
         <ve_dnlp_hghnum Value="4" />
         <ve_dnlp_lowbin Value="4" />
         <ve_dnlp_lownum Value="4" />
-        <ve_dnlp_bkgend Value="20" />
-        <ve_dnlp_bkgert Value="4" />
-        <ve_dnlp_blkext Value="8" />
-        <ve_dnlp_whtext Value="8" />
-        <ve_dnlp_bextmx Value="2" />
-        <ve_dnlp_wextmx Value="2" />
+        <ve_dnlp_bkgend Value="4" />
+        <ve_dnlp_bkgert Value="64" />
+        <ve_dnlp_blkext Value="4" />
+        <ve_dnlp_whtext Value="4" />
+        <ve_dnlp_bextmx Value="4" />
+        <ve_dnlp_wextmx Value="32" />
         <ve_dnlp_smhist_ck Value="0" />
         <ve_dnlp_glb_crate Value="1" />
-        <Reg_hist_en_vs_latch Value="0" />
-        <Dnlp_En value="0" />
-        <Hist_34bin_only value="0" />
-        <Dnlp_bypass value="0" />
-        <Hist_win_En value="0" />
-        <Luma_Hist_Spl_En value="0" />
-        <Spl_sft value="0" />
-        <Reg_filt_mode value="0" />
-        <Hist_in_sel value="0" />
-        <Hist_din_comp_mux value="0" />
-        <Hist_dnlp_low value="0" />
+        <dnlp_pstgma_brghtrate Value="10" />
+        <dnlp_pstgma_brghtrat1 Value="15" />
+        <dnlp_wext_autorat Value="16" />
+        <dnlp_cliprate_min Value="18" />
+        <dnlp_adpcrat_lbnd Value="10" />
+        <dnlp_adpcrat_hbnd Value="20" />
+        <dnlp_adpmtd_lbnd Value="19" />
+        <dnlp_adpmtd_hbnd Value="20" />
+        <dnlp_set_bext Value="0" />
+        <dnlp_set_wext Value="0" />
+        <dnlp_satur_rat Value="20" />
+        <dnlp_satur_max Value="40" />
+        <blk_prct_rng Value="2" />
+        <blk_prct_max Value="16" />
+        <dnlp_lowrange Value="18" />
+        <dnlp_hghrange Value="18" />
+        <dnlp_auto_rng Value="0" />
+        <dnlp_bin0_absmax Value="16" />
+        <dnlp_bin0_sbtmax Value="128" />
+        <dnlp_adpalpha_lrate Value="32" />
+        <dnlp_adpalpha_hrate Value="32" />
         <ve_dnlp_lrate00 Value="64" />
         <ve_dnlp_lrate02 Value="64" />
         <ve_dnlp_lrate04 Value="64" />
@@ -10776,7 +10816,7 @@
         </RelatedField>
         <RedCurve Value="0.000000000000,0.001785118482,0.003754314966,0.005682894960,0.007829389535,0.010296771303,0.013048983179,0.015953097492,0.019001664594,0.021521855146,0.024080703035,0.026680149138,0.029322123155,0.032008558512,0.034741390496,0.037522550672,0.040353968740,0.043367587030,0.046467538923,0.049646411091,0.052896801382,0.056211300194,0.059582497925,0.063002988696,0.066465362906,0.069962546229,0.073488749564,0.077038541436,0.080606468022,0.084187075496,0.087774917483,0.091364547610,0.094950519502,0.098602727056,0.102200962603,0.105759114027,0.109291099012,0.112810842693,0.116332247853,0.119869217277,0.123435683548,0.127095147967,0.130785852671,0.134499236941,0.138226777315,0.141959935427,0.145690158010,0.149408936501,0.153107717633,0.156923845410,0.160759314895,0.164610341191,0.168473139405,0.172343939543,0.176218986511,0.180094480515,0.183966636658,0.187834888697,0.191711515188,0.195611923933,0.199551641941,0.203546091914,0.207610741258,0.211761027575,0.216012433171,0.220416799188,0.224887326360,0.229397580028,0.233921080828,0.238431423903,0.242902129889,0.247306779027,0.251618891954,0.255916923285,0.260076224804,0.264129459858,0.268109411001,0.272048771381,0.275980263948,0.279936671257,0.283950626850,0.288075089455,0.292250394821,0.296466857195,0.300714731216,0.304984390736,0.309266120195,0.313550263643,0.317827105522,0.322086989880,0.326320201159,0.330517083406,0.334667921066,0.338763058186,0.342792779207,0.346747428179,0.350617289543,0.354670315981,0.358688831329,0.362679064274,0.366647243500,0.370599627495,0.374542444944,0.378481894732,0.382424235344,0.386375695467,0.390342503786,0.394330918789,0.398347139359,0.402397394180,0.406487941742,0.410625010729,0.414814800024,0.419061362743,0.423359721899,0.427702724934,0.432083159685,0.436493873596,0.440927684307,0.445377409458,0.449835866690,0.454295903444,0.458750307560,0.463191926479,0.467613607645,0.472008109093,0.476368308067,0.480687022209,0.484957039356,0.488935977221,0.492916464806,0.496898472309,0.500882029533,0.504867017269,0.508853614330,0.512841641903,0.516831159592,0.520822107792,0.524814546108,0.528808414936,0.532803714275,0.536800444126,0.540798604488,0.544798195362,0.548799157143,0.552801489830,0.556805253029,0.560810327530,0.564816832542,0.568824648857,0.572833776474,0.576844274998,0.580856144428,0.584869265556,0.588883757591,0.592899501324,0.596916556358,0.600934922695,0.604954540730,0.608975470066,0.612997591496,0.617021024227,0.621045708656,0.625071644783,0.629098773003,0.633127152920,0.637156784534,0.641187608242,0.645219564438,0.649252831936,0.653287231922,0.657322824001,0.661359608173,0.665397524834,0.669436693192,0.673476994038,0.677518427372,0.681561052799,0.685604751110,0.689649581909,0.693695604801,0.697742700577,0.701790988445,0.705840289593,0.709890782833,0.713942289352,0.717994928360,0.722048699856,0.726103544235,0.730159461498,0.734216451645,0.738274455070,0.742333531380,0.746393680573,0.750454902649,0.754517197609,0.758580505848,0.762644827366,0.766710221767,0.770776569843,0.774843990803,0.778912484646,0.782981932163,0.787052333355,0.791123867035,0.795196294785,0.799269795418,0.803344190121,0.807419598103,0.811496019363,0.815573394299,0.819651782513,0.823731124401,0.827811300755,0.831892609596,0.835974752903,0.840057969093,0.844141960144,0.848227024078,0.852313041687,0.856399893761,0.860487699509,0.864576458931,0.868666172028,0.872756719589,0.876848280430,0.880940675735,0.885033965111,0.889128208160,0.893223345280,0.897319316864,0.901416242123,0.905514061451,0.909612655640,0.913712203503,0.917812645435,0.921913981438,0.926016151905,0.930119156837,0.934223055840,0.938327848911,0.942433476448,0.946539878845,0.950647234917,0.954755425453,0.958864390850,0.962974250317,0.967084884644,0.971196353436,0.975308716297,0.979421854019,0.983535885811,0.987650692463,0.991766273975,0.995882689953,1.000000000000," />
         <GreenCurve Value="0.000000000000,0.001960784430,0.004901960958,0.006862745155,0.009803921916,0.012745098211,0.015686275437,0.018627451733,0.021568628028,0.024509804323,0.028431372717,0.031372550875,0.035294119269,0.039215687662,0.042156863958,0.046078432351,0.050000000745,0.053921569139,0.057843137532,0.061764705926,0.065686278045,0.069607846439,0.073529414833,0.077450983226,0.081372551620,0.084313727915,0.088235296309,0.092156864703,0.096078433096,0.100000001490,0.103921569884,0.106862746179,0.110784314573,0.114705882967,0.119607843459,0.123529411852,0.127450987697,0.131372556090,0.135294124484,0.139215692878,0.142156869173,0.146078437567,0.150000005960,0.153921574354,0.157843142748,0.161764711142,0.164705887437,0.168627455831,0.172549024224,0.176470592618,0.180392161012,0.184313729405,0.188235297799,0.191176474094,0.195098042488,0.199019610882,0.202941179276,0.206862747669,0.210784316063,0.214705884457,0.218627452850,0.222549021244,0.226470589638,0.229411765933,0.233333334327,0.237254902720,0.241176471114,0.245098039508,0.249019607902,0.252941191196,0.256862759590,0.260784327984,0.264705896378,0.268627464771,0.272549033165,0.276470601559,0.280392169952,0.284313738346,0.288235306740,0.292156875134,0.295098036528,0.299019604921,0.302941173315,0.306862741709,0.310784310102,0.314705878496,0.318627446890,0.322549015284,0.326470583677,0.330392152071,0.334313720465,0.338235288858,0.342156857252,0.346078425646,0.349999994040,0.353921562433,0.357843130827,0.361764699221,0.365686267614,0.369607836008,0.373529404402,0.377450972795,0.381372541189,0.385294109583,0.389215677977,0.393137246370,0.397058814764,0.400980383158,0.404901951551,0.408823519945,0.412745088339,0.416666656733,0.420588225126,0.424509793520,0.429411768913,0.433333337307,0.437254905701,0.441176474094,0.445098042488,0.449019610882,0.452941179276,0.456862747669,0.460784316063,0.464705884457,0.468627452850,0.472549021244,0.476470589638,0.480392158031,0.484313726425,0.488235294819,0.492156863213,0.496078431606,0.500000000000,0.503921568394,0.508823513985,0.512745082378,0.516666650772,0.520588219166,0.524509787560,0.528431355953,0.532352924347,0.536274492741,0.540196061134,0.544117629528,0.548039197922,0.551960766315,0.555882334709,0.560784339905,0.564705908298,0.568627476692,0.572549045086,0.576470613480,0.580392181873,0.584313750267,0.588235318661,0.592156887054,0.596078455448,0.600000023842,0.604901969433,0.608823537827,0.612745106220,0.616666674614,0.620588243008,0.624509811401,0.628431379795,0.632352948189,0.636274516582,0.641176462173,0.645098030567,0.649019598961,0.652941167355,0.656862735748,0.660784304142,0.664705872536,0.668627440929,0.672549009323,0.677450954914,0.681372523308,0.685294091702,0.689215660095,0.693137228489,0.697058796883,0.700980365276,0.704901933670,0.709803938866,0.713725507259,0.717647075653,0.721568644047,0.725490212440,0.729411780834,0.733333349228,0.738235294819,0.742156863213,0.746078431606,0.750000000000,0.753921568394,0.757843136787,0.761764705181,0.766666650772,0.770588219166,0.774509787560,0.778431355953,0.782352924347,0.786274492741,0.790196061134,0.795098066330,0.799019634724,0.802941203117,0.806862771511,0.810784339905,0.814705908298,0.819607853889,0.823529422283,0.827450990677,0.831372559071,0.835294127464,0.839215695858,0.844117641449,0.848039209843,0.851960778236,0.855882346630,0.859803915024,0.863725483418,0.868627429008,0.872548997402,0.876470565796,0.880392134190,0.884313702583,0.888235270977,0.893137276173,0.897058844566,0.900980412960,0.904901981354,0.908823549747,0.912745118141,0.917647063732,0.921568632126,0.925490200520,0.929411768913,0.933333337307,0.938235282898,0.942156851292,0.946078419685,0.949999988079,0.953921556473,0.958823502064,0.962745070457,0.966666638851,0.970588207245,0.974509775639,0.979411780834,0.983333349228,0.987254917622,0.991176486015,0.995098054409,1.000000000000," />
-        <BlueCurve Value="0.000000000000,0.001697949599,0.003500942374,0.005409825593,0.007425446529,0.009548652917,0.011780292727,0.014121212065,0.016572259367,0.019134279341,0.021808125079,0.024594638497,0.027494670823,0.030509063974,0.033638674766,0.036884341389,0.040246915072,0.043573051691,0.046953167766,0.050371281803,0.053811423481,0.057257618755,0.060693886131,0.064104259014,0.067472763360,0.070790655911,0.074078112841,0.077362544835,0.080671355128,0.084031961858,0.087471768260,0.091018185019,0.094698615372,0.098474755883,0.102399274707,0.106429249048,0.110521785915,0.114633977413,0.118722915649,0.122745692730,0.126659408212,0.130432873964,0.134081885219,0.137633919716,0.141116470098,0.144557043910,0.147983163595,0.151422291994,0.154901966453,0.158393070102,0.161969870329,0.165622234344,0.169339969754,0.173113003373,0.176931142807,0.180784314871,0.184662312269,0.188555181026,0.192453503609,0.196347996593,0.200229465961,0.204088583589,0.207916110754,0.211702793837,0.215439364314,0.219306126237,0.223050370812,0.226709410548,0.230320557952,0.233921125531,0.237548470497,0.241239890456,0.245032697916,0.249143391848,0.253284037113,0.257448792458,0.261631906033,0.265827476978,0.270029783249,0.274233013391,0.278431385756,0.282352954149,0.287254899740,0.291176468134,0.295098036528,0.300000011921,0.303921580315,0.307843148708,0.311764717102,0.316666662693,0.320588231087,0.324509799480,0.328431367874,0.333333343267,0.337254911661,0.341176480055,0.345098048449,0.349019616842,0.353921562433,0.357843130827,0.361764699221,0.365686267614,0.369607836008,0.374509811401,0.378431379795,0.382352948189,0.386274516582,0.390196084976,0.395098030567,0.399019598961,0.402941167355,0.407843142748,0.411764711142,0.416666656733,0.420588225126,0.425490200520,0.430392146111,0.435294121504,0.439215689898,0.444117635489,0.449019610882,0.452941179276,0.457843124866,0.461764693260,0.466666668653,0.470588237047,0.475490182638,0.479411751032,0.484313726425,0.488235294819,0.492156863213,0.496078431606,0.500000000000,0.503921568394,0.508823513985,0.512745082378,0.516666650772,0.520588219166,0.524509787560,0.528431355953,0.532352924347,0.536274492741,0.540196061134,0.544117629528,0.548039197922,0.551960766315,0.555882334709,0.560784339905,0.564705908298,0.568627476692,0.572549045086,0.576470613480,0.580392181873,0.584313750267,0.588235318661,0.592156887054,0.596078455448,0.600000023842,0.604901969433,0.608823537827,0.612745106220,0.616666674614,0.620588243008,0.624509811401,0.628431379795,0.632352948189,0.636274516582,0.641176462173,0.645098030567,0.649019598961,0.652941167355,0.656862735748,0.660784304142,0.664705872536,0.668627440929,0.672549009323,0.677450954914,0.681372523308,0.685294091702,0.689215660095,0.693137228489,0.697058796883,0.700980365276,0.704901933670,0.709803938866,0.713725507259,0.717647075653,0.721568644047,0.725490212440,0.729411780834,0.733333349228,0.738235294819,0.742156863213,0.746078431606,0.750000000000,0.753921568394,0.757843136787,0.761764705181,0.766666650772,0.770588219166,0.774509787560,0.778431355953,0.782352924347,0.786274492741,0.790196061134,0.795098066330,0.799019634724,0.802941203117,0.806862771511,0.810784339905,0.814705908298,0.819607853889,0.823529422283,0.827450990677,0.831372559071,0.835294127464,0.839215695858,0.844117641449,0.848039209843,0.851960778236,0.855882346630,0.859803915024,0.863725483418,0.868627429008,0.872548997402,0.876470565796,0.880392134190,0.884313702583,0.888235270977,0.893137276173,0.897058844566,0.900980412960,0.904901981354,0.908823549747,0.912745118141,0.917647063732,0.921568632126,0.925490200520,0.929411768913,0.933333337307,0.938235282898,0.942156851292,0.946078419685,0.949999988079,0.953921556473,0.958823502064,0.962745070457,0.966666638851,0.970588207245,0.974509775639,0.979411780834,0.983333349228,0.987254917622,0.991176486015,0.995098054409,1.000000000000," />
+        <BlueCurve Value="0.000000000000,0.000980392215,0.002941176528,0.004901960958,0.006862745155,0.008823529817,0.011764706112,0.013725490309,0.015686275437,0.018627451733,0.021568628028,0.024509804323,0.027450980619,0.030392156914,0.033333335072,0.036274511367,0.040196079761,0.043137256056,0.046078432351,0.050000000745,0.052941177040,0.056862745434,0.059803921729,0.063725493848,0.066666670144,0.070588238537,0.073529414833,0.076470591128,0.080392159522,0.083333335817,0.087254904211,0.090196080506,0.094117648900,0.098039217293,0.101960785687,0.105882354081,0.109803922474,0.113725490868,0.118627451360,0.122549019754,0.126470595598,0.130392163992,0.133333340287,0.137254908681,0.140196084976,0.144117653370,0.147058829665,0.150980398059,0.154901966453,0.157843142748,0.161764711142,0.164705887437,0.168627455831,0.172549024224,0.176470592618,0.180392161012,0.184313729405,0.188235297799,0.192156866193,0.196078434587,0.200000002980,0.203921571374,0.207843139768,0.210784316063,0.214705884457,0.218627452850,0.222549021244,0.226470589638,0.229411765933,0.233333334327,0.237254902720,0.241176471114,0.244117647409,0.249019607902,0.252941191196,0.256862759590,0.260784327984,0.265686273575,0.269607841969,0.273529410362,0.278431385756,0.282352954149,0.287254899740,0.291176468134,0.295098036528,0.300000011921,0.303921580315,0.307843148708,0.311764717102,0.316666662693,0.320588231087,0.324509799480,0.328431367874,0.333333343267,0.337254911661,0.341176480055,0.345098048449,0.349019616842,0.353921562433,0.357843130827,0.361764699221,0.365686267614,0.369607836008,0.374509811401,0.378431379795,0.382352948189,0.386274516582,0.390196084976,0.395098030567,0.399019598961,0.402941167355,0.407843142748,0.411764711142,0.416666656733,0.420588225126,0.425490200520,0.430392146111,0.435294121504,0.439215689898,0.444117635489,0.449019610882,0.452941179276,0.457843124866,0.461764693260,0.466666668653,0.470588237047,0.475490182638,0.479411751032,0.484313726425,0.488235294819,0.492156863213,0.496078431606,0.500000000000,0.503921568394,0.508823513985,0.512745082378,0.516666650772,0.520588219166,0.524509787560,0.528431355953,0.532352924347,0.536274492741,0.540196061134,0.544117629528,0.548039197922,0.551960766315,0.555882334709,0.560784339905,0.564705908298,0.568627476692,0.572549045086,0.576470613480,0.580392181873,0.584313750267,0.588235318661,0.592156887054,0.596078455448,0.600000023842,0.604901969433,0.608823537827,0.612745106220,0.616666674614,0.620588243008,0.624509811401,0.628431379795,0.632352948189,0.636274516582,0.641176462173,0.645098030567,0.649019598961,0.652941167355,0.656862735748,0.660784304142,0.664705872536,0.668627440929,0.672549009323,0.677450954914,0.681372523308,0.685294091702,0.689215660095,0.693137228489,0.697058796883,0.700980365276,0.704901933670,0.709803938866,0.713725507259,0.717647075653,0.721568644047,0.725490212440,0.729411780834,0.733333349228,0.738235294819,0.742156863213,0.746078431606,0.750000000000,0.753921568394,0.757843136787,0.761764705181,0.766666650772,0.770588219166,0.774509787560,0.778431355953,0.782352924347,0.786274492741,0.790196061134,0.795098066330,0.799019634724,0.802941203117,0.806862771511,0.810784339905,0.814705908298,0.819607853889,0.823529422283,0.827450990677,0.831372559071,0.835294127464,0.839215695858,0.844117641449,0.848039209843,0.851960778236,0.855882346630,0.859803915024,0.863725483418,0.868627429008,0.872548997402,0.876470565796,0.880392134190,0.884313702583,0.888235270977,0.893137276173,0.897058844566,0.900980412960,0.904901981354,0.908823549747,0.912745118141,0.917647063732,0.921568632126,0.925490200520,0.929411768913,0.933333337307,0.938235282898,0.942156851292,0.946078419685,0.949999988079,0.953921556473,0.958823502064,0.962745070457,0.966666638851,0.970588207245,0.974509775639,0.979411780834,0.983333349228,0.987254917622,0.991176486015,0.995098054409,1.000000000000," />
         <RedTable Value="0.000000,1.000000,3.000000,5.000000,7.000000,10.000000,13.000000,16.000000,19.000000,21.000000,24.000000,27.000000,29.000000,32.000000,35.000000,38.000000,41.000000,44.000000,47.000000,50.000000,53.000000,57.000000,60.000000,64.000000,67.000000,71.000000,74.000000,78.000000,82.000000,85.000000,89.000000,93.000000,96.000000,100.000000,104.000000,107.000000,111.000000,115.000000,118.000000,122.000000,125.000000,129.000000,133.000000,137.000000,140.000000,144.000000,148.000000,152.000000,156.000000,160.000000,163.000000,167.000000,171.000000,175.000000,179.000000,183.000000,187.000000,191.000000,195.000000,199.000000,203.000000,207.000000,211.000000,215.000000,220.000000,224.000000,229.000000,233.000000,238.000000,243.000000,247.000000,252.000000,256.000000,261.000000,265.000000,269.000000,273.000000,277.000000,281.000000,285.000000,289.000000,293.000000,298.000000,302.000000,306.000000,311.000000,315.000000,319.000000,324.000000,328.000000,332.000000,337.000000,341.000000,345.000000,349.000000,353.000000,357.000000,361.000000,365.000000,369.000000,373.000000,378.000000,382.000000,386.000000,390.000000,394.000000,398.000000,402.000000,406.000000,410.000000,414.000000,418.000000,423.000000,427.000000,431.000000,436.000000,440.000000,445.000000,449.000000,454.000000,458.000000,463.000000,467.000000,472.000000,476.000000,481.000000,485.000000,490.000000,494.000000,498.000000,502.000000,506.000000,510.000000,514.000000,519.000000,523.000000,527.000000,531.000000,535.000000,539.000000,543.000000,547.000000,551.000000,555.000000,559.000000,563.000000,567.000000,572.000000,576.000000,580.000000,584.000000,588.000000,592.000000,596.000000,600.000000,604.000000,608.000000,612.000000,617.000000,621.000000,625.000000,629.000000,633.000000,637.000000,641.000000,645.000000,649.000000,654.000000,658.000000,662.000000,666.000000,670.000000,674.000000,678.000000,682.000000,686.000000,691.000000,695.000000,699.000000,703.000000,707.000000,711.000000,715.000000,719.000000,724.000000,728.000000,732.000000,736.000000,740.000000,744.000000,748.000000,753.000000,757.000000,761.000000,765.000000,769.000000,773.000000,777.000000,782.000000,786.000000,790.000000,794.000000,798.000000,802.000000,806.000000,811.000000,815.000000,819.000000,823.000000,827.000000,831.000000,836.000000,840.000000,844.000000,848.000000,852.000000,856.000000,861.000000,865.000000,869.000000,873.000000,877.000000,881.000000,886.000000,890.000000,894.000000,898.000000,902.000000,906.000000,911.000000,915.000000,919.000000,923.000000,927.000000,931.000000,936.000000,940.000000,944.000000,948.000000,952.000000,957.000000,961.000000,965.000000,969.000000,973.000000,978.000000,982.000000,986.000000,990.000000,994.000000,999.000000,1003.000000,1007.000000,1011.000000,1015.000000,1020.000000," />
         <GreenTable Value="0.000000,2.000000,5.000000,7.000000,10.000000,13.000000,16.000000,19.000000,22.000000,25.000000,29.000000,32.000000,36.000000,40.000000,43.000000,47.000000,51.000000,55.000000,59.000000,63.000000,67.000000,71.000000,75.000000,79.000000,83.000000,86.000000,90.000000,94.000000,98.000000,102.000000,106.000000,109.000000,113.000000,117.000000,122.000000,126.000000,130.000000,134.000000,138.000000,142.000000,145.000000,149.000000,153.000000,157.000000,161.000000,165.000000,168.000000,172.000000,176.000000,180.000000,184.000000,188.000000,192.000000,195.000000,199.000000,203.000000,207.000000,211.000000,215.000000,219.000000,223.000000,227.000000,231.000000,234.000000,238.000000,242.000000,246.000000,250.000000,254.000000,258.000000,262.000000,266.000000,270.000000,274.000000,278.000000,282.000000,286.000000,290.000000,294.000000,298.000000,301.000000,305.000000,309.000000,313.000000,317.000000,321.000000,325.000000,329.000000,333.000000,337.000000,341.000000,345.000000,349.000000,353.000000,357.000000,361.000000,365.000000,369.000000,373.000000,377.000000,381.000000,385.000000,389.000000,393.000000,397.000000,401.000000,405.000000,409.000000,413.000000,417.000000,421.000000,425.000000,429.000000,433.000000,438.000000,442.000000,446.000000,450.000000,454.000000,458.000000,462.000000,466.000000,470.000000,474.000000,478.000000,482.000000,486.000000,490.000000,494.000000,498.000000,502.000000,506.000000,510.000000,514.000000,519.000000,523.000000,527.000000,531.000000,535.000000,539.000000,543.000000,547.000000,551.000000,555.000000,559.000000,563.000000,567.000000,572.000000,576.000000,580.000000,584.000000,588.000000,592.000000,596.000000,600.000000,604.000000,608.000000,612.000000,617.000000,621.000000,625.000000,629.000000,633.000000,637.000000,641.000000,645.000000,649.000000,654.000000,658.000000,662.000000,666.000000,670.000000,674.000000,678.000000,682.000000,686.000000,691.000000,695.000000,699.000000,703.000000,707.000000,711.000000,715.000000,719.000000,724.000000,728.000000,732.000000,736.000000,740.000000,744.000000,748.000000,753.000000,757.000000,761.000000,765.000000,769.000000,773.000000,777.000000,782.000000,786.000000,790.000000,794.000000,798.000000,802.000000,806.000000,811.000000,815.000000,819.000000,823.000000,827.000000,831.000000,836.000000,840.000000,844.000000,848.000000,852.000000,856.000000,861.000000,865.000000,869.000000,873.000000,877.000000,881.000000,886.000000,890.000000,894.000000,898.000000,902.000000,906.000000,911.000000,915.000000,919.000000,923.000000,927.000000,931.000000,936.000000,940.000000,944.000000,948.000000,952.000000,957.000000,961.000000,965.000000,969.000000,973.000000,978.000000,982.000000,986.000000,990.000000,994.000000,999.000000,1003.000000,1007.000000,1011.000000,1015.000000,1020.000000," />
         <BlueTable Value="0.000000,1.000000,3.000000,5.000000,7.000000,9.000000,12.000000,14.000000,16.000000,19.000000,22.000000,25.000000,28.000000,31.000000,34.000000,37.000000,41.000000,44.000000,47.000000,51.000000,54.000000,58.000000,61.000000,65.000000,68.000000,72.000000,75.000000,78.000000,82.000000,85.000000,89.000000,92.000000,96.000000,100.000000,104.000000,108.000000,112.000000,116.000000,121.000000,125.000000,129.000000,133.000000,136.000000,140.000000,143.000000,147.000000,150.000000,154.000000,158.000000,161.000000,165.000000,168.000000,172.000000,176.000000,180.000000,184.000000,188.000000,192.000000,196.000000,200.000000,204.000000,208.000000,212.000000,215.000000,219.000000,223.000000,227.000000,231.000000,234.000000,238.000000,242.000000,246.000000,249.000000,254.000000,258.000000,262.000000,266.000000,271.000000,275.000000,279.000000,284.000000,288.000000,293.000000,297.000000,301.000000,306.000000,310.000000,314.000000,318.000000,323.000000,327.000000,331.000000,335.000000,340.000000,344.000000,348.000000,352.000000,356.000000,361.000000,365.000000,369.000000,373.000000,377.000000,382.000000,386.000000,390.000000,394.000000,398.000000,403.000000,407.000000,411.000000,416.000000,420.000000,425.000000,429.000000,434.000000,439.000000,444.000000,448.000000,453.000000,458.000000,462.000000,467.000000,471.000000,476.000000,480.000000,485.000000,489.000000,494.000000,498.000000,502.000000,506.000000,510.000000,514.000000,519.000000,523.000000,527.000000,531.000000,535.000000,539.000000,543.000000,547.000000,551.000000,555.000000,559.000000,563.000000,567.000000,572.000000,576.000000,580.000000,584.000000,588.000000,592.000000,596.000000,600.000000,604.000000,608.000000,612.000000,617.000000,621.000000,625.000000,629.000000,633.000000,637.000000,641.000000,645.000000,649.000000,654.000000,658.000000,662.000000,666.000000,670.000000,674.000000,678.000000,682.000000,686.000000,691.000000,695.000000,699.000000,703.000000,707.000000,711.000000,715.000000,719.000000,724.000000,728.000000,732.000000,736.000000,740.000000,744.000000,748.000000,753.000000,757.000000,761.000000,765.000000,769.000000,773.000000,777.000000,782.000000,786.000000,790.000000,794.000000,798.000000,802.000000,806.000000,811.000000,815.000000,819.000000,823.000000,827.000000,831.000000,836.000000,840.000000,844.000000,848.000000,852.000000,856.000000,861.000000,865.000000,869.000000,873.000000,877.000000,881.000000,886.000000,890.000000,894.000000,898.000000,902.000000,906.000000,911.000000,915.000000,919.000000,923.000000,927.000000,931.000000,936.000000,940.000000,944.000000,948.000000,952.000000,957.000000,961.000000,965.000000,969.000000,973.000000,978.000000,982.000000,986.000000,990.000000,994.000000,999.000000,1003.000000,1007.000000,1011.000000,1015.000000,1020.000000," />
@@ -34404,47 +34444,57 @@
         <Lowalpha Value="17" />
         <Hist_adj_level Value="5" />
         <ve_dnlp_adj_level Value="6" />
-        <ve_dnlp_mvreflsh Value="6" />
-        <ve_dnlp_gmma_rate Value="99" />
-        <ve_dnlp_lowalpha_new Value="28" />
-        <ve_dnlp_hghalpha_new Value="28" />
+        <ve_dnlp_mvreflsh Value="5" />
+        <ve_dnlp_gmma_rate Value="95" />
+        <ve_dnlp_lowalpha_new Value="45" />
+        <ve_dnlp_hghalpha_new Value="60" />
         <ve_dnlp_sbnbnd Value="4" />
         <ve_dnlp_sendbnd Value="4" />
-        <ve_dnlp_cliprate_new Value="5" />
+        <ve_dnlp_cliprate_new Value="30" />
         <ve_dnlp_clashBgn Value="4" />
         <ve_dnlp_clashEnd Value="10" />
-        <ve_mtdbld_rate Value="40" />
-        <ve_blkbld_rate Value="0" />
+        <ve_mtdbld_rate Value="35" />
+        <ve_dnlp_pst_gmarat Value="64" />
         <dnlp_sel Value="1" />
         <ve_dnlp_blk_cctr Value="8" />
         <ve_dnlp_brgt_ctrl Value="48" />
         <ve_dnlp_brgt_range Value="16" />
-        <ve_dnlp_brght_add Value="36" />
+        <ve_dnlp_brght_add Value="33" />
         <ve_dnlp_brght_max Value="0" />
-        <ve_dnlp_almst_wht Value="59" />
-        <ve_dnlp_hghbin Value="46" />
+        <ve_dnlp_almst_wht Value="60" />
+        <ve_dnlp_hghbin Value="49" />
         <ve_dnlp_hghnum Value="4" />
         <ve_dnlp_lowbin Value="4" />
         <ve_dnlp_lownum Value="4" />
-        <ve_dnlp_bkgend Value="20" />
-        <ve_dnlp_bkgert Value="4" />
-        <ve_dnlp_blkext Value="0" />
-        <ve_dnlp_whtext Value="8" />
-        <ve_dnlp_bextmx Value="0" />
-        <ve_dnlp_wextmx Value="2" />
+        <ve_dnlp_bkgend Value="0" />
+        <ve_dnlp_bkgert Value="64" />
+        <ve_dnlp_blkext Value="1" />
+        <ve_dnlp_whtext Value="1" />
+        <ve_dnlp_bextmx Value="1" />
+        <ve_dnlp_wextmx Value="32" />
         <ve_dnlp_smhist_ck Value="0" />
         <ve_dnlp_glb_crate Value="1" />
-        <Reg_hist_en_vs_latch Value="0" />
-        <Dnlp_En value="0" />
-        <Hist_34bin_only value="0" />
-        <Dnlp_bypass value="0" />
-        <Hist_win_En value="0" />
-        <Luma_Hist_Spl_En value="0" />
-        <Spl_sft value="0" />
-        <Reg_filt_mode value="0" />
-        <Hist_in_sel value="0" />
-        <Hist_din_comp_mux value="0" />
-        <Hist_dnlp_low value="0" />
+        <dnlp_pstgma_brghtrate Value="0" />
+        <dnlp_pstgma_brghtrat1 Value="0" />
+        <dnlp_wext_autorat Value="16" />
+        <dnlp_cliprate_min Value="16" />
+        <dnlp_adpcrat_lbnd Value="10" />
+        <dnlp_adpcrat_hbnd Value="20" />
+        <dnlp_adpmtd_lbnd Value="19" />
+        <dnlp_adpmtd_hbnd Value="20" />
+        <dnlp_set_bext Value="0" />
+        <dnlp_set_wext Value="0" />
+        <dnlp_satur_rat Value="30" />
+        <dnlp_satur_max Value="40" />
+        <blk_prct_rng Value="2" />
+        <blk_prct_max Value="16" />
+        <dnlp_lowrange Value="18" />
+        <dnlp_hghrange Value="18" />
+        <dnlp_auto_rng Value="0" />
+        <dnlp_bin0_absmax Value="16" />
+        <dnlp_bin0_sbtmax Value="128" />
+        <dnlp_adpalpha_lrate Value="32" />
+        <dnlp_adpalpha_hrate Value="32" />
         <ve_dnlp_lrate00 Value="64" />
         <ve_dnlp_lrate02 Value="64" />
         <ve_dnlp_lrate04 Value="64" />
diff --git a/p301/fstab.amlogic b/p301/fstab.amlogic
index 8fb602a..c74f2e5 100644
--- a/p301/fstab.amlogic
+++ b/p301/fstab.amlogic
@@ -14,3 +14,4 @@
 /dev/block/loop     auto                loop      defaults                                  voldmanaged=loop:auto
 /dev/block/param    /param              ext4      noatime,nosuid,nodev,nomblk_io_submit,errors=remount-ro    wait,check
 /dev/block/zram0    /swap_zram0             swap      defaults                             wait,zramsize=auto
+/dev/block/tee       /tee                 ext4      noatime,nosuid,nodev,nodelalloc,nomblk_io_submit,errors=panic    wait,check
diff --git a/p301/fstab.verity.amlogic b/p301/fstab.verity.amlogic
index c1e5cbe..82ba70d 100644
--- a/p301/fstab.verity.amlogic
+++ b/p301/fstab.verity.amlogic
@@ -10,3 +10,4 @@
 /devices/lm?/usb?/*/host*/target*/block/sd*  auto             vfat      defaults                       voldmanaged=udisk0:auto
 /devices/lm?/usb?/*/host*/target*/block/sd*  auto             vfat      defaults                       voldmanaged=udisk1:auto
 /dev/block/loop     auto                loop      defaults                                  voldmanaged=loop:auto
+/dev/block/tee       /tee                 ext4      noatime,nosuid,nodev,nodelalloc,nomblk_io_submit,errors=panic    wait,check
diff --git a/p301/init.amlogic.board.rc b/p301/init.amlogic.board.rc
index 9b630e3..d3936d0 100644
--- a/p301/init.amlogic.board.rc
+++ b/p301/init.amlogic.board.rc
@@ -7,12 +7,16 @@ on early-init
     mount configfs configfs /sys/kernel/config
     #mount usbfs none /proc/bus/usb
 
+    insmod /boot/optee.ko
+    insmod /boot/optee_armtz.ko
+
     insmod /boot/instaboot.ko
     insmod /boot/r840_fe.ko
 
 on init
 
 on post-fs-data
+    mkdir  /data/tee
     insmod /system/lib/mali.ko
 
 on boot
@@ -37,6 +41,8 @@ on boot
     # chmod 0666 /dev/ge2d
     chmod 666 /dev/cec
     chmod 666 /dev/dvb0.frontend0
+    chmod 0666 /dev/opteearmtz00
+    chmod 0666 /dev/tee0
     mount debugfs debugfs /sys/kernel/debug mode=755
 
 on fs
@@ -72,3 +78,9 @@ service p2p_supplicant /system/bin/wpa_supplicant \
     socket wpa_wlan0 dgram 660 wifi wifi
     disabled
     oneshot
+
+service tee_supplicant /system/bin/tee-supplicant
+	class main
+	oneshot
+	seclabel u:r:tee:s0
+
diff --git a/p301/overlay/frameworks/base/core/res/res/values/config.xml b/p301/overlay/frameworks/base/core/res/res/values/config.xml
index 1d415e5..2313c50 100644
--- a/p301/overlay/frameworks/base/core/res/res/values/config.xml
+++ b/p301/overlay/frameworks/base/core/res/res/values/config.xml
@@ -96,4 +96,6 @@
         <item>com.android.location.fused</item>
     </string-array>
     <integer name="config_longPressOnPowerBehavior">3</integer>
+    <!--  Maximum number of supported users -->
+    <integer name="config_multiuserMaximumUsers">2</integer>
 </resources>
diff --git a/p301/p301.mk b/p301/p301.mk
index 33cf153..8066f9f 100644
--- a/p301/p301.mk
+++ b/p301/p301.mk
@@ -60,7 +60,29 @@ PRODUCT_AML_SECUREBOOT_SIGNBOOTLOADER := $(PRODUCT_AML_SECUREBOOT_SIGNTOOL) --bo
 PRODUCT_AML_SECUREBOOT_SIGNIMAGE := $(PRODUCT_AML_SECUREBOOT_SIGNTOOL) --imgsig \
 					--amluserkey $(PRODUCT_AML_SECUREBOOT_USERKEY)
 
+########################################################################
+#
+#                           ATV
+#
+########################################################################
+ifeq ($(BOARD_COMPILE_ATV),true)
+BOARD_COMPILE_CTS := true
+TARGET_BUILD_GOOGLE_ATV:= true
+endif
+########################################################################
 
+########################################################################
+#
+#                           CTS
+#
+########################################################################
+ifeq ($(BOARD_COMPILE_CTS),true)
+BOARD_WIDEVINE_OEMCRYPTO_LEVEL := 1
+BOARD_PLAYREADY_LEVEL := 1
+TARGET_BUILD_CTS:= true
+TARGET_BUILD_NETFLIX:= true
+endif
+########################################################################
 
 #########################################################################
 #
@@ -197,8 +219,9 @@ PRODUCT_LOCALES := en_US en_AU en_IN fr_FR it_IT es_ES et_EE de_DE nl_NL cs_CZ p
 #                                                PPPOE
 #
 #################################################################################
-
+ifneq ($(TARGET_BUILD_GOOGLE_ATV), true)
 BUILD_WITH_PPPOE := true
+endif
 
 ifeq ($(BUILD_WITH_PPPOE),true)
 PRODUCT_PACKAGES += \
@@ -213,7 +236,6 @@ PRODUCT_PACKAGES += \
 PRODUCT_PROPERTY_OVERRIDES += \
     ro.platform.has.pppoe=true
 endif
-
 #################################################################################
 #
 #                                                DEFAULT LOWMEMORYKILLER CONFIG
@@ -226,10 +248,6 @@ BOARD_USES_USB_PM := true
 #PRODUCT_COPY_FILES += \
 #    $(LOCAL_PATH)/Third_party_apk_camera.xml:system/etc/Third_party_apk_camera.xml \
 
-TARGET_BUILD_CTS:= false
-TARGET_BUILD_GOOGLE_ATV:= false
-TARGET_BUILD_NETFLIX:= false
-
 #########################################################################
 #
 #                                                Instaboot
@@ -239,6 +257,13 @@ TARGET_BUILD_NETFLIX:= false
 BOARD_SUPPORT_INSTABOOT := true
 include device/amlogic/common/software.mk
 
+ifeq ($(TARGET_BUILD_GOOGLE_ATV),true)
+PRODUCT_PROPERTY_OVERRIDES += \
+    ro.sf.lcd_density=320
+else
+PRODUCT_PROPERTY_OVERRIDES += \
+    ro.sf.lcd_density=240
+endif
 
 ifeq ($(BOARD_SUPPORT_INSTABOOT),true)
 local_instaboot := $(strip $(wildcard $(LOCAL_PATH)/instabootserver))
diff --git a/p301/system.prop b/p301/system.prop
index 714cea6..9896944 100644
--- a/p301/system.prop
+++ b/p301/system.prop
@@ -11,8 +11,6 @@ ro.camera.preview.UseMJPEG=1
 #if wifi Only
 ro.radio.noril=false
 
-ro.sf.lcd_density=240
-
 #if need pppoe
 ro.net.pppoe=true
 
diff --git a/p310/files/tv/pq.xml b/p310/files/tv/pq.xml
index 80d3955..68643b7 100644
--- a/p310/files/tv/pq.xml
+++ b/p310/files/tv/pq.xml
@@ -954,47 +954,57 @@
         <Lowalpha Value="17" />
         <Hist_adj_level Value="5" />
         <ve_dnlp_adj_level Value="6" />
-        <ve_dnlp_mvreflsh Value="5" />
-        <ve_dnlp_gmma_rate Value="138" />
-        <ve_dnlp_lowalpha_new Value="22" />
-        <ve_dnlp_hghalpha_new Value="30" />
+        <ve_dnlp_mvreflsh Value="4" />
+        <ve_dnlp_gmma_rate Value="150" />
+        <ve_dnlp_lowalpha_new Value="28" />
+        <ve_dnlp_hghalpha_new Value="50" />
         <ve_dnlp_sbnbnd Value="0" />
         <ve_dnlp_sendbnd Value="0" />
-        <ve_dnlp_cliprate_new Value="6" />
+        <ve_dnlp_cliprate_new Value="36" />
         <ve_dnlp_clashBgn Value="0" />
-        <ve_dnlp_clashEnd Value="14" />
-        <ve_mtdbld_rate Value="50" />
-        <ve_blkbld_rate Value="6" />
+        <ve_dnlp_clashEnd Value="15" />
+        <ve_mtdbld_rate Value="40" />
+        <ve_dnlp_pst_gmarat Value="65" />
         <dnlp_sel Value="1" />
         <ve_dnlp_blk_cctr Value="8" />
         <ve_dnlp_brgt_ctrl Value="48" />
         <ve_dnlp_brgt_range Value="16" />
         <ve_dnlp_brght_add Value="32" />
         <ve_dnlp_brght_max Value="0" />
-        <ve_dnlp_almst_wht Value="62" />
+        <ve_dnlp_almst_wht Value="60" />
         <ve_dnlp_hghbin Value="55" />
-        <ve_dnlp_hghnum Value="4" />
-        <ve_dnlp_lowbin Value="4" />
-        <ve_dnlp_lownum Value="4" />
-        <ve_dnlp_bkgend Value="20" />
-        <ve_dnlp_bkgert Value="2" />
-        <ve_dnlp_blkext Value="2" />
-        <ve_dnlp_whtext Value="8" />
-        <ve_dnlp_bextmx Value="2" />
-        <ve_dnlp_wextmx Value="2" />
+        <ve_dnlp_hghnum Value="0" />
+        <ve_dnlp_lowbin Value="0" />
+        <ve_dnlp_lownum Value="0" />
+        <ve_dnlp_bkgend Value="0" />
+        <ve_dnlp_bkgert Value="64" />
+        <ve_dnlp_blkext Value="4" />
+        <ve_dnlp_whtext Value="4" />
+        <ve_dnlp_bextmx Value="4" />
+        <ve_dnlp_wextmx Value="32" />
         <ve_dnlp_smhist_ck Value="0" />
         <ve_dnlp_glb_crate Value="1" />
-        <Reg_hist_en_vs_latch Value="0" />
-        <Dnlp_En value="0" />
-        <Hist_34bin_only value="0" />
-        <Dnlp_bypass value="0" />
-        <Hist_win_En value="0" />
-        <Luma_Hist_Spl_En value="0" />
-        <Spl_sft value="0" />
-        <Reg_filt_mode value="0" />
-        <Hist_in_sel value="0" />
-        <Hist_din_comp_mux value="0" />
-        <Hist_dnlp_low value="0" />
+        <dnlp_pstgma_brghtrate Value="8" />
+        <dnlp_pstgma_brghtrat1 Value="15" />
+        <dnlp_wext_autorat Value="16" />
+        <dnlp_cliprate_min Value="19" />
+        <dnlp_adpcrat_lbnd Value="10" />
+        <dnlp_adpcrat_hbnd Value="20" />
+        <dnlp_adpmtd_lbnd Value="19" />
+        <dnlp_adpmtd_hbnd Value="20" />
+        <dnlp_set_bext Value="0" />
+        <dnlp_set_wext Value="0" />
+        <dnlp_satur_rat Value="30" />
+        <dnlp_satur_max Value="40" />
+        <blk_prct_rng Value="2" />
+        <blk_prct_max Value="16" />
+        <dnlp_lowrange Value="18" />
+        <dnlp_hghrange Value="18" />
+        <dnlp_auto_rng Value="0" />
+        <dnlp_bin0_absmax Value="16" />
+        <dnlp_bin0_sbtmax Value="128" />
+        <dnlp_adpalpha_lrate Value="32" />
+        <dnlp_adpalpha_hrate Value="32" />
         <ve_dnlp_lrate00 Value="64" />
         <ve_dnlp_lrate02 Value="64" />
         <ve_dnlp_lrate04 Value="64" />
@@ -1052,47 +1062,57 @@
         <Lowalpha Value="18" />
         <Hist_adj_level Value="5" />
         <ve_dnlp_adj_level Value="6" />
-        <ve_dnlp_mvreflsh Value="5" />
+        <ve_dnlp_mvreflsh Value="4" />
         <ve_dnlp_gmma_rate Value="128" />
-        <ve_dnlp_lowalpha_new Value="22" />
-        <ve_dnlp_hghalpha_new Value="28" />
+        <ve_dnlp_lowalpha_new Value="40" />
+        <ve_dnlp_hghalpha_new Value="60" />
         <ve_dnlp_sbnbnd Value="0" />
         <ve_dnlp_sendbnd Value="0" />
-        <ve_dnlp_cliprate_new Value="6" />
+        <ve_dnlp_cliprate_new Value="34" />
         <ve_dnlp_clashBgn Value="0" />
-        <ve_dnlp_clashEnd Value="14" />
-        <ve_mtdbld_rate Value="50" />
-        <ve_blkbld_rate Value="0" />
+        <ve_dnlp_clashEnd Value="15" />
+        <ve_mtdbld_rate Value="40" />
+        <ve_dnlp_pst_gmarat Value="65" />
         <dnlp_sel Value="1" />
         <ve_dnlp_blk_cctr Value="8" />
         <ve_dnlp_brgt_ctrl Value="48" />
         <ve_dnlp_brgt_range Value="16" />
-        <ve_dnlp_brght_add Value="34" />
+        <ve_dnlp_brght_add Value="33" />
         <ve_dnlp_brght_max Value="0" />
-        <ve_dnlp_almst_wht Value="62" />
+        <ve_dnlp_almst_wht Value="60" />
         <ve_dnlp_hghbin Value="55" />
         <ve_dnlp_hghnum Value="4" />
         <ve_dnlp_lowbin Value="4" />
         <ve_dnlp_lownum Value="4" />
-        <ve_dnlp_bkgend Value="20" />
-        <ve_dnlp_bkgert Value="4" />
+        <ve_dnlp_bkgend Value="0" />
+        <ve_dnlp_bkgert Value="64" />
         <ve_dnlp_blkext Value="4" />
-        <ve_dnlp_whtext Value="8" />
-        <ve_dnlp_bextmx Value="2" />
-        <ve_dnlp_wextmx Value="2" />
+        <ve_dnlp_whtext Value="4" />
+        <ve_dnlp_bextmx Value="4" />
+        <ve_dnlp_wextmx Value="32" />
         <ve_dnlp_smhist_ck Value="0" />
         <ve_dnlp_glb_crate Value="1" />
-        <Reg_hist_en_vs_latch Value="0" />
-        <Dnlp_En value="0" />
-        <Hist_34bin_only value="0" />
-        <Dnlp_bypass value="0" />
-        <Hist_win_En value="0" />
-        <Luma_Hist_Spl_En value="0" />
-        <Spl_sft value="0" />
-        <Reg_filt_mode value="0" />
-        <Hist_in_sel value="0" />
-        <Hist_din_comp_mux value="0" />
-        <Hist_dnlp_low value="0" />
+        <dnlp_pstgma_brghtrate Value="8" />
+        <dnlp_pstgma_brghtrat1 Value="15" />
+        <dnlp_wext_autorat Value="16" />
+        <dnlp_cliprate_min Value="19" />
+        <dnlp_adpcrat_lbnd Value="10" />
+        <dnlp_adpcrat_hbnd Value="20" />
+        <dnlp_adpmtd_lbnd Value="19" />
+        <dnlp_adpmtd_hbnd Value="20" />
+        <dnlp_set_bext Value="0" />
+        <dnlp_set_wext Value="0" />
+        <dnlp_satur_rat Value="30" />
+        <dnlp_satur_max Value="40" />
+        <blk_prct_rng Value="2" />
+        <blk_prct_max Value="16" />
+        <dnlp_lowrange Value="18" />
+        <dnlp_hghrange Value="18" />
+        <dnlp_auto_rng Value="0" />
+        <dnlp_bin0_absmax Value="16" />
+        <dnlp_bin0_sbtmax Value="128" />
+        <dnlp_adpalpha_lrate Value="32" />
+        <dnlp_adpalpha_hrate Value="32" />
         <ve_dnlp_lrate00 Value="64" />
         <ve_dnlp_lrate02 Value="64" />
         <ve_dnlp_lrate04 Value="64" />
@@ -1155,45 +1175,55 @@
         <ve_dnlp_adj_level Value="6" />
         <ve_dnlp_mvreflsh Value="5" />
         <ve_dnlp_gmma_rate Value="150" />
-        <ve_dnlp_lowalpha_new Value="22" />
-        <ve_dnlp_hghalpha_new Value="28" />
+        <ve_dnlp_lowalpha_new Value="55" />
+        <ve_dnlp_hghalpha_new Value="50" />
         <ve_dnlp_sbnbnd Value="0" />
         <ve_dnlp_sendbnd Value="0" />
-        <ve_dnlp_cliprate_new Value="6" />
+        <ve_dnlp_cliprate_new Value="34" />
         <ve_dnlp_clashBgn Value="0" />
         <ve_dnlp_clashEnd Value="15" />
-        <ve_mtdbld_rate Value="55" />
-        <ve_blkbld_rate Value="0" />
+        <ve_mtdbld_rate Value="30" />
+        <ve_dnlp_pst_gmarat Value="65" />
         <dnlp_sel Value="1" />
         <ve_dnlp_blk_cctr Value="8" />
         <ve_dnlp_brgt_ctrl Value="48" />
         <ve_dnlp_brgt_range Value="16" />
-        <ve_dnlp_brght_add Value="34" />
+        <ve_dnlp_brght_add Value="32" />
         <ve_dnlp_brght_max Value="0" />
-        <ve_dnlp_almst_wht Value="63" />
+        <ve_dnlp_almst_wht Value="60" />
         <ve_dnlp_hghbin Value="55" />
         <ve_dnlp_hghnum Value="4" />
         <ve_dnlp_lowbin Value="4" />
         <ve_dnlp_lownum Value="4" />
-        <ve_dnlp_bkgend Value="20" />
-        <ve_dnlp_bkgert Value="4" />
+        <ve_dnlp_bkgend Value="0" />
+        <ve_dnlp_bkgert Value="64" />
         <ve_dnlp_blkext Value="4" />
-        <ve_dnlp_whtext Value="8" />
-        <ve_dnlp_bextmx Value="2" />
-        <ve_dnlp_wextmx Value="2" />
+        <ve_dnlp_whtext Value="4" />
+        <ve_dnlp_bextmx Value="4" />
+        <ve_dnlp_wextmx Value="32" />
         <ve_dnlp_smhist_ck Value="0" />
         <ve_dnlp_glb_crate Value="1" />
-        <Reg_hist_en_vs_latch Value="0" />
-        <Dnlp_En value="0" />
-        <Hist_34bin_only value="0" />
-        <Dnlp_bypass value="0" />
-        <Hist_win_En value="0" />
-        <Luma_Hist_Spl_En value="0" />
-        <Spl_sft value="0" />
-        <Reg_filt_mode value="0" />
-        <Hist_in_sel value="0" />
-        <Hist_din_comp_mux value="0" />
-        <Hist_dnlp_low value="0" />
+        <dnlp_pstgma_brghtrate Value="10" />
+        <dnlp_pstgma_brghtrat1 Value="15" />
+        <dnlp_wext_autorat Value="16" />
+        <dnlp_cliprate_min Value="19" />
+        <dnlp_adpcrat_lbnd Value="10" />
+        <dnlp_adpcrat_hbnd Value="20" />
+        <dnlp_adpmtd_lbnd Value="19" />
+        <dnlp_adpmtd_hbnd Value="20" />
+        <dnlp_set_bext Value="0" />
+        <dnlp_set_wext Value="0" />
+        <dnlp_satur_rat Value="30" />
+        <dnlp_satur_max Value="40" />
+        <blk_prct_rng Value="2" />
+        <blk_prct_max Value="16" />
+        <dnlp_lowrange Value="18" />
+        <dnlp_hghrange Value="18" />
+        <dnlp_auto_rng Value="0" />
+        <dnlp_bin0_absmax Value="16" />
+        <dnlp_bin0_sbtmax Value="128" />
+        <dnlp_adpalpha_lrate Value="32" />
+        <dnlp_adpalpha_hrate Value="32" />
         <ve_dnlp_lrate00 Value="64" />
         <ve_dnlp_lrate02 Value="64" />
         <ve_dnlp_lrate04 Value="64" />
@@ -1257,46 +1287,56 @@
         <Hist_adj_level Value="5" />
         <ve_dnlp_adj_level Value="6" />
         <ve_dnlp_mvreflsh Value="5" />
-        <ve_dnlp_gmma_rate Value="158" />
-        <ve_dnlp_lowalpha_new Value="22" />
-        <ve_dnlp_hghalpha_new Value="26" />
+        <ve_dnlp_gmma_rate Value="140" />
+        <ve_dnlp_lowalpha_new Value="36" />
+        <ve_dnlp_hghalpha_new Value="45" />
         <ve_dnlp_sbnbnd Value="0" />
         <ve_dnlp_sendbnd Value="0" />
-        <ve_dnlp_cliprate_new Value="6" />
+        <ve_dnlp_cliprate_new Value="30" />
         <ve_dnlp_clashBgn Value="0" />
         <ve_dnlp_clashEnd Value="15" />
         <ve_mtdbld_rate Value="50" />
-        <ve_blkbld_rate Value="0" />
+        <ve_dnlp_pst_gmarat Value="65" />
         <dnlp_sel Value="1" />
         <ve_dnlp_blk_cctr Value="8" />
         <ve_dnlp_brgt_ctrl Value="48" />
         <ve_dnlp_brgt_range Value="16" />
-        <ve_dnlp_brght_add Value="34" />
+        <ve_dnlp_brght_add Value="33" />
         <ve_dnlp_brght_max Value="0" />
-        <ve_dnlp_almst_wht Value="63" />
+        <ve_dnlp_almst_wht Value="60" />
         <ve_dnlp_hghbin Value="55" />
         <ve_dnlp_hghnum Value="4" />
         <ve_dnlp_lowbin Value="4" />
         <ve_dnlp_lownum Value="4" />
-        <ve_dnlp_bkgend Value="20" />
-        <ve_dnlp_bkgert Value="4" />
-        <ve_dnlp_blkext Value="8" />
-        <ve_dnlp_whtext Value="8" />
-        <ve_dnlp_bextmx Value="2" />
-        <ve_dnlp_wextmx Value="2" />
+        <ve_dnlp_bkgend Value="4" />
+        <ve_dnlp_bkgert Value="64" />
+        <ve_dnlp_blkext Value="4" />
+        <ve_dnlp_whtext Value="4" />
+        <ve_dnlp_bextmx Value="4" />
+        <ve_dnlp_wextmx Value="32" />
         <ve_dnlp_smhist_ck Value="0" />
         <ve_dnlp_glb_crate Value="1" />
-        <Reg_hist_en_vs_latch Value="0" />
-        <Dnlp_En value="0" />
-        <Hist_34bin_only value="0" />
-        <Dnlp_bypass value="0" />
-        <Hist_win_En value="0" />
-        <Luma_Hist_Spl_En value="0" />
-        <Spl_sft value="0" />
-        <Reg_filt_mode value="0" />
-        <Hist_in_sel value="0" />
-        <Hist_din_comp_mux value="0" />
-        <Hist_dnlp_low value="0" />
+        <dnlp_pstgma_brghtrate Value="10" />
+        <dnlp_pstgma_brghtrat1 Value="15" />
+        <dnlp_wext_autorat Value="16" />
+        <dnlp_cliprate_min Value="18" />
+        <dnlp_adpcrat_lbnd Value="10" />
+        <dnlp_adpcrat_hbnd Value="20" />
+        <dnlp_adpmtd_lbnd Value="19" />
+        <dnlp_adpmtd_hbnd Value="20" />
+        <dnlp_set_bext Value="0" />
+        <dnlp_set_wext Value="0" />
+        <dnlp_satur_rat Value="20" />
+        <dnlp_satur_max Value="40" />
+        <blk_prct_rng Value="2" />
+        <blk_prct_max Value="16" />
+        <dnlp_lowrange Value="18" />
+        <dnlp_hghrange Value="18" />
+        <dnlp_auto_rng Value="0" />
+        <dnlp_bin0_absmax Value="16" />
+        <dnlp_bin0_sbtmax Value="128" />
+        <dnlp_adpalpha_lrate Value="32" />
+        <dnlp_adpalpha_hrate Value="32" />
         <ve_dnlp_lrate00 Value="64" />
         <ve_dnlp_lrate02 Value="64" />
         <ve_dnlp_lrate04 Value="64" />
@@ -10669,7 +10709,7 @@
             <RelatedFieldParam Value="TVIN_TFMT0_3D" />
         </RelatedField>
         <Group Level="3">
-            <LevelItem Enable="0" RPreOffset="0" GPreOffset="0" BPreOffset="0" RGain="1024" GGain="1024" BGain="1024" RPostOffset="0" GPostOffset="0" BPostOffset="0" />
+            <LevelItem Enable="1" RPreOffset="0" GPreOffset="0" BPreOffset="0" RGain="1024" GGain="1024" BGain="1024" RPostOffset="0" GPostOffset="0" BPostOffset="0" />
             <LevelItem Enable="1" RPreOffset="0" GPreOffset="0" BPreOffset="0" RGain="1024" GGain="980" BGain="900" RPostOffset="0" GPostOffset="0" BPostOffset="0" />
             <LevelItem Enable="1" RPreOffset="0" GPreOffset="0" BPreOffset="0" RGain="976" GGain="1008" BGain="1072" RPostOffset="0" GPostOffset="0" BPostOffset="0" />
         </Group>
@@ -10774,17 +10814,17 @@
             <RelatedFieldParam Value="TVIN_TFMT0_2D" />
             <RelatedFieldParam Value="TVIN_TFMT0_3D" />
         </RelatedField>
-        <RedCurve Value="0.000000000000,0.003921568859,0.007843137719,0.011764706112,0.015686275437,0.019607843831,0.023529412225,0.027450980619,0.031372550875,0.035294119269,0.039215687662,0.043137256056,0.047058824450,0.050980392843,0.054901961237,0.058823529631,0.062745101750,0.066666670144,0.070588238537,0.074509806931,0.078431375325,0.082352943718,0.086274512112,0.090196080506,0.094117648900,0.098039217293,0.101960785687,0.105882354081,0.109803922474,0.113725490868,0.117647059262,0.121568627656,0.125490203500,0.129411771894,0.133333340287,0.137254908681,0.141176477075,0.145098045468,0.149019613862,0.152941182256,0.156862750649,0.160784319043,0.164705887437,0.168627455831,0.172549024224,0.176470592618,0.180392161012,0.184313729405,0.188235297799,0.192156866193,0.196078434587,0.200000002980,0.203921571374,0.207843139768,0.211764708161,0.215686276555,0.219607844949,0.223529413342,0.227450981736,0.231372550130,0.235294118524,0.239215686917,0.243137255311,0.247058823705,0.250980407000,0.254901975393,0.258823543787,0.262745112181,0.266666680574,0.270588248968,0.274509817362,0.278431385756,0.282352954149,0.286274522543,0.290196090937,0.294117659330,0.298039227724,0.301960796118,0.305882364511,0.309803932905,0.313725501299,0.317647069693,0.321568638086,0.325490206480,0.329411774874,0.333333343267,0.337254911661,0.341176480055,0.345098048449,0.349019616842,0.352941185236,0.356862753630,0.360784322023,0.364705890417,0.368627458811,0.372549027205,0.376470595598,0.380392163992,0.384313732386,0.388235300779,0.392156869173,0.396078437567,0.400000005960,0.403921574354,0.407843142748,0.411764711142,0.415686279535,0.419607847929,0.423529416323,0.427450984716,0.431372553110,0.435294121504,0.439215689898,0.443137258291,0.447058826685,0.450980395079,0.454901963472,0.458823531866,0.462745100260,0.466666668653,0.470588237047,0.474509805441,0.478431373835,0.482352942228,0.486274510622,0.490196079016,0.494117647409,0.498039215803,0.501960813999,0.505882382393,0.509803950787,0.513725519180,0.517647087574,0.521568655968,0.525490224361,0.529411792755,0.533333361149,0.537254929543,0.541176497936,0.545098066330,0.549019634724,0.552941203117,0.556862771511,0.560784339905,0.564705908298,0.568627476692,0.572549045086,0.576470613480,0.580392181873,0.584313750267,0.588235318661,0.592156887054,0.596078455448,0.600000023842,0.603921592236,0.607843160629,0.611764729023,0.615686297417,0.619607865810,0.623529434204,0.627451002598,0.631372570992,0.635294139385,0.639215707779,0.643137276173,0.647058844566,0.650980412960,0.654901981354,0.658823549747,0.662745118141,0.666666686535,0.670588254929,0.674509823322,0.678431391716,0.682352960110,0.686274528503,0.690196096897,0.694117665291,0.698039233685,0.701960802078,0.705882370472,0.709803938866,0.713725507259,0.717647075653,0.721568644047,0.725490212440,0.729411780834,0.733333349228,0.737254917622,0.741176486015,0.745098054409,0.749019622803,0.752941191196,0.756862759590,0.760784327984,0.764705896378,0.768627464771,0.772549033165,0.776470601559,0.780392169952,0.784313738346,0.788235306740,0.792156875134,0.796078443527,0.800000011921,0.803921580315,0.807843148708,0.811764717102,0.815686285496,0.819607853889,0.823529422283,0.827450990677,0.831372559071,0.835294127464,0.839215695858,0.843137264252,0.847058832645,0.850980401039,0.854901969433,0.858823537827,0.862745106220,0.866666674614,0.870588243008,0.874509811401,0.878431379795,0.882352948189,0.886274516582,0.890196084976,0.894117653370,0.898039221764,0.901960790157,0.905882358551,0.909803926945,0.913725495338,0.917647063732,0.921568632126,0.925490200520,0.929411768913,0.933333337307,0.937254905701,0.941176474094,0.945098042488,0.949019610882,0.952941179276,0.956862747669,0.960784316063,0.964705884457,0.968627452850,0.972549021244,0.976470589638,0.980392158031,0.984313726425,0.988235294819,0.992156863213,0.996078431606,1.000000000000," />
-        <GreenCurve Value="0.000000000000,0.003921568859,0.007843137719,0.011764706112,0.015686275437,0.019607843831,0.023529412225,0.027450980619,0.031372550875,0.035294119269,0.039215687662,0.043137256056,0.047058824450,0.050980392843,0.054901961237,0.058823529631,0.062745101750,0.066666670144,0.070588238537,0.074509806931,0.078431375325,0.082352943718,0.086274512112,0.090196080506,0.094117648900,0.098039217293,0.101960785687,0.105882354081,0.109803922474,0.113725490868,0.117647059262,0.121568627656,0.125490203500,0.129411771894,0.133333340287,0.137254908681,0.141176477075,0.145098045468,0.149019613862,0.152941182256,0.156862750649,0.160784319043,0.164705887437,0.168627455831,0.172549024224,0.176470592618,0.180392161012,0.184313729405,0.188235297799,0.192156866193,0.196078434587,0.200000002980,0.203921571374,0.207843139768,0.211764708161,0.215686276555,0.219607844949,0.223529413342,0.227450981736,0.231372550130,0.235294118524,0.239215686917,0.243137255311,0.247058823705,0.250980407000,0.254901975393,0.258823543787,0.262745112181,0.266666680574,0.270588248968,0.274509817362,0.278431385756,0.282352954149,0.286274522543,0.290196090937,0.294117659330,0.298039227724,0.301960796118,0.305882364511,0.309803932905,0.313725501299,0.317647069693,0.321568638086,0.325490206480,0.329411774874,0.333333343267,0.337254911661,0.341176480055,0.345098048449,0.349019616842,0.352941185236,0.356862753630,0.360784322023,0.364705890417,0.368627458811,0.372549027205,0.376470595598,0.380392163992,0.384313732386,0.388235300779,0.392156869173,0.396078437567,0.400000005960,0.403921574354,0.407843142748,0.411764711142,0.415686279535,0.419607847929,0.423529416323,0.427450984716,0.431372553110,0.435294121504,0.439215689898,0.443137258291,0.447058826685,0.450980395079,0.454901963472,0.458823531866,0.462745100260,0.466666668653,0.470588237047,0.474509805441,0.478431373835,0.482352942228,0.486274510622,0.490196079016,0.494117647409,0.498039215803,0.501960813999,0.505882382393,0.509803950787,0.513725519180,0.517647087574,0.521568655968,0.525490224361,0.529411792755,0.533333361149,0.537254929543,0.541176497936,0.545098066330,0.549019634724,0.552941203117,0.556862771511,0.560784339905,0.564705908298,0.568627476692,0.572549045086,0.576470613480,0.580392181873,0.584313750267,0.588235318661,0.592156887054,0.596078455448,0.600000023842,0.603921592236,0.607843160629,0.611764729023,0.615686297417,0.619607865810,0.623529434204,0.627451002598,0.631372570992,0.635294139385,0.639215707779,0.643137276173,0.647058844566,0.650980412960,0.654901981354,0.658823549747,0.662745118141,0.666666686535,0.670588254929,0.674509823322,0.678431391716,0.682352960110,0.686274528503,0.690196096897,0.694117665291,0.698039233685,0.701960802078,0.705882370472,0.709803938866,0.713725507259,0.717647075653,0.721568644047,0.725490212440,0.729411780834,0.733333349228,0.737254917622,0.741176486015,0.745098054409,0.749019622803,0.752941191196,0.756862759590,0.760784327984,0.764705896378,0.768627464771,0.772549033165,0.776470601559,0.780392169952,0.784313738346,0.788235306740,0.792156875134,0.796078443527,0.800000011921,0.803921580315,0.807843148708,0.811764717102,0.815686285496,0.819607853889,0.823529422283,0.827450990677,0.831372559071,0.835294127464,0.839215695858,0.843137264252,0.847058832645,0.850980401039,0.854901969433,0.858823537827,0.862745106220,0.866666674614,0.870588243008,0.874509811401,0.878431379795,0.882352948189,0.886274516582,0.890196084976,0.894117653370,0.898039221764,0.901960790157,0.905882358551,0.909803926945,0.913725495338,0.917647063732,0.921568632126,0.925490200520,0.929411768913,0.933333337307,0.937254905701,0.941176474094,0.945098042488,0.949019610882,0.952941179276,0.956862747669,0.960784316063,0.964705884457,0.968627452850,0.972549021244,0.976470589638,0.980392158031,0.984313726425,0.988235294819,0.992156863213,0.996078431606,1.000000000000," />
-        <BlueCurve Value="0.000000000000,0.003921568859,0.007843137719,0.011764706112,0.015686275437,0.019607843831,0.023529412225,0.027450980619,0.031372550875,0.035294119269,0.039215687662,0.043137256056,0.047058824450,0.050980392843,0.054901961237,0.058823529631,0.062745101750,0.066666670144,0.070588238537,0.074509806931,0.078431375325,0.082352943718,0.086274512112,0.090196080506,0.094117648900,0.098039217293,0.101960785687,0.105882354081,0.109803922474,0.113725490868,0.117647059262,0.121568627656,0.125490203500,0.129411771894,0.133333340287,0.137254908681,0.141176477075,0.145098045468,0.149019613862,0.152941182256,0.156862750649,0.160784319043,0.164705887437,0.168627455831,0.172549024224,0.176470592618,0.180392161012,0.184313729405,0.188235297799,0.192156866193,0.196078434587,0.200000002980,0.203921571374,0.207843139768,0.211764708161,0.215686276555,0.219607844949,0.223529413342,0.227450981736,0.231372550130,0.235294118524,0.239215686917,0.243137255311,0.247058823705,0.250980407000,0.254901975393,0.258823543787,0.262745112181,0.266666680574,0.270588248968,0.274509817362,0.278431385756,0.282352954149,0.286274522543,0.290196090937,0.294117659330,0.298039227724,0.301960796118,0.305882364511,0.309803932905,0.313725501299,0.317647069693,0.321568638086,0.325490206480,0.329411774874,0.333333343267,0.337254911661,0.341176480055,0.345098048449,0.349019616842,0.352941185236,0.356862753630,0.360784322023,0.364705890417,0.368627458811,0.372549027205,0.376470595598,0.380392163992,0.384313732386,0.388235300779,0.392156869173,0.396078437567,0.400000005960,0.403921574354,0.407843142748,0.411764711142,0.415686279535,0.419607847929,0.423529416323,0.427450984716,0.431372553110,0.435294121504,0.439215689898,0.443137258291,0.447058826685,0.450980395079,0.454901963472,0.458823531866,0.462745100260,0.466666668653,0.470588237047,0.474509805441,0.478431373835,0.482352942228,0.486274510622,0.490196079016,0.494117647409,0.498039215803,0.501960813999,0.505882382393,0.509803950787,0.513725519180,0.517647087574,0.521568655968,0.525490224361,0.529411792755,0.533333361149,0.537254929543,0.541176497936,0.545098066330,0.549019634724,0.552941203117,0.556862771511,0.560784339905,0.564705908298,0.568627476692,0.572549045086,0.576470613480,0.580392181873,0.584313750267,0.588235318661,0.592156887054,0.596078455448,0.600000023842,0.603921592236,0.607843160629,0.611764729023,0.615686297417,0.619607865810,0.623529434204,0.627451002598,0.631372570992,0.635294139385,0.639215707779,0.643137276173,0.647058844566,0.650980412960,0.654901981354,0.658823549747,0.662745118141,0.666666686535,0.670588254929,0.674509823322,0.678431391716,0.682352960110,0.686274528503,0.690196096897,0.694117665291,0.698039233685,0.701960802078,0.705882370472,0.709803938866,0.713725507259,0.717647075653,0.721568644047,0.725490212440,0.729411780834,0.733333349228,0.737254917622,0.741176486015,0.745098054409,0.749019622803,0.752941191196,0.756862759590,0.760784327984,0.764705896378,0.768627464771,0.772549033165,0.776470601559,0.780392169952,0.784313738346,0.788235306740,0.792156875134,0.796078443527,0.800000011921,0.803921580315,0.807843148708,0.811764717102,0.815686285496,0.819607853889,0.823529422283,0.827450990677,0.831372559071,0.835294127464,0.839215695858,0.843137264252,0.847058832645,0.850980401039,0.854901969433,0.858823537827,0.862745106220,0.866666674614,0.870588243008,0.874509811401,0.878431379795,0.882352948189,0.886274516582,0.890196084976,0.894117653370,0.898039221764,0.901960790157,0.905882358551,0.909803926945,0.913725495338,0.917647063732,0.921568632126,0.925490200520,0.929411768913,0.933333337307,0.937254905701,0.941176474094,0.945098042488,0.949019610882,0.952941179276,0.956862747669,0.960784316063,0.964705884457,0.968627452850,0.972549021244,0.976470589638,0.980392158031,0.984313726425,0.988235294819,0.992156863213,0.996078431606,1.000000000000," />
-        <RedTable Value="0.000000,4.000000,8.000000,12.000000,16.000000,20.000000,24.000000,28.000000,32.000000,36.000000,40.000000,44.000000,48.000000,52.000000,56.000000,60.000000,64.000000,68.000000,72.000000,76.000000,80.000000,84.000000,88.000000,92.000000,96.000000,100.000000,104.000000,108.000000,112.000000,116.000000,120.000000,124.000000,128.000000,132.000000,136.000000,140.000000,144.000000,148.000000,152.000000,156.000000,160.000000,164.000000,168.000000,172.000000,176.000000,180.000000,184.000000,188.000000,192.000000,196.000000,200.000000,204.000000,208.000000,212.000000,216.000000,220.000000,224.000000,228.000000,232.000000,236.000000,240.000000,244.000000,248.000000,252.000000,256.000000,260.000000,264.000000,268.000000,272.000000,276.000000,280.000000,284.000000,288.000000,292.000000,296.000000,300.000000,304.000000,308.000000,312.000000,316.000000,320.000000,324.000000,328.000000,332.000000,336.000000,340.000000,344.000000,348.000000,352.000000,356.000000,360.000000,364.000000,368.000000,372.000000,376.000000,380.000000,384.000000,388.000000,392.000000,396.000000,400.000000,404.000000,408.000000,412.000000,416.000000,420.000000,424.000000,428.000000,432.000000,436.000000,440.000000,444.000000,448.000000,452.000000,456.000000,460.000000,464.000000,468.000000,472.000000,476.000000,480.000000,484.000000,488.000000,492.000000,496.000000,500.000000,504.000000,508.000000,512.000000,516.000000,520.000000,524.000000,528.000000,532.000000,536.000000,540.000000,544.000000,548.000000,552.000000,556.000000,560.000000,564.000000,568.000000,572.000000,576.000000,580.000000,584.000000,588.000000,592.000000,596.000000,600.000000,604.000000,608.000000,612.000000,616.000000,620.000000,624.000000,628.000000,632.000000,636.000000,640.000000,644.000000,648.000000,652.000000,656.000000,660.000000,664.000000,668.000000,672.000000,676.000000,680.000000,684.000000,688.000000,692.000000,696.000000,700.000000,704.000000,708.000000,712.000000,716.000000,720.000000,724.000000,728.000000,732.000000,736.000000,740.000000,744.000000,748.000000,752.000000,756.000000,760.000000,764.000000,768.000000,772.000000,776.000000,780.000000,784.000000,788.000000,792.000000,796.000000,800.000000,804.000000,808.000000,812.000000,816.000000,820.000000,824.000000,828.000000,832.000000,836.000000,840.000000,844.000000,848.000000,852.000000,856.000000,860.000000,864.000000,868.000000,872.000000,876.000000,880.000000,884.000000,888.000000,892.000000,896.000000,900.000000,904.000000,908.000000,912.000000,916.000000,920.000000,924.000000,928.000000,932.000000,936.000000,940.000000,944.000000,948.000000,952.000000,956.000000,960.000000,964.000000,968.000000,972.000000,976.000000,980.000000,984.000000,988.000000,992.000000,996.000000,1000.000000,1004.000000,1008.000000,1012.000000,1016.000000,1020.000000," />
-        <GreenTable Value="0.000000,4.000000,8.000000,12.000000,16.000000,20.000000,24.000000,28.000000,32.000000,36.000000,40.000000,44.000000,48.000000,52.000000,56.000000,60.000000,64.000000,68.000000,72.000000,76.000000,80.000000,84.000000,88.000000,92.000000,96.000000,100.000000,104.000000,108.000000,112.000000,116.000000,120.000000,124.000000,128.000000,132.000000,136.000000,140.000000,144.000000,148.000000,152.000000,156.000000,160.000000,164.000000,168.000000,172.000000,176.000000,180.000000,184.000000,188.000000,192.000000,196.000000,200.000000,204.000000,208.000000,212.000000,216.000000,220.000000,224.000000,228.000000,232.000000,236.000000,240.000000,244.000000,248.000000,252.000000,256.000000,260.000000,264.000000,268.000000,272.000000,276.000000,280.000000,284.000000,288.000000,292.000000,296.000000,300.000000,304.000000,308.000000,312.000000,316.000000,320.000000,324.000000,328.000000,332.000000,336.000000,340.000000,344.000000,348.000000,352.000000,356.000000,360.000000,364.000000,368.000000,372.000000,376.000000,380.000000,384.000000,388.000000,392.000000,396.000000,400.000000,404.000000,408.000000,412.000000,416.000000,420.000000,424.000000,428.000000,432.000000,436.000000,440.000000,444.000000,448.000000,452.000000,456.000000,460.000000,464.000000,468.000000,472.000000,476.000000,480.000000,484.000000,488.000000,492.000000,496.000000,500.000000,504.000000,508.000000,512.000000,516.000000,520.000000,524.000000,528.000000,532.000000,536.000000,540.000000,544.000000,548.000000,552.000000,556.000000,560.000000,564.000000,568.000000,572.000000,576.000000,580.000000,584.000000,588.000000,592.000000,596.000000,600.000000,604.000000,608.000000,612.000000,616.000000,620.000000,624.000000,628.000000,632.000000,636.000000,640.000000,644.000000,648.000000,652.000000,656.000000,660.000000,664.000000,668.000000,672.000000,676.000000,680.000000,684.000000,688.000000,692.000000,696.000000,700.000000,704.000000,708.000000,712.000000,716.000000,720.000000,724.000000,728.000000,732.000000,736.000000,740.000000,744.000000,748.000000,752.000000,756.000000,760.000000,764.000000,768.000000,772.000000,776.000000,780.000000,784.000000,788.000000,792.000000,796.000000,800.000000,804.000000,808.000000,812.000000,816.000000,820.000000,824.000000,828.000000,832.000000,836.000000,840.000000,844.000000,848.000000,852.000000,856.000000,860.000000,864.000000,868.000000,872.000000,876.000000,880.000000,884.000000,888.000000,892.000000,896.000000,900.000000,904.000000,908.000000,912.000000,916.000000,920.000000,924.000000,928.000000,932.000000,936.000000,940.000000,944.000000,948.000000,952.000000,956.000000,960.000000,964.000000,968.000000,972.000000,976.000000,980.000000,984.000000,988.000000,992.000000,996.000000,1000.000000,1004.000000,1008.000000,1012.000000,1016.000000,1020.000000," />
-        <BlueTable Value="0.000000,4.000000,8.000000,12.000000,16.000000,20.000000,24.000000,28.000000,32.000000,36.000000,40.000000,44.000000,48.000000,52.000000,56.000000,60.000000,64.000000,68.000000,72.000000,76.000000,80.000000,84.000000,88.000000,92.000000,96.000000,100.000000,104.000000,108.000000,112.000000,116.000000,120.000000,124.000000,128.000000,132.000000,136.000000,140.000000,144.000000,148.000000,152.000000,156.000000,160.000000,164.000000,168.000000,172.000000,176.000000,180.000000,184.000000,188.000000,192.000000,196.000000,200.000000,204.000000,208.000000,212.000000,216.000000,220.000000,224.000000,228.000000,232.000000,236.000000,240.000000,244.000000,248.000000,252.000000,256.000000,260.000000,264.000000,268.000000,272.000000,276.000000,280.000000,284.000000,288.000000,292.000000,296.000000,300.000000,304.000000,308.000000,312.000000,316.000000,320.000000,324.000000,328.000000,332.000000,336.000000,340.000000,344.000000,348.000000,352.000000,356.000000,360.000000,364.000000,368.000000,372.000000,376.000000,380.000000,384.000000,388.000000,392.000000,396.000000,400.000000,404.000000,408.000000,412.000000,416.000000,420.000000,424.000000,428.000000,432.000000,436.000000,440.000000,444.000000,448.000000,452.000000,456.000000,460.000000,464.000000,468.000000,472.000000,476.000000,480.000000,484.000000,488.000000,492.000000,496.000000,500.000000,504.000000,508.000000,512.000000,516.000000,520.000000,524.000000,528.000000,532.000000,536.000000,540.000000,544.000000,548.000000,552.000000,556.000000,560.000000,564.000000,568.000000,572.000000,576.000000,580.000000,584.000000,588.000000,592.000000,596.000000,600.000000,604.000000,608.000000,612.000000,616.000000,620.000000,624.000000,628.000000,632.000000,636.000000,640.000000,644.000000,648.000000,652.000000,656.000000,660.000000,664.000000,668.000000,672.000000,676.000000,680.000000,684.000000,688.000000,692.000000,696.000000,700.000000,704.000000,708.000000,712.000000,716.000000,720.000000,724.000000,728.000000,732.000000,736.000000,740.000000,744.000000,748.000000,752.000000,756.000000,760.000000,764.000000,768.000000,772.000000,776.000000,780.000000,784.000000,788.000000,792.000000,796.000000,800.000000,804.000000,808.000000,812.000000,816.000000,820.000000,824.000000,828.000000,832.000000,836.000000,840.000000,844.000000,848.000000,852.000000,856.000000,860.000000,864.000000,868.000000,872.000000,876.000000,880.000000,884.000000,888.000000,892.000000,896.000000,900.000000,904.000000,908.000000,912.000000,916.000000,920.000000,924.000000,928.000000,932.000000,936.000000,940.000000,944.000000,948.000000,952.000000,956.000000,960.000000,964.000000,968.000000,972.000000,976.000000,980.000000,984.000000,988.000000,992.000000,996.000000,1000.000000,1004.000000,1008.000000,1012.000000,1016.000000,1020.000000," />
+        <RedCurve Value="0.000000000000,0.001785118482,0.003754314966,0.005682894960,0.007829389535,0.010296771303,0.013048983179,0.015953097492,0.019001664594,0.021521855146,0.024080703035,0.026680149138,0.029322123155,0.032008558512,0.034741390496,0.037522550672,0.040353968740,0.043367587030,0.046467538923,0.049646411091,0.052896801382,0.056211300194,0.059582497925,0.063002988696,0.066465362906,0.069962546229,0.073488749564,0.077038541436,0.080606468022,0.084187075496,0.087774917483,0.091364547610,0.094950519502,0.098602727056,0.102200962603,0.105759114027,0.109291099012,0.112810842693,0.116332247853,0.119869217277,0.123435683548,0.127095147967,0.130785852671,0.134499236941,0.138226777315,0.141959935427,0.145690158010,0.149408936501,0.153107717633,0.156923845410,0.160759314895,0.164610341191,0.168473139405,0.172343939543,0.176218986511,0.180094480515,0.183966636658,0.187834888697,0.191711515188,0.195611923933,0.199551641941,0.203546091914,0.207610741258,0.211761027575,0.216012433171,0.220416799188,0.224887326360,0.229397580028,0.233921080828,0.238431423903,0.242902129889,0.247306779027,0.251618891954,0.255916923285,0.260076224804,0.264129459858,0.268109411001,0.272048771381,0.275980263948,0.279936671257,0.283950626850,0.288075089455,0.292250394821,0.296466857195,0.300714731216,0.304984390736,0.309266120195,0.313550263643,0.317827105522,0.322086989880,0.326320201159,0.330517083406,0.334667921066,0.338763058186,0.342792779207,0.346747428179,0.350617289543,0.354670315981,0.358688831329,0.362679064274,0.366647243500,0.370599627495,0.374542444944,0.378481894732,0.382424235344,0.386375695467,0.390342503786,0.394330918789,0.398347139359,0.402397394180,0.406487941742,0.410625010729,0.414814800024,0.419061362743,0.423359721899,0.427702724934,0.432083159685,0.436493873596,0.440927684307,0.445377409458,0.449835866690,0.454295903444,0.458750307560,0.463191926479,0.467613607645,0.472008109093,0.476368308067,0.480687022209,0.484957039356,0.488935977221,0.492916464806,0.496898472309,0.500882029533,0.504867017269,0.508853614330,0.512841641903,0.516831159592,0.520822107792,0.524814546108,0.528808414936,0.532803714275,0.536800444126,0.540798604488,0.544798195362,0.548799157143,0.552801489830,0.556805253029,0.560810327530,0.564816832542,0.568824648857,0.572833776474,0.576844274998,0.580856144428,0.584869265556,0.588883757591,0.592899501324,0.596916556358,0.600934922695,0.604954540730,0.608975470066,0.612997591496,0.617021024227,0.621045708656,0.625071644783,0.629098773003,0.633127152920,0.637156784534,0.641187608242,0.645219564438,0.649252831936,0.653287231922,0.657322824001,0.661359608173,0.665397524834,0.669436693192,0.673476994038,0.677518427372,0.681561052799,0.685604751110,0.689649581909,0.693695604801,0.697742700577,0.701790988445,0.705840289593,0.709890782833,0.713942289352,0.717994928360,0.722048699856,0.726103544235,0.730159461498,0.734216451645,0.738274455070,0.742333531380,0.746393680573,0.750454902649,0.754517197609,0.758580505848,0.762644827366,0.766710221767,0.770776569843,0.774843990803,0.778912484646,0.782981932163,0.787052333355,0.791123867035,0.795196294785,0.799269795418,0.803344190121,0.807419598103,0.811496019363,0.815573394299,0.819651782513,0.823731124401,0.827811300755,0.831892609596,0.835974752903,0.840057969093,0.844141960144,0.848227024078,0.852313041687,0.856399893761,0.860487699509,0.864576458931,0.868666172028,0.872756719589,0.876848280430,0.880940675735,0.885033965111,0.889128208160,0.893223345280,0.897319316864,0.901416242123,0.905514061451,0.909612655640,0.913712203503,0.917812645435,0.921913981438,0.926016151905,0.930119156837,0.934223055840,0.938327848911,0.942433476448,0.946539878845,0.950647234917,0.954755425453,0.958864390850,0.962974250317,0.967084884644,0.971196353436,0.975308716297,0.979421854019,0.983535885811,0.987650692463,0.991766273975,0.995882689953,1.000000000000," />
+        <GreenCurve Value="0.000000000000,0.001960784430,0.004901960958,0.006862745155,0.009803921916,0.012745098211,0.015686275437,0.018627451733,0.021568628028,0.024509804323,0.028431372717,0.031372550875,0.035294119269,0.039215687662,0.042156863958,0.046078432351,0.050000000745,0.053921569139,0.057843137532,0.061764705926,0.065686278045,0.069607846439,0.073529414833,0.077450983226,0.081372551620,0.084313727915,0.088235296309,0.092156864703,0.096078433096,0.100000001490,0.103921569884,0.106862746179,0.110784314573,0.114705882967,0.119607843459,0.123529411852,0.127450987697,0.131372556090,0.135294124484,0.139215692878,0.142156869173,0.146078437567,0.150000005960,0.153921574354,0.157843142748,0.161764711142,0.164705887437,0.168627455831,0.172549024224,0.176470592618,0.180392161012,0.184313729405,0.188235297799,0.191176474094,0.195098042488,0.199019610882,0.202941179276,0.206862747669,0.210784316063,0.214705884457,0.218627452850,0.222549021244,0.226470589638,0.229411765933,0.233333334327,0.237254902720,0.241176471114,0.245098039508,0.249019607902,0.252941191196,0.256862759590,0.260784327984,0.264705896378,0.268627464771,0.272549033165,0.276470601559,0.280392169952,0.284313738346,0.288235306740,0.292156875134,0.295098036528,0.299019604921,0.302941173315,0.306862741709,0.310784310102,0.314705878496,0.318627446890,0.322549015284,0.326470583677,0.330392152071,0.334313720465,0.338235288858,0.342156857252,0.346078425646,0.349999994040,0.353921562433,0.357843130827,0.361764699221,0.365686267614,0.369607836008,0.373529404402,0.377450972795,0.381372541189,0.385294109583,0.389215677977,0.393137246370,0.397058814764,0.400980383158,0.404901951551,0.408823519945,0.412745088339,0.416666656733,0.420588225126,0.424509793520,0.429411768913,0.433333337307,0.437254905701,0.441176474094,0.445098042488,0.449019610882,0.452941179276,0.456862747669,0.460784316063,0.464705884457,0.468627452850,0.472549021244,0.476470589638,0.480392158031,0.484313726425,0.488235294819,0.492156863213,0.496078431606,0.500000000000,0.503921568394,0.508823513985,0.512745082378,0.516666650772,0.520588219166,0.524509787560,0.528431355953,0.532352924347,0.536274492741,0.540196061134,0.544117629528,0.548039197922,0.551960766315,0.555882334709,0.560784339905,0.564705908298,0.568627476692,0.572549045086,0.576470613480,0.580392181873,0.584313750267,0.588235318661,0.592156887054,0.596078455448,0.600000023842,0.604901969433,0.608823537827,0.612745106220,0.616666674614,0.620588243008,0.624509811401,0.628431379795,0.632352948189,0.636274516582,0.641176462173,0.645098030567,0.649019598961,0.652941167355,0.656862735748,0.660784304142,0.664705872536,0.668627440929,0.672549009323,0.677450954914,0.681372523308,0.685294091702,0.689215660095,0.693137228489,0.697058796883,0.700980365276,0.704901933670,0.709803938866,0.713725507259,0.717647075653,0.721568644047,0.725490212440,0.729411780834,0.733333349228,0.738235294819,0.742156863213,0.746078431606,0.750000000000,0.753921568394,0.757843136787,0.761764705181,0.766666650772,0.770588219166,0.774509787560,0.778431355953,0.782352924347,0.786274492741,0.790196061134,0.795098066330,0.799019634724,0.802941203117,0.806862771511,0.810784339905,0.814705908298,0.819607853889,0.823529422283,0.827450990677,0.831372559071,0.835294127464,0.839215695858,0.844117641449,0.848039209843,0.851960778236,0.855882346630,0.859803915024,0.863725483418,0.868627429008,0.872548997402,0.876470565796,0.880392134190,0.884313702583,0.888235270977,0.893137276173,0.897058844566,0.900980412960,0.904901981354,0.908823549747,0.912745118141,0.917647063732,0.921568632126,0.925490200520,0.929411768913,0.933333337307,0.938235282898,0.942156851292,0.946078419685,0.949999988079,0.953921556473,0.958823502064,0.962745070457,0.966666638851,0.970588207245,0.974509775639,0.979411780834,0.983333349228,0.987254917622,0.991176486015,0.995098054409,1.000000000000," />
+        <BlueCurve Value="0.000000000000,0.000980392215,0.002941176528,0.004901960958,0.006862745155,0.008823529817,0.011764706112,0.013725490309,0.015686275437,0.018627451733,0.021568628028,0.024509804323,0.027450980619,0.030392156914,0.033333335072,0.036274511367,0.040196079761,0.043137256056,0.046078432351,0.050000000745,0.052941177040,0.056862745434,0.059803921729,0.063725493848,0.066666670144,0.070588238537,0.073529414833,0.076470591128,0.080392159522,0.083333335817,0.087254904211,0.090196080506,0.094117648900,0.098039217293,0.101960785687,0.105882354081,0.109803922474,0.113725490868,0.118627451360,0.122549019754,0.126470595598,0.130392163992,0.133333340287,0.137254908681,0.140196084976,0.144117653370,0.147058829665,0.150980398059,0.154901966453,0.157843142748,0.161764711142,0.164705887437,0.168627455831,0.172549024224,0.176470592618,0.180392161012,0.184313729405,0.188235297799,0.192156866193,0.196078434587,0.200000002980,0.203921571374,0.207843139768,0.210784316063,0.214705884457,0.218627452850,0.222549021244,0.226470589638,0.229411765933,0.233333334327,0.237254902720,0.241176471114,0.244117647409,0.249019607902,0.252941191196,0.256862759590,0.260784327984,0.265686273575,0.269607841969,0.273529410362,0.278431385756,0.282352954149,0.287254899740,0.291176468134,0.295098036528,0.300000011921,0.303921580315,0.307843148708,0.311764717102,0.316666662693,0.320588231087,0.324509799480,0.328431367874,0.333333343267,0.337254911661,0.341176480055,0.345098048449,0.349019616842,0.353921562433,0.357843130827,0.361764699221,0.365686267614,0.369607836008,0.374509811401,0.378431379795,0.382352948189,0.386274516582,0.390196084976,0.395098030567,0.399019598961,0.402941167355,0.407843142748,0.411764711142,0.416666656733,0.420588225126,0.425490200520,0.430392146111,0.435294121504,0.439215689898,0.444117635489,0.449019610882,0.452941179276,0.457843124866,0.461764693260,0.466666668653,0.470588237047,0.475490182638,0.479411751032,0.484313726425,0.488235294819,0.492156863213,0.496078431606,0.500000000000,0.503921568394,0.508823513985,0.512745082378,0.516666650772,0.520588219166,0.524509787560,0.528431355953,0.532352924347,0.536274492741,0.540196061134,0.544117629528,0.548039197922,0.551960766315,0.555882334709,0.560784339905,0.564705908298,0.568627476692,0.572549045086,0.576470613480,0.580392181873,0.584313750267,0.588235318661,0.592156887054,0.596078455448,0.600000023842,0.604901969433,0.608823537827,0.612745106220,0.616666674614,0.620588243008,0.624509811401,0.628431379795,0.632352948189,0.636274516582,0.641176462173,0.645098030567,0.649019598961,0.652941167355,0.656862735748,0.660784304142,0.664705872536,0.668627440929,0.672549009323,0.677450954914,0.681372523308,0.685294091702,0.689215660095,0.693137228489,0.697058796883,0.700980365276,0.704901933670,0.709803938866,0.713725507259,0.717647075653,0.721568644047,0.725490212440,0.729411780834,0.733333349228,0.738235294819,0.742156863213,0.746078431606,0.750000000000,0.753921568394,0.757843136787,0.761764705181,0.766666650772,0.770588219166,0.774509787560,0.778431355953,0.782352924347,0.786274492741,0.790196061134,0.795098066330,0.799019634724,0.802941203117,0.806862771511,0.810784339905,0.814705908298,0.819607853889,0.823529422283,0.827450990677,0.831372559071,0.835294127464,0.839215695858,0.844117641449,0.848039209843,0.851960778236,0.855882346630,0.859803915024,0.863725483418,0.868627429008,0.872548997402,0.876470565796,0.880392134190,0.884313702583,0.888235270977,0.893137276173,0.897058844566,0.900980412960,0.904901981354,0.908823549747,0.912745118141,0.917647063732,0.921568632126,0.925490200520,0.929411768913,0.933333337307,0.938235282898,0.942156851292,0.946078419685,0.949999988079,0.953921556473,0.958823502064,0.962745070457,0.966666638851,0.970588207245,0.974509775639,0.979411780834,0.983333349228,0.987254917622,0.991176486015,0.995098054409,1.000000000000," />
+        <RedTable Value="0.000000,1.000000,3.000000,5.000000,7.000000,10.000000,13.000000,16.000000,19.000000,21.000000,24.000000,27.000000,29.000000,32.000000,35.000000,38.000000,41.000000,44.000000,47.000000,50.000000,53.000000,57.000000,60.000000,64.000000,67.000000,71.000000,74.000000,78.000000,82.000000,85.000000,89.000000,93.000000,96.000000,100.000000,104.000000,107.000000,111.000000,115.000000,118.000000,122.000000,125.000000,129.000000,133.000000,137.000000,140.000000,144.000000,148.000000,152.000000,156.000000,160.000000,163.000000,167.000000,171.000000,175.000000,179.000000,183.000000,187.000000,191.000000,195.000000,199.000000,203.000000,207.000000,211.000000,215.000000,220.000000,224.000000,229.000000,233.000000,238.000000,243.000000,247.000000,252.000000,256.000000,261.000000,265.000000,269.000000,273.000000,277.000000,281.000000,285.000000,289.000000,293.000000,298.000000,302.000000,306.000000,311.000000,315.000000,319.000000,324.000000,328.000000,332.000000,337.000000,341.000000,345.000000,349.000000,353.000000,357.000000,361.000000,365.000000,369.000000,373.000000,378.000000,382.000000,386.000000,390.000000,394.000000,398.000000,402.000000,406.000000,410.000000,414.000000,418.000000,423.000000,427.000000,431.000000,436.000000,440.000000,445.000000,449.000000,454.000000,458.000000,463.000000,467.000000,472.000000,476.000000,481.000000,485.000000,490.000000,494.000000,498.000000,502.000000,506.000000,510.000000,514.000000,519.000000,523.000000,527.000000,531.000000,535.000000,539.000000,543.000000,547.000000,551.000000,555.000000,559.000000,563.000000,567.000000,572.000000,576.000000,580.000000,584.000000,588.000000,592.000000,596.000000,600.000000,604.000000,608.000000,612.000000,617.000000,621.000000,625.000000,629.000000,633.000000,637.000000,641.000000,645.000000,649.000000,654.000000,658.000000,662.000000,666.000000,670.000000,674.000000,678.000000,682.000000,686.000000,691.000000,695.000000,699.000000,703.000000,707.000000,711.000000,715.000000,719.000000,724.000000,728.000000,732.000000,736.000000,740.000000,744.000000,748.000000,753.000000,757.000000,761.000000,765.000000,769.000000,773.000000,777.000000,782.000000,786.000000,790.000000,794.000000,798.000000,802.000000,806.000000,811.000000,815.000000,819.000000,823.000000,827.000000,831.000000,836.000000,840.000000,844.000000,848.000000,852.000000,856.000000,861.000000,865.000000,869.000000,873.000000,877.000000,881.000000,886.000000,890.000000,894.000000,898.000000,902.000000,906.000000,911.000000,915.000000,919.000000,923.000000,927.000000,931.000000,936.000000,940.000000,944.000000,948.000000,952.000000,957.000000,961.000000,965.000000,969.000000,973.000000,978.000000,982.000000,986.000000,990.000000,994.000000,999.000000,1003.000000,1007.000000,1011.000000,1015.000000,1020.000000," />
+        <GreenTable Value="0.000000,2.000000,5.000000,7.000000,10.000000,13.000000,16.000000,19.000000,22.000000,25.000000,29.000000,32.000000,36.000000,40.000000,43.000000,47.000000,51.000000,55.000000,59.000000,63.000000,67.000000,71.000000,75.000000,79.000000,83.000000,86.000000,90.000000,94.000000,98.000000,102.000000,106.000000,109.000000,113.000000,117.000000,122.000000,126.000000,130.000000,134.000000,138.000000,142.000000,145.000000,149.000000,153.000000,157.000000,161.000000,165.000000,168.000000,172.000000,176.000000,180.000000,184.000000,188.000000,192.000000,195.000000,199.000000,203.000000,207.000000,211.000000,215.000000,219.000000,223.000000,227.000000,231.000000,234.000000,238.000000,242.000000,246.000000,250.000000,254.000000,258.000000,262.000000,266.000000,270.000000,274.000000,278.000000,282.000000,286.000000,290.000000,294.000000,298.000000,301.000000,305.000000,309.000000,313.000000,317.000000,321.000000,325.000000,329.000000,333.000000,337.000000,341.000000,345.000000,349.000000,353.000000,357.000000,361.000000,365.000000,369.000000,373.000000,377.000000,381.000000,385.000000,389.000000,393.000000,397.000000,401.000000,405.000000,409.000000,413.000000,417.000000,421.000000,425.000000,429.000000,433.000000,438.000000,442.000000,446.000000,450.000000,454.000000,458.000000,462.000000,466.000000,470.000000,474.000000,478.000000,482.000000,486.000000,490.000000,494.000000,498.000000,502.000000,506.000000,510.000000,514.000000,519.000000,523.000000,527.000000,531.000000,535.000000,539.000000,543.000000,547.000000,551.000000,555.000000,559.000000,563.000000,567.000000,572.000000,576.000000,580.000000,584.000000,588.000000,592.000000,596.000000,600.000000,604.000000,608.000000,612.000000,617.000000,621.000000,625.000000,629.000000,633.000000,637.000000,641.000000,645.000000,649.000000,654.000000,658.000000,662.000000,666.000000,670.000000,674.000000,678.000000,682.000000,686.000000,691.000000,695.000000,699.000000,703.000000,707.000000,711.000000,715.000000,719.000000,724.000000,728.000000,732.000000,736.000000,740.000000,744.000000,748.000000,753.000000,757.000000,761.000000,765.000000,769.000000,773.000000,777.000000,782.000000,786.000000,790.000000,794.000000,798.000000,802.000000,806.000000,811.000000,815.000000,819.000000,823.000000,827.000000,831.000000,836.000000,840.000000,844.000000,848.000000,852.000000,856.000000,861.000000,865.000000,869.000000,873.000000,877.000000,881.000000,886.000000,890.000000,894.000000,898.000000,902.000000,906.000000,911.000000,915.000000,919.000000,923.000000,927.000000,931.000000,936.000000,940.000000,944.000000,948.000000,952.000000,957.000000,961.000000,965.000000,969.000000,973.000000,978.000000,982.000000,986.000000,990.000000,994.000000,999.000000,1003.000000,1007.000000,1011.000000,1015.000000,1020.000000," />
+        <BlueTable Value="0.000000,1.000000,3.000000,5.000000,7.000000,9.000000,12.000000,14.000000,16.000000,19.000000,22.000000,25.000000,28.000000,31.000000,34.000000,37.000000,41.000000,44.000000,47.000000,51.000000,54.000000,58.000000,61.000000,65.000000,68.000000,72.000000,75.000000,78.000000,82.000000,85.000000,89.000000,92.000000,96.000000,100.000000,104.000000,108.000000,112.000000,116.000000,121.000000,125.000000,129.000000,133.000000,136.000000,140.000000,143.000000,147.000000,150.000000,154.000000,158.000000,161.000000,165.000000,168.000000,172.000000,176.000000,180.000000,184.000000,188.000000,192.000000,196.000000,200.000000,204.000000,208.000000,212.000000,215.000000,219.000000,223.000000,227.000000,231.000000,234.000000,238.000000,242.000000,246.000000,249.000000,254.000000,258.000000,262.000000,266.000000,271.000000,275.000000,279.000000,284.000000,288.000000,293.000000,297.000000,301.000000,306.000000,310.000000,314.000000,318.000000,323.000000,327.000000,331.000000,335.000000,340.000000,344.000000,348.000000,352.000000,356.000000,361.000000,365.000000,369.000000,373.000000,377.000000,382.000000,386.000000,390.000000,394.000000,398.000000,403.000000,407.000000,411.000000,416.000000,420.000000,425.000000,429.000000,434.000000,439.000000,444.000000,448.000000,453.000000,458.000000,462.000000,467.000000,471.000000,476.000000,480.000000,485.000000,489.000000,494.000000,498.000000,502.000000,506.000000,510.000000,514.000000,519.000000,523.000000,527.000000,531.000000,535.000000,539.000000,543.000000,547.000000,551.000000,555.000000,559.000000,563.000000,567.000000,572.000000,576.000000,580.000000,584.000000,588.000000,592.000000,596.000000,600.000000,604.000000,608.000000,612.000000,617.000000,621.000000,625.000000,629.000000,633.000000,637.000000,641.000000,645.000000,649.000000,654.000000,658.000000,662.000000,666.000000,670.000000,674.000000,678.000000,682.000000,686.000000,691.000000,695.000000,699.000000,703.000000,707.000000,711.000000,715.000000,719.000000,724.000000,728.000000,732.000000,736.000000,740.000000,744.000000,748.000000,753.000000,757.000000,761.000000,765.000000,769.000000,773.000000,777.000000,782.000000,786.000000,790.000000,794.000000,798.000000,802.000000,806.000000,811.000000,815.000000,819.000000,823.000000,827.000000,831.000000,836.000000,840.000000,844.000000,848.000000,852.000000,856.000000,861.000000,865.000000,869.000000,873.000000,877.000000,881.000000,886.000000,890.000000,894.000000,898.000000,902.000000,906.000000,911.000000,915.000000,919.000000,923.000000,927.000000,931.000000,936.000000,940.000000,944.000000,948.000000,952.000000,957.000000,961.000000,965.000000,969.000000,973.000000,978.000000,982.000000,986.000000,990.000000,994.000000,999.000000,1003.000000,1007.000000,1011.000000,1015.000000,1020.000000," />
         <MeasureDataTable0 Value="0.000000000000,0.000980392215,0.001960784430,0.002941176528,0.003921568859,0.004901960958,0.005882353056,0.006862745155,0.007843137719,0.008823529817,0.009803921916,0.010784314014,0.011764706112,0.012745098211,0.013725490309,0.014705882408,0.015686275437,0.016666667536,0.017647059634,0.018627451733,0.019607843831,0.020588235930,0.021568628028,0.022549020126,0.023529412225,0.024509804323,0.025490196422,0.026470588520,0.027450980619,0.028431372717,0.029411764815,0.030392156914,0.031372550875,0.032352942973,0.033333335072,0.034313727170,0.035294119269,0.036274511367,0.037254903466,0.038235295564,0.039215687662,0.040196079761,0.041176471859,0.042156863958,0.043137256056,0.044117648154,0.045098040253,0.046078432351,0.047058824450,0.048039216548,0.049019608647,0.050000000745,0.050980392843,0.051960784942,0.052941177040,0.053921569139,0.054901961237,0.055882353336,0.056862745434,0.057843137532,0.058823529631,0.059803921729,0.060784313828,0.061764705926,0.062745101750,0.063725493848,0.064705885947,0.065686278045,0.066666670144,0.067647062242,0.068627454340,0.069607846439,0.070588238537,0.071568630636,0.072549022734,0.073529414833,0.074509806931,0.075490199029,0.076470591128,0.077450983226,0.078431375325,0.079411767423,0.080392159522,0.081372551620,0.082352943718,0.083333335817,0.084313727915,0.085294120014,0.086274512112,0.087254904211,0.088235296309,0.089215688407,0.090196080506,0.091176472604,0.092156864703,0.093137256801,0.094117648900,0.095098040998,0.096078433096,0.097058825195,0.098039217293,0.099019609392,0.100000001490,0.100980393589,0.101960785687,0.102941177785,0.103921569884,0.104901961982,0.105882354081,0.106862746179,0.107843138278,0.108823530376,0.109803922474,0.110784314573,0.111764706671,0.112745098770,0.113725490868,0.114705882967,0.115686275065,0.116666667163,0.117647059262,0.118627451360,0.119607843459,0.120588235557,0.121568627656,0.122549019754,0.123529411852,0.124509803951,0.125490203500,0.126470595598,0.127450987697,0.128431379795,0.129411771894,0.130392163992,0.131372556090,0.132352948189,0.133333340287,0.134313732386,0.135294124484,0.136274516582,0.137254908681,0.138235300779,0.139215692878,0.140196084976,0.141176477075,0.142156869173,0.143137261271,0.144117653370,0.145098045468,0.146078437567,0.147058829665,0.148039221764,0.149019613862,0.150000005960,0.150980398059,0.151960790157,0.152941182256,0.153921574354,0.154901966453,0.155882358551,0.156862750649,0.157843142748,0.158823534846,0.159803926945,0.160784319043,0.161764711142,0.162745103240,0.163725495338,0.164705887437,0.165686279535,0.166666671634,0.167647063732,0.168627455831,0.169607847929,0.170588240027,0.171568632126,0.172549024224,0.173529416323,0.174509808421,0.175490200520,0.176470592618,0.177450984716,0.178431376815,0.179411768913,0.180392161012,0.181372553110,0.182352945209,0.183333337307,0.184313729405,0.185294121504,0.186274513602,0.187254905701,0.188235297799,0.189215689898,0.190196081996,0.191176474094,0.192156866193,0.193137258291,0.194117650390,0.195098042488,0.196078434587,0.197058826685,0.198039218783,0.199019610882,0.200000002980,0.200980395079,0.201960787177,0.202941179276,0.203921571374,0.204901963472,0.205882355571,0.206862747669,0.207843139768,0.208823531866,0.209803923965,0.210784316063,0.211764708161,0.212745100260,0.213725492358,0.214705884457,0.215686276555,0.216666668653,0.217647060752,0.218627452850,0.219607844949,0.220588237047,0.221568629146,0.222549021244,0.223529413342,0.224509805441,0.225490197539,0.226470589638,0.227450981736,0.228431373835,0.229411765933,0.230392158031,0.231372550130,0.232352942228,0.233333334327,0.234313726425,0.235294118524,0.236274510622,0.237254902720,0.238235294819,0.239215686917,0.240196079016,0.241176471114,0.242156863213,0.243137255311,0.244117647409,0.245098039508,0.246078431606,0.247058823705,0.248039215803,0.249019607902," />
         <MeasureDataTable1 Value="0.250000000000,0.250980407000,0.251960784197,0.252941191196,0.253921568394,0.254901975393,0.255882352591,0.256862759590,0.257843136787,0.258823543787,0.259803920984,0.260784327984,0.261764705181,0.262745112181,0.263725489378,0.264705896378,0.265686273575,0.266666680574,0.267647057772,0.268627464771,0.269607841969,0.270588248968,0.271568626165,0.272549033165,0.273529410362,0.274509817362,0.275490194559,0.276470601559,0.277450978756,0.278431385756,0.279411762953,0.280392169952,0.281372547150,0.282352954149,0.283333331347,0.284313738346,0.285294115543,0.286274522543,0.287254899740,0.288235306740,0.289215683937,0.290196090937,0.291176468134,0.292156875134,0.293137252331,0.294117659330,0.295098036528,0.296078443527,0.297058820724,0.298039227724,0.299019604921,0.300000011921,0.300980389118,0.301960796118,0.302941173315,0.303921580315,0.304901957512,0.305882364511,0.306862741709,0.307843148708,0.308823525906,0.309803932905,0.310784310102,0.311764717102,0.312745094299,0.313725501299,0.314705878496,0.315686285496,0.316666662693,0.317647069693,0.318627446890,0.319607853889,0.320588231087,0.321568638086,0.322549015284,0.323529422283,0.324509799480,0.325490206480,0.326470583677,0.327450990677,0.328431367874,0.329411774874,0.330392152071,0.331372559071,0.332352936268,0.333333343267,0.334313720465,0.335294127464,0.336274504662,0.337254911661,0.338235288858,0.339215695858,0.340196073055,0.341176480055,0.342156857252,0.343137264252,0.344117641449,0.345098048449,0.346078425646,0.347058832645,0.348039209843,0.349019616842,0.349999994040,0.350980401039,0.351960778236,0.352941185236,0.353921562433,0.354901969433,0.355882346630,0.356862753630,0.357843130827,0.358823537827,0.359803915024,0.360784322023,0.361764699221,0.362745106220,0.363725483418,0.364705890417,0.365686267614,0.366666674614,0.367647051811,0.368627458811,0.369607836008,0.370588243008,0.371568620205,0.372549027205,0.373529404402,0.374509811401,0.375490188599,0.376470595598,0.377450972795,0.378431379795,0.379411756992,0.380392163992,0.381372541189,0.382352948189,0.383333325386,0.384313732386,0.385294109583,0.386274516582,0.387254893780,0.388235300779,0.389215677977,0.390196084976,0.391176462173,0.392156869173,0.393137246370,0.394117653370,0.395098030567,0.396078437567,0.397058814764,0.398039221764,0.399019598961,0.400000005960,0.400980383158,0.401960790157,0.402941167355,0.403921574354,0.404901951551,0.405882358551,0.406862735748,0.407843142748,0.408823519945,0.409803926945,0.410784304142,0.411764711142,0.412745088339,0.413725495338,0.414705872536,0.415686279535,0.416666656733,0.417647063732,0.418627440929,0.419607847929,0.420588225126,0.421568632126,0.422549009323,0.423529416323,0.424509793520,0.425490200520,0.426470577717,0.427450984716,0.428431361914,0.429411768913,0.430392146111,0.431372553110,0.432352930307,0.433333337307,0.434313714504,0.435294121504,0.436274498701,0.437254905701,0.438235282898,0.439215689898,0.440196067095,0.441176474094,0.442156851292,0.443137258291,0.444117635489,0.445098042488,0.446078419685,0.447058826685,0.448039203882,0.449019610882,0.449999988079,0.450980395079,0.451960772276,0.452941179276,0.453921556473,0.454901963472,0.455882340670,0.456862747669,0.457843124866,0.458823531866,0.459803909063,0.460784316063,0.461764693260,0.462745100260,0.463725477457,0.464705884457,0.465686261654,0.466666668653,0.467647045851,0.468627452850,0.469607830048,0.470588237047,0.471568614244,0.472549021244,0.473529398441,0.474509805441,0.475490182638,0.476470589638,0.477450966835,0.478431373835,0.479411751032,0.480392158031,0.481372535229,0.482352942228,0.483333319426,0.484313726425,0.485294103622,0.486274510622,0.487254887819,0.488235294819,0.489215672016,0.490196079016,0.491176456213,0.492156863213,0.493137240410,0.494117647409,0.495098024607,0.496078431606,0.497058808804,0.498039215803,0.499019593000," />
         <MeasureDataTable2 Value="0.500000000000,0.500980377197,0.501960813999,0.502941191196,0.503921568394,0.504901945591,0.505882382393,0.506862759590,0.507843136787,0.508823513985,0.509803950787,0.510784327984,0.511764705181,0.512745082378,0.513725519180,0.514705896378,0.515686273575,0.516666650772,0.517647087574,0.518627464771,0.519607841969,0.520588219166,0.521568655968,0.522549033165,0.523529410362,0.524509787560,0.525490224361,0.526470601559,0.527450978756,0.528431355953,0.529411792755,0.530392169952,0.531372547150,0.532352924347,0.533333361149,0.534313738346,0.535294115543,0.536274492741,0.537254929543,0.538235306740,0.539215683937,0.540196061134,0.541176497936,0.542156875134,0.543137252331,0.544117629528,0.545098066330,0.546078443527,0.547058820724,0.548039197922,0.549019634724,0.550000011921,0.550980389118,0.551960766315,0.552941203117,0.553921580315,0.554901957512,0.555882334709,0.556862771511,0.557843148708,0.558823525906,0.559803903103,0.560784339905,0.561764717102,0.562745094299,0.563725471497,0.564705908298,0.565686285496,0.566666662693,0.567647039890,0.568627476692,0.569607853889,0.570588231087,0.571568608284,0.572549045086,0.573529422283,0.574509799480,0.575490176678,0.576470613480,0.577450990677,0.578431367874,0.579411745071,0.580392181873,0.581372559071,0.582352936268,0.583333313465,0.584313750267,0.585294127464,0.586274504662,0.587254881859,0.588235318661,0.589215695858,0.590196073055,0.591176450253,0.592156887054,0.593137264252,0.594117641449,0.595098018646,0.596078455448,0.597058832645,0.598039209843,0.599019587040,0.600000023842,0.600980401039,0.601960778236,0.602941155434,0.603921592236,0.604901969433,0.605882346630,0.606862723827,0.607843160629,0.608823537827,0.609803915024,0.610784292221,0.611764729023,0.612745106220,0.613725483418,0.614705860615,0.615686297417,0.616666674614,0.617647051811,0.618627429008,0.619607865810,0.620588243008,0.621568620205,0.622548997402,0.623529434204,0.624509811401,0.625490188599,0.626470565796,0.627451002598,0.628431379795,0.629411756992,0.630392134190,0.631372570992,0.632352948189,0.633333325386,0.634313702583,0.635294139385,0.636274516582,0.637254893780,0.638235270977,0.639215707779,0.640196084976,0.641176462173,0.642156839371,0.643137276173,0.644117653370,0.645098030567,0.646078407764,0.647058844566,0.648039221764,0.649019598961,0.649999976158,0.650980412960,0.651960790157,0.652941167355,0.653921544552,0.654901981354,0.655882358551,0.656862735748,0.657843112946,0.658823549747,0.659803926945,0.660784304142,0.661764681339,0.662745118141,0.663725495338,0.664705872536,0.665686249733,0.666666686535,0.667647063732,0.668627440929,0.669607818127,0.670588254929,0.671568632126,0.672549009323,0.673529386520,0.674509823322,0.675490200520,0.676470577717,0.677450954914,0.678431391716,0.679411768913,0.680392146111,0.681372523308,0.682352960110,0.683333337307,0.684313714504,0.685294091702,0.686274528503,0.687254905701,0.688235282898,0.689215660095,0.690196096897,0.691176474094,0.692156851292,0.693137228489,0.694117665291,0.695098042488,0.696078419685,0.697058796883,0.698039233685,0.699019610882,0.699999988079,0.700980365276,0.701960802078,0.702941179276,0.703921556473,0.704901933670,0.705882370472,0.706862747669,0.707843124866,0.708823502064,0.709803938866,0.710784316063,0.711764693260,0.712745070457,0.713725507259,0.714705884457,0.715686261654,0.716666638851,0.717647075653,0.718627452850,0.719607830048,0.720588207245,0.721568644047,0.722549021244,0.723529398441,0.724509775639,0.725490212440,0.726470589638,0.727450966835,0.728431344032,0.729411780834,0.730392158031,0.731372535229,0.732352912426,0.733333349228,0.734313726425,0.735294103622,0.736274480820,0.737254917622,0.738235294819,0.739215672016,0.740196049213,0.741176486015,0.742156863213,0.743137240410,0.744117617607,0.745098054409,0.746078431606,0.747058808804,0.748039186001,0.749019622803," />
         <MeasureDataTable3 Value="0.750000000000,0.750980377197,0.751960813999,0.752941191196,0.753921568394,0.754901945591,0.755882382393,0.756862759590,0.757843136787,0.758823513985,0.759803950787,0.760784327984,0.761764705181,0.762745082378,0.763725519180,0.764705896378,0.765686273575,0.766666650772,0.767647087574,0.768627464771,0.769607841969,0.770588219166,0.771568655968,0.772549033165,0.773529410362,0.774509787560,0.775490224361,0.776470601559,0.777450978756,0.778431355953,0.779411792755,0.780392169952,0.781372547150,0.782352924347,0.783333361149,0.784313738346,0.785294115543,0.786274492741,0.787254929543,0.788235306740,0.789215683937,0.790196061134,0.791176497936,0.792156875134,0.793137252331,0.794117629528,0.795098066330,0.796078443527,0.797058820724,0.798039197922,0.799019634724,0.800000011921,0.800980389118,0.801960766315,0.802941203117,0.803921580315,0.804901957512,0.805882334709,0.806862771511,0.807843148708,0.808823525906,0.809803903103,0.810784339905,0.811764717102,0.812745094299,0.813725471497,0.814705908298,0.815686285496,0.816666662693,0.817647039890,0.818627476692,0.819607853889,0.820588231087,0.821568608284,0.822549045086,0.823529422283,0.824509799480,0.825490176678,0.826470613480,0.827450990677,0.828431367874,0.829411745071,0.830392181873,0.831372559071,0.832352936268,0.833333313465,0.834313750267,0.835294127464,0.836274504662,0.837254881859,0.838235318661,0.839215695858,0.840196073055,0.841176450253,0.842156887054,0.843137264252,0.844117641449,0.845098018646,0.846078455448,0.847058832645,0.848039209843,0.849019587040,0.850000023842,0.850980401039,0.851960778236,0.852941155434,0.853921592236,0.854901969433,0.855882346630,0.856862723827,0.857843160629,0.858823537827,0.859803915024,0.860784292221,0.861764729023,0.862745106220,0.863725483418,0.864705860615,0.865686297417,0.866666674614,0.867647051811,0.868627429008,0.869607865810,0.870588243008,0.871568620205,0.872548997402,0.873529434204,0.874509811401,0.875490188599,0.876470565796,0.877451002598,0.878431379795,0.879411756992,0.880392134190,0.881372570992,0.882352948189,0.883333325386,0.884313702583,0.885294139385,0.886274516582,0.887254893780,0.888235270977,0.889215707779,0.890196084976,0.891176462173,0.892156839371,0.893137276173,0.894117653370,0.895098030567,0.896078407764,0.897058844566,0.898039221764,0.899019598961,0.899999976158,0.900980412960,0.901960790157,0.902941167355,0.903921544552,0.904901981354,0.905882358551,0.906862735748,0.907843112946,0.908823549747,0.909803926945,0.910784304142,0.911764681339,0.912745118141,0.913725495338,0.914705872536,0.915686249733,0.916666686535,0.917647063732,0.918627440929,0.919607818127,0.920588254929,0.921568632126,0.922549009323,0.923529386520,0.924509823322,0.925490200520,0.926470577717,0.927450954914,0.928431391716,0.929411768913,0.930392146111,0.931372523308,0.932352960110,0.933333337307,0.934313714504,0.935294091702,0.936274528503,0.937254905701,0.938235282898,0.939215660095,0.940196096897,0.941176474094,0.942156851292,0.943137228489,0.944117665291,0.945098042488,0.946078419685,0.947058796883,0.948039233685,0.949019610882,0.949999988079,0.950980365276,0.951960802078,0.952941179276,0.953921556473,0.954901933670,0.955882370472,0.956862747669,0.957843124866,0.958823502064,0.959803938866,0.960784316063,0.961764693260,0.962745070457,0.963725507259,0.964705884457,0.965686261654,0.966666638851,0.967647075653,0.968627452850,0.969607830048,0.970588207245,0.971568644047,0.972549021244,0.973529398441,0.974509775639,0.975490212440,0.976470589638,0.977450966835,0.978431344032,0.979411780834,0.980392158031,0.981372535229,0.982352912426,0.983333349228,0.984313726425,0.985294103622,0.986274480820,0.987254917622,0.988235294819,0.989215672016,0.990196049213,0.991176486015,0.992156863213,0.993137240410,0.994117617607,0.995098054409,0.996078431606,0.997058808804,0.998039186001,0.999019622803,1.000000000000," />
-        <RangeParameter TemGrayMaxR="255" TemGrayMaxG="255" TemGrayMaxB="255" m_CoeTop_R="" m_CoeTop_G="" m_CoeTop_B="" m_CoeBottom_R="1.0" m_CoeBottom_G="1.0" m_CoeBottom_B="1" />
+        <RangeParameter TemGrayMaxR="255" TemGrayMaxG="255" TemGrayMaxB="255" m_CoeTop_R="" m_CoeTop_G="" m_CoeTop_B="" m_CoeBottom_R="1.05" m_CoeBottom_G="1.0" m_CoeBottom_B="1" />
     </GAMMA>
     <Sharpness_0_GXBB ObjectName="Sharpness_0_GXBB_4K">
         <Global MaxEditGroupNumber="3" TotalGroupNumber="256" EditGroupIndex0="0" EditGroupIndex1="127" EditGroupIndex2="255">
@@ -34404,47 +34444,57 @@
         <Lowalpha Value="17" />
         <Hist_adj_level Value="5" />
         <ve_dnlp_adj_level Value="6" />
-        <ve_dnlp_mvreflsh Value="6" />
-        <ve_dnlp_gmma_rate Value="99" />
-        <ve_dnlp_lowalpha_new Value="28" />
-        <ve_dnlp_hghalpha_new Value="28" />
+        <ve_dnlp_mvreflsh Value="5" />
+        <ve_dnlp_gmma_rate Value="95" />
+        <ve_dnlp_lowalpha_new Value="45" />
+        <ve_dnlp_hghalpha_new Value="60" />
         <ve_dnlp_sbnbnd Value="4" />
         <ve_dnlp_sendbnd Value="4" />
-        <ve_dnlp_cliprate_new Value="5" />
+        <ve_dnlp_cliprate_new Value="30" />
         <ve_dnlp_clashBgn Value="4" />
         <ve_dnlp_clashEnd Value="10" />
-        <ve_mtdbld_rate Value="40" />
-        <ve_blkbld_rate Value="0" />
+        <ve_mtdbld_rate Value="35" />
+        <ve_dnlp_pst_gmarat Value="64" />
         <dnlp_sel Value="1" />
         <ve_dnlp_blk_cctr Value="8" />
         <ve_dnlp_brgt_ctrl Value="48" />
         <ve_dnlp_brgt_range Value="16" />
-        <ve_dnlp_brght_add Value="36" />
+        <ve_dnlp_brght_add Value="33" />
         <ve_dnlp_brght_max Value="0" />
-        <ve_dnlp_almst_wht Value="59" />
-        <ve_dnlp_hghbin Value="46" />
+        <ve_dnlp_almst_wht Value="60" />
+        <ve_dnlp_hghbin Value="49" />
         <ve_dnlp_hghnum Value="4" />
         <ve_dnlp_lowbin Value="4" />
         <ve_dnlp_lownum Value="4" />
-        <ve_dnlp_bkgend Value="20" />
-        <ve_dnlp_bkgert Value="4" />
-        <ve_dnlp_blkext Value="0" />
-        <ve_dnlp_whtext Value="8" />
-        <ve_dnlp_bextmx Value="0" />
-        <ve_dnlp_wextmx Value="2" />
+        <ve_dnlp_bkgend Value="0" />
+        <ve_dnlp_bkgert Value="64" />
+        <ve_dnlp_blkext Value="1" />
+        <ve_dnlp_whtext Value="1" />
+        <ve_dnlp_bextmx Value="1" />
+        <ve_dnlp_wextmx Value="32" />
         <ve_dnlp_smhist_ck Value="0" />
         <ve_dnlp_glb_crate Value="1" />
-        <Reg_hist_en_vs_latch Value="0" />
-        <Dnlp_En value="0" />
-        <Hist_34bin_only value="0" />
-        <Dnlp_bypass value="0" />
-        <Hist_win_En value="0" />
-        <Luma_Hist_Spl_En value="0" />
-        <Spl_sft value="0" />
-        <Reg_filt_mode value="0" />
-        <Hist_in_sel value="0" />
-        <Hist_din_comp_mux value="0" />
-        <Hist_dnlp_low value="0" />
+        <dnlp_pstgma_brghtrate Value="0" />
+        <dnlp_pstgma_brghtrat1 Value="0" />
+        <dnlp_wext_autorat Value="16" />
+        <dnlp_cliprate_min Value="16" />
+        <dnlp_adpcrat_lbnd Value="10" />
+        <dnlp_adpcrat_hbnd Value="20" />
+        <dnlp_adpmtd_lbnd Value="19" />
+        <dnlp_adpmtd_hbnd Value="20" />
+        <dnlp_set_bext Value="0" />
+        <dnlp_set_wext Value="0" />
+        <dnlp_satur_rat Value="30" />
+        <dnlp_satur_max Value="40" />
+        <blk_prct_rng Value="2" />
+        <blk_prct_max Value="16" />
+        <dnlp_lowrange Value="18" />
+        <dnlp_hghrange Value="18" />
+        <dnlp_auto_rng Value="0" />
+        <dnlp_bin0_absmax Value="16" />
+        <dnlp_bin0_sbtmax Value="128" />
+        <dnlp_adpalpha_lrate Value="32" />
+        <dnlp_adpalpha_hrate Value="32" />
         <ve_dnlp_lrate00 Value="64" />
         <ve_dnlp_lrate02 Value="64" />
         <ve_dnlp_lrate04 Value="64" />
diff --git a/p310/files/tv/tvconfig.conf b/p310/files/tv/tvconfig.conf
index 3f3c488..e5683f7 100644
--- a/p310/files/tv/tvconfig.conf
+++ b/p310/files/tv/tvconfig.conf
@@ -2,7 +2,7 @@
 #default source input ids
 tv.source.input.ids.default=0,1,5,6,7,10
 #ssm configure
-platform.havefbc=false
+platform.havefbc=true
 ro.tv.ssm.device_01_cfg = file,/param/ssm_data,0x1000,0,0xFFF,0x20,0x20,0x50,1
 ssm.handle.hdcpkey.en = 1
 #ssm.handle.hdcpkey.demo.en = 1
diff --git a/p310/fstab.amlogic b/p310/fstab.amlogic
index 8fb602a..c74f2e5 100644
--- a/p310/fstab.amlogic
+++ b/p310/fstab.amlogic
@@ -14,3 +14,4 @@
 /dev/block/loop     auto                loop      defaults                                  voldmanaged=loop:auto
 /dev/block/param    /param              ext4      noatime,nosuid,nodev,nomblk_io_submit,errors=remount-ro    wait,check
 /dev/block/zram0    /swap_zram0             swap      defaults                             wait,zramsize=auto
+/dev/block/tee       /tee                 ext4      noatime,nosuid,nodev,nodelalloc,nomblk_io_submit,errors=panic    wait,check
diff --git a/p310/fstab.verity.amlogic b/p310/fstab.verity.amlogic
index c1e5cbe..82ba70d 100644
--- a/p310/fstab.verity.amlogic
+++ b/p310/fstab.verity.amlogic
@@ -10,3 +10,4 @@
 /devices/lm?/usb?/*/host*/target*/block/sd*  auto             vfat      defaults                       voldmanaged=udisk0:auto
 /devices/lm?/usb?/*/host*/target*/block/sd*  auto             vfat      defaults                       voldmanaged=udisk1:auto
 /dev/block/loop     auto                loop      defaults                                  voldmanaged=loop:auto
+/dev/block/tee       /tee                 ext4      noatime,nosuid,nodev,nodelalloc,nomblk_io_submit,errors=panic    wait,check
diff --git a/p310/init.amlogic.board.rc b/p310/init.amlogic.board.rc
index 9b630e3..d3936d0 100644
--- a/p310/init.amlogic.board.rc
+++ b/p310/init.amlogic.board.rc
@@ -7,12 +7,16 @@ on early-init
     mount configfs configfs /sys/kernel/config
     #mount usbfs none /proc/bus/usb
 
+    insmod /boot/optee.ko
+    insmod /boot/optee_armtz.ko
+
     insmod /boot/instaboot.ko
     insmod /boot/r840_fe.ko
 
 on init
 
 on post-fs-data
+    mkdir  /data/tee
     insmod /system/lib/mali.ko
 
 on boot
@@ -37,6 +41,8 @@ on boot
     # chmod 0666 /dev/ge2d
     chmod 666 /dev/cec
     chmod 666 /dev/dvb0.frontend0
+    chmod 0666 /dev/opteearmtz00
+    chmod 0666 /dev/tee0
     mount debugfs debugfs /sys/kernel/debug mode=755
 
 on fs
@@ -72,3 +78,9 @@ service p2p_supplicant /system/bin/wpa_supplicant \
     socket wpa_wlan0 dgram 660 wifi wifi
     disabled
     oneshot
+
+service tee_supplicant /system/bin/tee-supplicant
+	class main
+	oneshot
+	seclabel u:r:tee:s0
+
diff --git a/p310/overlay/frameworks/base/core/res/res/values/config.xml b/p310/overlay/frameworks/base/core/res/res/values/config.xml
index 0ff91f0..d2ce2f2 100644
--- a/p310/overlay/frameworks/base/core/res/res/values/config.xml
+++ b/p310/overlay/frameworks/base/core/res/res/values/config.xml
@@ -96,4 +96,6 @@
         <item>com.android.location.fused</item>
     </string-array>
     <integer name="config_longPressOnPowerBehavior">3</integer>
+    <!--  Maximum number of supported users -->
+    <integer name="config_multiuserMaximumUsers">2</integer>
 </resources>
diff --git a/p310/p310.mk b/p310/p310.mk
index a046462..68a884c 100644
--- a/p310/p310.mk
+++ b/p310/p310.mk
@@ -197,8 +197,9 @@ PRODUCT_LOCALES := en_US en_AU en_IN fr_FR it_IT es_ES et_EE de_DE nl_NL cs_CZ p
 #                                                PPPOE
 #
 #################################################################################
-
+ifneq ($(TARGET_BUILD_GOOGLE_ATV), true)
 BUILD_WITH_PPPOE := true
+endif
 
 ifeq ($(BUILD_WITH_PPPOE),true)
 PRODUCT_PACKAGES += \
@@ -213,7 +214,6 @@ PRODUCT_PACKAGES += \
 PRODUCT_PROPERTY_OVERRIDES += \
     ro.platform.has.pppoe=true
 endif
-
 #################################################################################
 #
 #                                                DEFAULT LOWMEMORYKILLER CONFIG
@@ -251,3 +251,5 @@ PRODUCT_COPY_FILES += \
   $(LOCAL_PATH)/instaboot_config.xml:system/etc/instaboot_config.xml
 endif
 endif
+
+PRODUCT_PACKAGES += fbc
diff --git a/p311/files/tv/pq.xml b/p311/files/tv/pq.xml
index 80d3955..68643b7 100644
--- a/p311/files/tv/pq.xml
+++ b/p311/files/tv/pq.xml
@@ -954,47 +954,57 @@
         <Lowalpha Value="17" />
         <Hist_adj_level Value="5" />
         <ve_dnlp_adj_level Value="6" />
-        <ve_dnlp_mvreflsh Value="5" />
-        <ve_dnlp_gmma_rate Value="138" />
-        <ve_dnlp_lowalpha_new Value="22" />
-        <ve_dnlp_hghalpha_new Value="30" />
+        <ve_dnlp_mvreflsh Value="4" />
+        <ve_dnlp_gmma_rate Value="150" />
+        <ve_dnlp_lowalpha_new Value="28" />
+        <ve_dnlp_hghalpha_new Value="50" />
         <ve_dnlp_sbnbnd Value="0" />
         <ve_dnlp_sendbnd Value="0" />
-        <ve_dnlp_cliprate_new Value="6" />
+        <ve_dnlp_cliprate_new Value="36" />
         <ve_dnlp_clashBgn Value="0" />
-        <ve_dnlp_clashEnd Value="14" />
-        <ve_mtdbld_rate Value="50" />
-        <ve_blkbld_rate Value="6" />
+        <ve_dnlp_clashEnd Value="15" />
+        <ve_mtdbld_rate Value="40" />
+        <ve_dnlp_pst_gmarat Value="65" />
         <dnlp_sel Value="1" />
         <ve_dnlp_blk_cctr Value="8" />
         <ve_dnlp_brgt_ctrl Value="48" />
         <ve_dnlp_brgt_range Value="16" />
         <ve_dnlp_brght_add Value="32" />
         <ve_dnlp_brght_max Value="0" />
-        <ve_dnlp_almst_wht Value="62" />
+        <ve_dnlp_almst_wht Value="60" />
         <ve_dnlp_hghbin Value="55" />
-        <ve_dnlp_hghnum Value="4" />
-        <ve_dnlp_lowbin Value="4" />
-        <ve_dnlp_lownum Value="4" />
-        <ve_dnlp_bkgend Value="20" />
-        <ve_dnlp_bkgert Value="2" />
-        <ve_dnlp_blkext Value="2" />
-        <ve_dnlp_whtext Value="8" />
-        <ve_dnlp_bextmx Value="2" />
-        <ve_dnlp_wextmx Value="2" />
+        <ve_dnlp_hghnum Value="0" />
+        <ve_dnlp_lowbin Value="0" />
+        <ve_dnlp_lownum Value="0" />
+        <ve_dnlp_bkgend Value="0" />
+        <ve_dnlp_bkgert Value="64" />
+        <ve_dnlp_blkext Value="4" />
+        <ve_dnlp_whtext Value="4" />
+        <ve_dnlp_bextmx Value="4" />
+        <ve_dnlp_wextmx Value="32" />
         <ve_dnlp_smhist_ck Value="0" />
         <ve_dnlp_glb_crate Value="1" />
-        <Reg_hist_en_vs_latch Value="0" />
-        <Dnlp_En value="0" />
-        <Hist_34bin_only value="0" />
-        <Dnlp_bypass value="0" />
-        <Hist_win_En value="0" />
-        <Luma_Hist_Spl_En value="0" />
-        <Spl_sft value="0" />
-        <Reg_filt_mode value="0" />
-        <Hist_in_sel value="0" />
-        <Hist_din_comp_mux value="0" />
-        <Hist_dnlp_low value="0" />
+        <dnlp_pstgma_brghtrate Value="8" />
+        <dnlp_pstgma_brghtrat1 Value="15" />
+        <dnlp_wext_autorat Value="16" />
+        <dnlp_cliprate_min Value="19" />
+        <dnlp_adpcrat_lbnd Value="10" />
+        <dnlp_adpcrat_hbnd Value="20" />
+        <dnlp_adpmtd_lbnd Value="19" />
+        <dnlp_adpmtd_hbnd Value="20" />
+        <dnlp_set_bext Value="0" />
+        <dnlp_set_wext Value="0" />
+        <dnlp_satur_rat Value="30" />
+        <dnlp_satur_max Value="40" />
+        <blk_prct_rng Value="2" />
+        <blk_prct_max Value="16" />
+        <dnlp_lowrange Value="18" />
+        <dnlp_hghrange Value="18" />
+        <dnlp_auto_rng Value="0" />
+        <dnlp_bin0_absmax Value="16" />
+        <dnlp_bin0_sbtmax Value="128" />
+        <dnlp_adpalpha_lrate Value="32" />
+        <dnlp_adpalpha_hrate Value="32" />
         <ve_dnlp_lrate00 Value="64" />
         <ve_dnlp_lrate02 Value="64" />
         <ve_dnlp_lrate04 Value="64" />
@@ -1052,47 +1062,57 @@
         <Lowalpha Value="18" />
         <Hist_adj_level Value="5" />
         <ve_dnlp_adj_level Value="6" />
-        <ve_dnlp_mvreflsh Value="5" />
+        <ve_dnlp_mvreflsh Value="4" />
         <ve_dnlp_gmma_rate Value="128" />
-        <ve_dnlp_lowalpha_new Value="22" />
-        <ve_dnlp_hghalpha_new Value="28" />
+        <ve_dnlp_lowalpha_new Value="40" />
+        <ve_dnlp_hghalpha_new Value="60" />
         <ve_dnlp_sbnbnd Value="0" />
         <ve_dnlp_sendbnd Value="0" />
-        <ve_dnlp_cliprate_new Value="6" />
+        <ve_dnlp_cliprate_new Value="34" />
         <ve_dnlp_clashBgn Value="0" />
-        <ve_dnlp_clashEnd Value="14" />
-        <ve_mtdbld_rate Value="50" />
-        <ve_blkbld_rate Value="0" />
+        <ve_dnlp_clashEnd Value="15" />
+        <ve_mtdbld_rate Value="40" />
+        <ve_dnlp_pst_gmarat Value="65" />
         <dnlp_sel Value="1" />
         <ve_dnlp_blk_cctr Value="8" />
         <ve_dnlp_brgt_ctrl Value="48" />
         <ve_dnlp_brgt_range Value="16" />
-        <ve_dnlp_brght_add Value="34" />
+        <ve_dnlp_brght_add Value="33" />
         <ve_dnlp_brght_max Value="0" />
-        <ve_dnlp_almst_wht Value="62" />
+        <ve_dnlp_almst_wht Value="60" />
         <ve_dnlp_hghbin Value="55" />
         <ve_dnlp_hghnum Value="4" />
         <ve_dnlp_lowbin Value="4" />
         <ve_dnlp_lownum Value="4" />
-        <ve_dnlp_bkgend Value="20" />
-        <ve_dnlp_bkgert Value="4" />
+        <ve_dnlp_bkgend Value="0" />
+        <ve_dnlp_bkgert Value="64" />
         <ve_dnlp_blkext Value="4" />
-        <ve_dnlp_whtext Value="8" />
-        <ve_dnlp_bextmx Value="2" />
-        <ve_dnlp_wextmx Value="2" />
+        <ve_dnlp_whtext Value="4" />
+        <ve_dnlp_bextmx Value="4" />
+        <ve_dnlp_wextmx Value="32" />
         <ve_dnlp_smhist_ck Value="0" />
         <ve_dnlp_glb_crate Value="1" />
-        <Reg_hist_en_vs_latch Value="0" />
-        <Dnlp_En value="0" />
-        <Hist_34bin_only value="0" />
-        <Dnlp_bypass value="0" />
-        <Hist_win_En value="0" />
-        <Luma_Hist_Spl_En value="0" />
-        <Spl_sft value="0" />
-        <Reg_filt_mode value="0" />
-        <Hist_in_sel value="0" />
-        <Hist_din_comp_mux value="0" />
-        <Hist_dnlp_low value="0" />
+        <dnlp_pstgma_brghtrate Value="8" />
+        <dnlp_pstgma_brghtrat1 Value="15" />
+        <dnlp_wext_autorat Value="16" />
+        <dnlp_cliprate_min Value="19" />
+        <dnlp_adpcrat_lbnd Value="10" />
+        <dnlp_adpcrat_hbnd Value="20" />
+        <dnlp_adpmtd_lbnd Value="19" />
+        <dnlp_adpmtd_hbnd Value="20" />
+        <dnlp_set_bext Value="0" />
+        <dnlp_set_wext Value="0" />
+        <dnlp_satur_rat Value="30" />
+        <dnlp_satur_max Value="40" />
+        <blk_prct_rng Value="2" />
+        <blk_prct_max Value="16" />
+        <dnlp_lowrange Value="18" />
+        <dnlp_hghrange Value="18" />
+        <dnlp_auto_rng Value="0" />
+        <dnlp_bin0_absmax Value="16" />
+        <dnlp_bin0_sbtmax Value="128" />
+        <dnlp_adpalpha_lrate Value="32" />
+        <dnlp_adpalpha_hrate Value="32" />
         <ve_dnlp_lrate00 Value="64" />
         <ve_dnlp_lrate02 Value="64" />
         <ve_dnlp_lrate04 Value="64" />
@@ -1155,45 +1175,55 @@
         <ve_dnlp_adj_level Value="6" />
         <ve_dnlp_mvreflsh Value="5" />
         <ve_dnlp_gmma_rate Value="150" />
-        <ve_dnlp_lowalpha_new Value="22" />
-        <ve_dnlp_hghalpha_new Value="28" />
+        <ve_dnlp_lowalpha_new Value="55" />
+        <ve_dnlp_hghalpha_new Value="50" />
         <ve_dnlp_sbnbnd Value="0" />
         <ve_dnlp_sendbnd Value="0" />
-        <ve_dnlp_cliprate_new Value="6" />
+        <ve_dnlp_cliprate_new Value="34" />
         <ve_dnlp_clashBgn Value="0" />
         <ve_dnlp_clashEnd Value="15" />
-        <ve_mtdbld_rate Value="55" />
-        <ve_blkbld_rate Value="0" />
+        <ve_mtdbld_rate Value="30" />
+        <ve_dnlp_pst_gmarat Value="65" />
         <dnlp_sel Value="1" />
         <ve_dnlp_blk_cctr Value="8" />
         <ve_dnlp_brgt_ctrl Value="48" />
         <ve_dnlp_brgt_range Value="16" />
-        <ve_dnlp_brght_add Value="34" />
+        <ve_dnlp_brght_add Value="32" />
         <ve_dnlp_brght_max Value="0" />
-        <ve_dnlp_almst_wht Value="63" />
+        <ve_dnlp_almst_wht Value="60" />
         <ve_dnlp_hghbin Value="55" />
         <ve_dnlp_hghnum Value="4" />
         <ve_dnlp_lowbin Value="4" />
         <ve_dnlp_lownum Value="4" />
-        <ve_dnlp_bkgend Value="20" />
-        <ve_dnlp_bkgert Value="4" />
+        <ve_dnlp_bkgend Value="0" />
+        <ve_dnlp_bkgert Value="64" />
         <ve_dnlp_blkext Value="4" />
-        <ve_dnlp_whtext Value="8" />
-        <ve_dnlp_bextmx Value="2" />
-        <ve_dnlp_wextmx Value="2" />
+        <ve_dnlp_whtext Value="4" />
+        <ve_dnlp_bextmx Value="4" />
+        <ve_dnlp_wextmx Value="32" />
         <ve_dnlp_smhist_ck Value="0" />
         <ve_dnlp_glb_crate Value="1" />
-        <Reg_hist_en_vs_latch Value="0" />
-        <Dnlp_En value="0" />
-        <Hist_34bin_only value="0" />
-        <Dnlp_bypass value="0" />
-        <Hist_win_En value="0" />
-        <Luma_Hist_Spl_En value="0" />
-        <Spl_sft value="0" />
-        <Reg_filt_mode value="0" />
-        <Hist_in_sel value="0" />
-        <Hist_din_comp_mux value="0" />
-        <Hist_dnlp_low value="0" />
+        <dnlp_pstgma_brghtrate Value="10" />
+        <dnlp_pstgma_brghtrat1 Value="15" />
+        <dnlp_wext_autorat Value="16" />
+        <dnlp_cliprate_min Value="19" />
+        <dnlp_adpcrat_lbnd Value="10" />
+        <dnlp_adpcrat_hbnd Value="20" />
+        <dnlp_adpmtd_lbnd Value="19" />
+        <dnlp_adpmtd_hbnd Value="20" />
+        <dnlp_set_bext Value="0" />
+        <dnlp_set_wext Value="0" />
+        <dnlp_satur_rat Value="30" />
+        <dnlp_satur_max Value="40" />
+        <blk_prct_rng Value="2" />
+        <blk_prct_max Value="16" />
+        <dnlp_lowrange Value="18" />
+        <dnlp_hghrange Value="18" />
+        <dnlp_auto_rng Value="0" />
+        <dnlp_bin0_absmax Value="16" />
+        <dnlp_bin0_sbtmax Value="128" />
+        <dnlp_adpalpha_lrate Value="32" />
+        <dnlp_adpalpha_hrate Value="32" />
         <ve_dnlp_lrate00 Value="64" />
         <ve_dnlp_lrate02 Value="64" />
         <ve_dnlp_lrate04 Value="64" />
@@ -1257,46 +1287,56 @@
         <Hist_adj_level Value="5" />
         <ve_dnlp_adj_level Value="6" />
         <ve_dnlp_mvreflsh Value="5" />
-        <ve_dnlp_gmma_rate Value="158" />
-        <ve_dnlp_lowalpha_new Value="22" />
-        <ve_dnlp_hghalpha_new Value="26" />
+        <ve_dnlp_gmma_rate Value="140" />
+        <ve_dnlp_lowalpha_new Value="36" />
+        <ve_dnlp_hghalpha_new Value="45" />
         <ve_dnlp_sbnbnd Value="0" />
         <ve_dnlp_sendbnd Value="0" />
-        <ve_dnlp_cliprate_new Value="6" />
+        <ve_dnlp_cliprate_new Value="30" />
         <ve_dnlp_clashBgn Value="0" />
         <ve_dnlp_clashEnd Value="15" />
         <ve_mtdbld_rate Value="50" />
-        <ve_blkbld_rate Value="0" />
+        <ve_dnlp_pst_gmarat Value="65" />
         <dnlp_sel Value="1" />
         <ve_dnlp_blk_cctr Value="8" />
         <ve_dnlp_brgt_ctrl Value="48" />
         <ve_dnlp_brgt_range Value="16" />
-        <ve_dnlp_brght_add Value="34" />
+        <ve_dnlp_brght_add Value="33" />
         <ve_dnlp_brght_max Value="0" />
-        <ve_dnlp_almst_wht Value="63" />
+        <ve_dnlp_almst_wht Value="60" />
         <ve_dnlp_hghbin Value="55" />
         <ve_dnlp_hghnum Value="4" />
         <ve_dnlp_lowbin Value="4" />
         <ve_dnlp_lownum Value="4" />
-        <ve_dnlp_bkgend Value="20" />
-        <ve_dnlp_bkgert Value="4" />
-        <ve_dnlp_blkext Value="8" />
-        <ve_dnlp_whtext Value="8" />
-        <ve_dnlp_bextmx Value="2" />
-        <ve_dnlp_wextmx Value="2" />
+        <ve_dnlp_bkgend Value="4" />
+        <ve_dnlp_bkgert Value="64" />
+        <ve_dnlp_blkext Value="4" />
+        <ve_dnlp_whtext Value="4" />
+        <ve_dnlp_bextmx Value="4" />
+        <ve_dnlp_wextmx Value="32" />
         <ve_dnlp_smhist_ck Value="0" />
         <ve_dnlp_glb_crate Value="1" />
-        <Reg_hist_en_vs_latch Value="0" />
-        <Dnlp_En value="0" />
-        <Hist_34bin_only value="0" />
-        <Dnlp_bypass value="0" />
-        <Hist_win_En value="0" />
-        <Luma_Hist_Spl_En value="0" />
-        <Spl_sft value="0" />
-        <Reg_filt_mode value="0" />
-        <Hist_in_sel value="0" />
-        <Hist_din_comp_mux value="0" />
-        <Hist_dnlp_low value="0" />
+        <dnlp_pstgma_brghtrate Value="10" />
+        <dnlp_pstgma_brghtrat1 Value="15" />
+        <dnlp_wext_autorat Value="16" />
+        <dnlp_cliprate_min Value="18" />
+        <dnlp_adpcrat_lbnd Value="10" />
+        <dnlp_adpcrat_hbnd Value="20" />
+        <dnlp_adpmtd_lbnd Value="19" />
+        <dnlp_adpmtd_hbnd Value="20" />
+        <dnlp_set_bext Value="0" />
+        <dnlp_set_wext Value="0" />
+        <dnlp_satur_rat Value="20" />
+        <dnlp_satur_max Value="40" />
+        <blk_prct_rng Value="2" />
+        <blk_prct_max Value="16" />
+        <dnlp_lowrange Value="18" />
+        <dnlp_hghrange Value="18" />
+        <dnlp_auto_rng Value="0" />
+        <dnlp_bin0_absmax Value="16" />
+        <dnlp_bin0_sbtmax Value="128" />
+        <dnlp_adpalpha_lrate Value="32" />
+        <dnlp_adpalpha_hrate Value="32" />
         <ve_dnlp_lrate00 Value="64" />
         <ve_dnlp_lrate02 Value="64" />
         <ve_dnlp_lrate04 Value="64" />
@@ -10669,7 +10709,7 @@
             <RelatedFieldParam Value="TVIN_TFMT0_3D" />
         </RelatedField>
         <Group Level="3">
-            <LevelItem Enable="0" RPreOffset="0" GPreOffset="0" BPreOffset="0" RGain="1024" GGain="1024" BGain="1024" RPostOffset="0" GPostOffset="0" BPostOffset="0" />
+            <LevelItem Enable="1" RPreOffset="0" GPreOffset="0" BPreOffset="0" RGain="1024" GGain="1024" BGain="1024" RPostOffset="0" GPostOffset="0" BPostOffset="0" />
             <LevelItem Enable="1" RPreOffset="0" GPreOffset="0" BPreOffset="0" RGain="1024" GGain="980" BGain="900" RPostOffset="0" GPostOffset="0" BPostOffset="0" />
             <LevelItem Enable="1" RPreOffset="0" GPreOffset="0" BPreOffset="0" RGain="976" GGain="1008" BGain="1072" RPostOffset="0" GPostOffset="0" BPostOffset="0" />
         </Group>
@@ -10774,17 +10814,17 @@
             <RelatedFieldParam Value="TVIN_TFMT0_2D" />
             <RelatedFieldParam Value="TVIN_TFMT0_3D" />
         </RelatedField>
-        <RedCurve Value="0.000000000000,0.003921568859,0.007843137719,0.011764706112,0.015686275437,0.019607843831,0.023529412225,0.027450980619,0.031372550875,0.035294119269,0.039215687662,0.043137256056,0.047058824450,0.050980392843,0.054901961237,0.058823529631,0.062745101750,0.066666670144,0.070588238537,0.074509806931,0.078431375325,0.082352943718,0.086274512112,0.090196080506,0.094117648900,0.098039217293,0.101960785687,0.105882354081,0.109803922474,0.113725490868,0.117647059262,0.121568627656,0.125490203500,0.129411771894,0.133333340287,0.137254908681,0.141176477075,0.145098045468,0.149019613862,0.152941182256,0.156862750649,0.160784319043,0.164705887437,0.168627455831,0.172549024224,0.176470592618,0.180392161012,0.184313729405,0.188235297799,0.192156866193,0.196078434587,0.200000002980,0.203921571374,0.207843139768,0.211764708161,0.215686276555,0.219607844949,0.223529413342,0.227450981736,0.231372550130,0.235294118524,0.239215686917,0.243137255311,0.247058823705,0.250980407000,0.254901975393,0.258823543787,0.262745112181,0.266666680574,0.270588248968,0.274509817362,0.278431385756,0.282352954149,0.286274522543,0.290196090937,0.294117659330,0.298039227724,0.301960796118,0.305882364511,0.309803932905,0.313725501299,0.317647069693,0.321568638086,0.325490206480,0.329411774874,0.333333343267,0.337254911661,0.341176480055,0.345098048449,0.349019616842,0.352941185236,0.356862753630,0.360784322023,0.364705890417,0.368627458811,0.372549027205,0.376470595598,0.380392163992,0.384313732386,0.388235300779,0.392156869173,0.396078437567,0.400000005960,0.403921574354,0.407843142748,0.411764711142,0.415686279535,0.419607847929,0.423529416323,0.427450984716,0.431372553110,0.435294121504,0.439215689898,0.443137258291,0.447058826685,0.450980395079,0.454901963472,0.458823531866,0.462745100260,0.466666668653,0.470588237047,0.474509805441,0.478431373835,0.482352942228,0.486274510622,0.490196079016,0.494117647409,0.498039215803,0.501960813999,0.505882382393,0.509803950787,0.513725519180,0.517647087574,0.521568655968,0.525490224361,0.529411792755,0.533333361149,0.537254929543,0.541176497936,0.545098066330,0.549019634724,0.552941203117,0.556862771511,0.560784339905,0.564705908298,0.568627476692,0.572549045086,0.576470613480,0.580392181873,0.584313750267,0.588235318661,0.592156887054,0.596078455448,0.600000023842,0.603921592236,0.607843160629,0.611764729023,0.615686297417,0.619607865810,0.623529434204,0.627451002598,0.631372570992,0.635294139385,0.639215707779,0.643137276173,0.647058844566,0.650980412960,0.654901981354,0.658823549747,0.662745118141,0.666666686535,0.670588254929,0.674509823322,0.678431391716,0.682352960110,0.686274528503,0.690196096897,0.694117665291,0.698039233685,0.701960802078,0.705882370472,0.709803938866,0.713725507259,0.717647075653,0.721568644047,0.725490212440,0.729411780834,0.733333349228,0.737254917622,0.741176486015,0.745098054409,0.749019622803,0.752941191196,0.756862759590,0.760784327984,0.764705896378,0.768627464771,0.772549033165,0.776470601559,0.780392169952,0.784313738346,0.788235306740,0.792156875134,0.796078443527,0.800000011921,0.803921580315,0.807843148708,0.811764717102,0.815686285496,0.819607853889,0.823529422283,0.827450990677,0.831372559071,0.835294127464,0.839215695858,0.843137264252,0.847058832645,0.850980401039,0.854901969433,0.858823537827,0.862745106220,0.866666674614,0.870588243008,0.874509811401,0.878431379795,0.882352948189,0.886274516582,0.890196084976,0.894117653370,0.898039221764,0.901960790157,0.905882358551,0.909803926945,0.913725495338,0.917647063732,0.921568632126,0.925490200520,0.929411768913,0.933333337307,0.937254905701,0.941176474094,0.945098042488,0.949019610882,0.952941179276,0.956862747669,0.960784316063,0.964705884457,0.968627452850,0.972549021244,0.976470589638,0.980392158031,0.984313726425,0.988235294819,0.992156863213,0.996078431606,1.000000000000," />
-        <GreenCurve Value="0.000000000000,0.003921568859,0.007843137719,0.011764706112,0.015686275437,0.019607843831,0.023529412225,0.027450980619,0.031372550875,0.035294119269,0.039215687662,0.043137256056,0.047058824450,0.050980392843,0.054901961237,0.058823529631,0.062745101750,0.066666670144,0.070588238537,0.074509806931,0.078431375325,0.082352943718,0.086274512112,0.090196080506,0.094117648900,0.098039217293,0.101960785687,0.105882354081,0.109803922474,0.113725490868,0.117647059262,0.121568627656,0.125490203500,0.129411771894,0.133333340287,0.137254908681,0.141176477075,0.145098045468,0.149019613862,0.152941182256,0.156862750649,0.160784319043,0.164705887437,0.168627455831,0.172549024224,0.176470592618,0.180392161012,0.184313729405,0.188235297799,0.192156866193,0.196078434587,0.200000002980,0.203921571374,0.207843139768,0.211764708161,0.215686276555,0.219607844949,0.223529413342,0.227450981736,0.231372550130,0.235294118524,0.239215686917,0.243137255311,0.247058823705,0.250980407000,0.254901975393,0.258823543787,0.262745112181,0.266666680574,0.270588248968,0.274509817362,0.278431385756,0.282352954149,0.286274522543,0.290196090937,0.294117659330,0.298039227724,0.301960796118,0.305882364511,0.309803932905,0.313725501299,0.317647069693,0.321568638086,0.325490206480,0.329411774874,0.333333343267,0.337254911661,0.341176480055,0.345098048449,0.349019616842,0.352941185236,0.356862753630,0.360784322023,0.364705890417,0.368627458811,0.372549027205,0.376470595598,0.380392163992,0.384313732386,0.388235300779,0.392156869173,0.396078437567,0.400000005960,0.403921574354,0.407843142748,0.411764711142,0.415686279535,0.419607847929,0.423529416323,0.427450984716,0.431372553110,0.435294121504,0.439215689898,0.443137258291,0.447058826685,0.450980395079,0.454901963472,0.458823531866,0.462745100260,0.466666668653,0.470588237047,0.474509805441,0.478431373835,0.482352942228,0.486274510622,0.490196079016,0.494117647409,0.498039215803,0.501960813999,0.505882382393,0.509803950787,0.513725519180,0.517647087574,0.521568655968,0.525490224361,0.529411792755,0.533333361149,0.537254929543,0.541176497936,0.545098066330,0.549019634724,0.552941203117,0.556862771511,0.560784339905,0.564705908298,0.568627476692,0.572549045086,0.576470613480,0.580392181873,0.584313750267,0.588235318661,0.592156887054,0.596078455448,0.600000023842,0.603921592236,0.607843160629,0.611764729023,0.615686297417,0.619607865810,0.623529434204,0.627451002598,0.631372570992,0.635294139385,0.639215707779,0.643137276173,0.647058844566,0.650980412960,0.654901981354,0.658823549747,0.662745118141,0.666666686535,0.670588254929,0.674509823322,0.678431391716,0.682352960110,0.686274528503,0.690196096897,0.694117665291,0.698039233685,0.701960802078,0.705882370472,0.709803938866,0.713725507259,0.717647075653,0.721568644047,0.725490212440,0.729411780834,0.733333349228,0.737254917622,0.741176486015,0.745098054409,0.749019622803,0.752941191196,0.756862759590,0.760784327984,0.764705896378,0.768627464771,0.772549033165,0.776470601559,0.780392169952,0.784313738346,0.788235306740,0.792156875134,0.796078443527,0.800000011921,0.803921580315,0.807843148708,0.811764717102,0.815686285496,0.819607853889,0.823529422283,0.827450990677,0.831372559071,0.835294127464,0.839215695858,0.843137264252,0.847058832645,0.850980401039,0.854901969433,0.858823537827,0.862745106220,0.866666674614,0.870588243008,0.874509811401,0.878431379795,0.882352948189,0.886274516582,0.890196084976,0.894117653370,0.898039221764,0.901960790157,0.905882358551,0.909803926945,0.913725495338,0.917647063732,0.921568632126,0.925490200520,0.929411768913,0.933333337307,0.937254905701,0.941176474094,0.945098042488,0.949019610882,0.952941179276,0.956862747669,0.960784316063,0.964705884457,0.968627452850,0.972549021244,0.976470589638,0.980392158031,0.984313726425,0.988235294819,0.992156863213,0.996078431606,1.000000000000," />
-        <BlueCurve Value="0.000000000000,0.003921568859,0.007843137719,0.011764706112,0.015686275437,0.019607843831,0.023529412225,0.027450980619,0.031372550875,0.035294119269,0.039215687662,0.043137256056,0.047058824450,0.050980392843,0.054901961237,0.058823529631,0.062745101750,0.066666670144,0.070588238537,0.074509806931,0.078431375325,0.082352943718,0.086274512112,0.090196080506,0.094117648900,0.098039217293,0.101960785687,0.105882354081,0.109803922474,0.113725490868,0.117647059262,0.121568627656,0.125490203500,0.129411771894,0.133333340287,0.137254908681,0.141176477075,0.145098045468,0.149019613862,0.152941182256,0.156862750649,0.160784319043,0.164705887437,0.168627455831,0.172549024224,0.176470592618,0.180392161012,0.184313729405,0.188235297799,0.192156866193,0.196078434587,0.200000002980,0.203921571374,0.207843139768,0.211764708161,0.215686276555,0.219607844949,0.223529413342,0.227450981736,0.231372550130,0.235294118524,0.239215686917,0.243137255311,0.247058823705,0.250980407000,0.254901975393,0.258823543787,0.262745112181,0.266666680574,0.270588248968,0.274509817362,0.278431385756,0.282352954149,0.286274522543,0.290196090937,0.294117659330,0.298039227724,0.301960796118,0.305882364511,0.309803932905,0.313725501299,0.317647069693,0.321568638086,0.325490206480,0.329411774874,0.333333343267,0.337254911661,0.341176480055,0.345098048449,0.349019616842,0.352941185236,0.356862753630,0.360784322023,0.364705890417,0.368627458811,0.372549027205,0.376470595598,0.380392163992,0.384313732386,0.388235300779,0.392156869173,0.396078437567,0.400000005960,0.403921574354,0.407843142748,0.411764711142,0.415686279535,0.419607847929,0.423529416323,0.427450984716,0.431372553110,0.435294121504,0.439215689898,0.443137258291,0.447058826685,0.450980395079,0.454901963472,0.458823531866,0.462745100260,0.466666668653,0.470588237047,0.474509805441,0.478431373835,0.482352942228,0.486274510622,0.490196079016,0.494117647409,0.498039215803,0.501960813999,0.505882382393,0.509803950787,0.513725519180,0.517647087574,0.521568655968,0.525490224361,0.529411792755,0.533333361149,0.537254929543,0.541176497936,0.545098066330,0.549019634724,0.552941203117,0.556862771511,0.560784339905,0.564705908298,0.568627476692,0.572549045086,0.576470613480,0.580392181873,0.584313750267,0.588235318661,0.592156887054,0.596078455448,0.600000023842,0.603921592236,0.607843160629,0.611764729023,0.615686297417,0.619607865810,0.623529434204,0.627451002598,0.631372570992,0.635294139385,0.639215707779,0.643137276173,0.647058844566,0.650980412960,0.654901981354,0.658823549747,0.662745118141,0.666666686535,0.670588254929,0.674509823322,0.678431391716,0.682352960110,0.686274528503,0.690196096897,0.694117665291,0.698039233685,0.701960802078,0.705882370472,0.709803938866,0.713725507259,0.717647075653,0.721568644047,0.725490212440,0.729411780834,0.733333349228,0.737254917622,0.741176486015,0.745098054409,0.749019622803,0.752941191196,0.756862759590,0.760784327984,0.764705896378,0.768627464771,0.772549033165,0.776470601559,0.780392169952,0.784313738346,0.788235306740,0.792156875134,0.796078443527,0.800000011921,0.803921580315,0.807843148708,0.811764717102,0.815686285496,0.819607853889,0.823529422283,0.827450990677,0.831372559071,0.835294127464,0.839215695858,0.843137264252,0.847058832645,0.850980401039,0.854901969433,0.858823537827,0.862745106220,0.866666674614,0.870588243008,0.874509811401,0.878431379795,0.882352948189,0.886274516582,0.890196084976,0.894117653370,0.898039221764,0.901960790157,0.905882358551,0.909803926945,0.913725495338,0.917647063732,0.921568632126,0.925490200520,0.929411768913,0.933333337307,0.937254905701,0.941176474094,0.945098042488,0.949019610882,0.952941179276,0.956862747669,0.960784316063,0.964705884457,0.968627452850,0.972549021244,0.976470589638,0.980392158031,0.984313726425,0.988235294819,0.992156863213,0.996078431606,1.000000000000," />
-        <RedTable Value="0.000000,4.000000,8.000000,12.000000,16.000000,20.000000,24.000000,28.000000,32.000000,36.000000,40.000000,44.000000,48.000000,52.000000,56.000000,60.000000,64.000000,68.000000,72.000000,76.000000,80.000000,84.000000,88.000000,92.000000,96.000000,100.000000,104.000000,108.000000,112.000000,116.000000,120.000000,124.000000,128.000000,132.000000,136.000000,140.000000,144.000000,148.000000,152.000000,156.000000,160.000000,164.000000,168.000000,172.000000,176.000000,180.000000,184.000000,188.000000,192.000000,196.000000,200.000000,204.000000,208.000000,212.000000,216.000000,220.000000,224.000000,228.000000,232.000000,236.000000,240.000000,244.000000,248.000000,252.000000,256.000000,260.000000,264.000000,268.000000,272.000000,276.000000,280.000000,284.000000,288.000000,292.000000,296.000000,300.000000,304.000000,308.000000,312.000000,316.000000,320.000000,324.000000,328.000000,332.000000,336.000000,340.000000,344.000000,348.000000,352.000000,356.000000,360.000000,364.000000,368.000000,372.000000,376.000000,380.000000,384.000000,388.000000,392.000000,396.000000,400.000000,404.000000,408.000000,412.000000,416.000000,420.000000,424.000000,428.000000,432.000000,436.000000,440.000000,444.000000,448.000000,452.000000,456.000000,460.000000,464.000000,468.000000,472.000000,476.000000,480.000000,484.000000,488.000000,492.000000,496.000000,500.000000,504.000000,508.000000,512.000000,516.000000,520.000000,524.000000,528.000000,532.000000,536.000000,540.000000,544.000000,548.000000,552.000000,556.000000,560.000000,564.000000,568.000000,572.000000,576.000000,580.000000,584.000000,588.000000,592.000000,596.000000,600.000000,604.000000,608.000000,612.000000,616.000000,620.000000,624.000000,628.000000,632.000000,636.000000,640.000000,644.000000,648.000000,652.000000,656.000000,660.000000,664.000000,668.000000,672.000000,676.000000,680.000000,684.000000,688.000000,692.000000,696.000000,700.000000,704.000000,708.000000,712.000000,716.000000,720.000000,724.000000,728.000000,732.000000,736.000000,740.000000,744.000000,748.000000,752.000000,756.000000,760.000000,764.000000,768.000000,772.000000,776.000000,780.000000,784.000000,788.000000,792.000000,796.000000,800.000000,804.000000,808.000000,812.000000,816.000000,820.000000,824.000000,828.000000,832.000000,836.000000,840.000000,844.000000,848.000000,852.000000,856.000000,860.000000,864.000000,868.000000,872.000000,876.000000,880.000000,884.000000,888.000000,892.000000,896.000000,900.000000,904.000000,908.000000,912.000000,916.000000,920.000000,924.000000,928.000000,932.000000,936.000000,940.000000,944.000000,948.000000,952.000000,956.000000,960.000000,964.000000,968.000000,972.000000,976.000000,980.000000,984.000000,988.000000,992.000000,996.000000,1000.000000,1004.000000,1008.000000,1012.000000,1016.000000,1020.000000," />
-        <GreenTable Value="0.000000,4.000000,8.000000,12.000000,16.000000,20.000000,24.000000,28.000000,32.000000,36.000000,40.000000,44.000000,48.000000,52.000000,56.000000,60.000000,64.000000,68.000000,72.000000,76.000000,80.000000,84.000000,88.000000,92.000000,96.000000,100.000000,104.000000,108.000000,112.000000,116.000000,120.000000,124.000000,128.000000,132.000000,136.000000,140.000000,144.000000,148.000000,152.000000,156.000000,160.000000,164.000000,168.000000,172.000000,176.000000,180.000000,184.000000,188.000000,192.000000,196.000000,200.000000,204.000000,208.000000,212.000000,216.000000,220.000000,224.000000,228.000000,232.000000,236.000000,240.000000,244.000000,248.000000,252.000000,256.000000,260.000000,264.000000,268.000000,272.000000,276.000000,280.000000,284.000000,288.000000,292.000000,296.000000,300.000000,304.000000,308.000000,312.000000,316.000000,320.000000,324.000000,328.000000,332.000000,336.000000,340.000000,344.000000,348.000000,352.000000,356.000000,360.000000,364.000000,368.000000,372.000000,376.000000,380.000000,384.000000,388.000000,392.000000,396.000000,400.000000,404.000000,408.000000,412.000000,416.000000,420.000000,424.000000,428.000000,432.000000,436.000000,440.000000,444.000000,448.000000,452.000000,456.000000,460.000000,464.000000,468.000000,472.000000,476.000000,480.000000,484.000000,488.000000,492.000000,496.000000,500.000000,504.000000,508.000000,512.000000,516.000000,520.000000,524.000000,528.000000,532.000000,536.000000,540.000000,544.000000,548.000000,552.000000,556.000000,560.000000,564.000000,568.000000,572.000000,576.000000,580.000000,584.000000,588.000000,592.000000,596.000000,600.000000,604.000000,608.000000,612.000000,616.000000,620.000000,624.000000,628.000000,632.000000,636.000000,640.000000,644.000000,648.000000,652.000000,656.000000,660.000000,664.000000,668.000000,672.000000,676.000000,680.000000,684.000000,688.000000,692.000000,696.000000,700.000000,704.000000,708.000000,712.000000,716.000000,720.000000,724.000000,728.000000,732.000000,736.000000,740.000000,744.000000,748.000000,752.000000,756.000000,760.000000,764.000000,768.000000,772.000000,776.000000,780.000000,784.000000,788.000000,792.000000,796.000000,800.000000,804.000000,808.000000,812.000000,816.000000,820.000000,824.000000,828.000000,832.000000,836.000000,840.000000,844.000000,848.000000,852.000000,856.000000,860.000000,864.000000,868.000000,872.000000,876.000000,880.000000,884.000000,888.000000,892.000000,896.000000,900.000000,904.000000,908.000000,912.000000,916.000000,920.000000,924.000000,928.000000,932.000000,936.000000,940.000000,944.000000,948.000000,952.000000,956.000000,960.000000,964.000000,968.000000,972.000000,976.000000,980.000000,984.000000,988.000000,992.000000,996.000000,1000.000000,1004.000000,1008.000000,1012.000000,1016.000000,1020.000000," />
-        <BlueTable Value="0.000000,4.000000,8.000000,12.000000,16.000000,20.000000,24.000000,28.000000,32.000000,36.000000,40.000000,44.000000,48.000000,52.000000,56.000000,60.000000,64.000000,68.000000,72.000000,76.000000,80.000000,84.000000,88.000000,92.000000,96.000000,100.000000,104.000000,108.000000,112.000000,116.000000,120.000000,124.000000,128.000000,132.000000,136.000000,140.000000,144.000000,148.000000,152.000000,156.000000,160.000000,164.000000,168.000000,172.000000,176.000000,180.000000,184.000000,188.000000,192.000000,196.000000,200.000000,204.000000,208.000000,212.000000,216.000000,220.000000,224.000000,228.000000,232.000000,236.000000,240.000000,244.000000,248.000000,252.000000,256.000000,260.000000,264.000000,268.000000,272.000000,276.000000,280.000000,284.000000,288.000000,292.000000,296.000000,300.000000,304.000000,308.000000,312.000000,316.000000,320.000000,324.000000,328.000000,332.000000,336.000000,340.000000,344.000000,348.000000,352.000000,356.000000,360.000000,364.000000,368.000000,372.000000,376.000000,380.000000,384.000000,388.000000,392.000000,396.000000,400.000000,404.000000,408.000000,412.000000,416.000000,420.000000,424.000000,428.000000,432.000000,436.000000,440.000000,444.000000,448.000000,452.000000,456.000000,460.000000,464.000000,468.000000,472.000000,476.000000,480.000000,484.000000,488.000000,492.000000,496.000000,500.000000,504.000000,508.000000,512.000000,516.000000,520.000000,524.000000,528.000000,532.000000,536.000000,540.000000,544.000000,548.000000,552.000000,556.000000,560.000000,564.000000,568.000000,572.000000,576.000000,580.000000,584.000000,588.000000,592.000000,596.000000,600.000000,604.000000,608.000000,612.000000,616.000000,620.000000,624.000000,628.000000,632.000000,636.000000,640.000000,644.000000,648.000000,652.000000,656.000000,660.000000,664.000000,668.000000,672.000000,676.000000,680.000000,684.000000,688.000000,692.000000,696.000000,700.000000,704.000000,708.000000,712.000000,716.000000,720.000000,724.000000,728.000000,732.000000,736.000000,740.000000,744.000000,748.000000,752.000000,756.000000,760.000000,764.000000,768.000000,772.000000,776.000000,780.000000,784.000000,788.000000,792.000000,796.000000,800.000000,804.000000,808.000000,812.000000,816.000000,820.000000,824.000000,828.000000,832.000000,836.000000,840.000000,844.000000,848.000000,852.000000,856.000000,860.000000,864.000000,868.000000,872.000000,876.000000,880.000000,884.000000,888.000000,892.000000,896.000000,900.000000,904.000000,908.000000,912.000000,916.000000,920.000000,924.000000,928.000000,932.000000,936.000000,940.000000,944.000000,948.000000,952.000000,956.000000,960.000000,964.000000,968.000000,972.000000,976.000000,980.000000,984.000000,988.000000,992.000000,996.000000,1000.000000,1004.000000,1008.000000,1012.000000,1016.000000,1020.000000," />
+        <RedCurve Value="0.000000000000,0.001785118482,0.003754314966,0.005682894960,0.007829389535,0.010296771303,0.013048983179,0.015953097492,0.019001664594,0.021521855146,0.024080703035,0.026680149138,0.029322123155,0.032008558512,0.034741390496,0.037522550672,0.040353968740,0.043367587030,0.046467538923,0.049646411091,0.052896801382,0.056211300194,0.059582497925,0.063002988696,0.066465362906,0.069962546229,0.073488749564,0.077038541436,0.080606468022,0.084187075496,0.087774917483,0.091364547610,0.094950519502,0.098602727056,0.102200962603,0.105759114027,0.109291099012,0.112810842693,0.116332247853,0.119869217277,0.123435683548,0.127095147967,0.130785852671,0.134499236941,0.138226777315,0.141959935427,0.145690158010,0.149408936501,0.153107717633,0.156923845410,0.160759314895,0.164610341191,0.168473139405,0.172343939543,0.176218986511,0.180094480515,0.183966636658,0.187834888697,0.191711515188,0.195611923933,0.199551641941,0.203546091914,0.207610741258,0.211761027575,0.216012433171,0.220416799188,0.224887326360,0.229397580028,0.233921080828,0.238431423903,0.242902129889,0.247306779027,0.251618891954,0.255916923285,0.260076224804,0.264129459858,0.268109411001,0.272048771381,0.275980263948,0.279936671257,0.283950626850,0.288075089455,0.292250394821,0.296466857195,0.300714731216,0.304984390736,0.309266120195,0.313550263643,0.317827105522,0.322086989880,0.326320201159,0.330517083406,0.334667921066,0.338763058186,0.342792779207,0.346747428179,0.350617289543,0.354670315981,0.358688831329,0.362679064274,0.366647243500,0.370599627495,0.374542444944,0.378481894732,0.382424235344,0.386375695467,0.390342503786,0.394330918789,0.398347139359,0.402397394180,0.406487941742,0.410625010729,0.414814800024,0.419061362743,0.423359721899,0.427702724934,0.432083159685,0.436493873596,0.440927684307,0.445377409458,0.449835866690,0.454295903444,0.458750307560,0.463191926479,0.467613607645,0.472008109093,0.476368308067,0.480687022209,0.484957039356,0.488935977221,0.492916464806,0.496898472309,0.500882029533,0.504867017269,0.508853614330,0.512841641903,0.516831159592,0.520822107792,0.524814546108,0.528808414936,0.532803714275,0.536800444126,0.540798604488,0.544798195362,0.548799157143,0.552801489830,0.556805253029,0.560810327530,0.564816832542,0.568824648857,0.572833776474,0.576844274998,0.580856144428,0.584869265556,0.588883757591,0.592899501324,0.596916556358,0.600934922695,0.604954540730,0.608975470066,0.612997591496,0.617021024227,0.621045708656,0.625071644783,0.629098773003,0.633127152920,0.637156784534,0.641187608242,0.645219564438,0.649252831936,0.653287231922,0.657322824001,0.661359608173,0.665397524834,0.669436693192,0.673476994038,0.677518427372,0.681561052799,0.685604751110,0.689649581909,0.693695604801,0.697742700577,0.701790988445,0.705840289593,0.709890782833,0.713942289352,0.717994928360,0.722048699856,0.726103544235,0.730159461498,0.734216451645,0.738274455070,0.742333531380,0.746393680573,0.750454902649,0.754517197609,0.758580505848,0.762644827366,0.766710221767,0.770776569843,0.774843990803,0.778912484646,0.782981932163,0.787052333355,0.791123867035,0.795196294785,0.799269795418,0.803344190121,0.807419598103,0.811496019363,0.815573394299,0.819651782513,0.823731124401,0.827811300755,0.831892609596,0.835974752903,0.840057969093,0.844141960144,0.848227024078,0.852313041687,0.856399893761,0.860487699509,0.864576458931,0.868666172028,0.872756719589,0.876848280430,0.880940675735,0.885033965111,0.889128208160,0.893223345280,0.897319316864,0.901416242123,0.905514061451,0.909612655640,0.913712203503,0.917812645435,0.921913981438,0.926016151905,0.930119156837,0.934223055840,0.938327848911,0.942433476448,0.946539878845,0.950647234917,0.954755425453,0.958864390850,0.962974250317,0.967084884644,0.971196353436,0.975308716297,0.979421854019,0.983535885811,0.987650692463,0.991766273975,0.995882689953,1.000000000000," />
+        <GreenCurve Value="0.000000000000,0.001960784430,0.004901960958,0.006862745155,0.009803921916,0.012745098211,0.015686275437,0.018627451733,0.021568628028,0.024509804323,0.028431372717,0.031372550875,0.035294119269,0.039215687662,0.042156863958,0.046078432351,0.050000000745,0.053921569139,0.057843137532,0.061764705926,0.065686278045,0.069607846439,0.073529414833,0.077450983226,0.081372551620,0.084313727915,0.088235296309,0.092156864703,0.096078433096,0.100000001490,0.103921569884,0.106862746179,0.110784314573,0.114705882967,0.119607843459,0.123529411852,0.127450987697,0.131372556090,0.135294124484,0.139215692878,0.142156869173,0.146078437567,0.150000005960,0.153921574354,0.157843142748,0.161764711142,0.164705887437,0.168627455831,0.172549024224,0.176470592618,0.180392161012,0.184313729405,0.188235297799,0.191176474094,0.195098042488,0.199019610882,0.202941179276,0.206862747669,0.210784316063,0.214705884457,0.218627452850,0.222549021244,0.226470589638,0.229411765933,0.233333334327,0.237254902720,0.241176471114,0.245098039508,0.249019607902,0.252941191196,0.256862759590,0.260784327984,0.264705896378,0.268627464771,0.272549033165,0.276470601559,0.280392169952,0.284313738346,0.288235306740,0.292156875134,0.295098036528,0.299019604921,0.302941173315,0.306862741709,0.310784310102,0.314705878496,0.318627446890,0.322549015284,0.326470583677,0.330392152071,0.334313720465,0.338235288858,0.342156857252,0.346078425646,0.349999994040,0.353921562433,0.357843130827,0.361764699221,0.365686267614,0.369607836008,0.373529404402,0.377450972795,0.381372541189,0.385294109583,0.389215677977,0.393137246370,0.397058814764,0.400980383158,0.404901951551,0.408823519945,0.412745088339,0.416666656733,0.420588225126,0.424509793520,0.429411768913,0.433333337307,0.437254905701,0.441176474094,0.445098042488,0.449019610882,0.452941179276,0.456862747669,0.460784316063,0.464705884457,0.468627452850,0.472549021244,0.476470589638,0.480392158031,0.484313726425,0.488235294819,0.492156863213,0.496078431606,0.500000000000,0.503921568394,0.508823513985,0.512745082378,0.516666650772,0.520588219166,0.524509787560,0.528431355953,0.532352924347,0.536274492741,0.540196061134,0.544117629528,0.548039197922,0.551960766315,0.555882334709,0.560784339905,0.564705908298,0.568627476692,0.572549045086,0.576470613480,0.580392181873,0.584313750267,0.588235318661,0.592156887054,0.596078455448,0.600000023842,0.604901969433,0.608823537827,0.612745106220,0.616666674614,0.620588243008,0.624509811401,0.628431379795,0.632352948189,0.636274516582,0.641176462173,0.645098030567,0.649019598961,0.652941167355,0.656862735748,0.660784304142,0.664705872536,0.668627440929,0.672549009323,0.677450954914,0.681372523308,0.685294091702,0.689215660095,0.693137228489,0.697058796883,0.700980365276,0.704901933670,0.709803938866,0.713725507259,0.717647075653,0.721568644047,0.725490212440,0.729411780834,0.733333349228,0.738235294819,0.742156863213,0.746078431606,0.750000000000,0.753921568394,0.757843136787,0.761764705181,0.766666650772,0.770588219166,0.774509787560,0.778431355953,0.782352924347,0.786274492741,0.790196061134,0.795098066330,0.799019634724,0.802941203117,0.806862771511,0.810784339905,0.814705908298,0.819607853889,0.823529422283,0.827450990677,0.831372559071,0.835294127464,0.839215695858,0.844117641449,0.848039209843,0.851960778236,0.855882346630,0.859803915024,0.863725483418,0.868627429008,0.872548997402,0.876470565796,0.880392134190,0.884313702583,0.888235270977,0.893137276173,0.897058844566,0.900980412960,0.904901981354,0.908823549747,0.912745118141,0.917647063732,0.921568632126,0.925490200520,0.929411768913,0.933333337307,0.938235282898,0.942156851292,0.946078419685,0.949999988079,0.953921556473,0.958823502064,0.962745070457,0.966666638851,0.970588207245,0.974509775639,0.979411780834,0.983333349228,0.987254917622,0.991176486015,0.995098054409,1.000000000000," />
+        <BlueCurve Value="0.000000000000,0.000980392215,0.002941176528,0.004901960958,0.006862745155,0.008823529817,0.011764706112,0.013725490309,0.015686275437,0.018627451733,0.021568628028,0.024509804323,0.027450980619,0.030392156914,0.033333335072,0.036274511367,0.040196079761,0.043137256056,0.046078432351,0.050000000745,0.052941177040,0.056862745434,0.059803921729,0.063725493848,0.066666670144,0.070588238537,0.073529414833,0.076470591128,0.080392159522,0.083333335817,0.087254904211,0.090196080506,0.094117648900,0.098039217293,0.101960785687,0.105882354081,0.109803922474,0.113725490868,0.118627451360,0.122549019754,0.126470595598,0.130392163992,0.133333340287,0.137254908681,0.140196084976,0.144117653370,0.147058829665,0.150980398059,0.154901966453,0.157843142748,0.161764711142,0.164705887437,0.168627455831,0.172549024224,0.176470592618,0.180392161012,0.184313729405,0.188235297799,0.192156866193,0.196078434587,0.200000002980,0.203921571374,0.207843139768,0.210784316063,0.214705884457,0.218627452850,0.222549021244,0.226470589638,0.229411765933,0.233333334327,0.237254902720,0.241176471114,0.244117647409,0.249019607902,0.252941191196,0.256862759590,0.260784327984,0.265686273575,0.269607841969,0.273529410362,0.278431385756,0.282352954149,0.287254899740,0.291176468134,0.295098036528,0.300000011921,0.303921580315,0.307843148708,0.311764717102,0.316666662693,0.320588231087,0.324509799480,0.328431367874,0.333333343267,0.337254911661,0.341176480055,0.345098048449,0.349019616842,0.353921562433,0.357843130827,0.361764699221,0.365686267614,0.369607836008,0.374509811401,0.378431379795,0.382352948189,0.386274516582,0.390196084976,0.395098030567,0.399019598961,0.402941167355,0.407843142748,0.411764711142,0.416666656733,0.420588225126,0.425490200520,0.430392146111,0.435294121504,0.439215689898,0.444117635489,0.449019610882,0.452941179276,0.457843124866,0.461764693260,0.466666668653,0.470588237047,0.475490182638,0.479411751032,0.484313726425,0.488235294819,0.492156863213,0.496078431606,0.500000000000,0.503921568394,0.508823513985,0.512745082378,0.516666650772,0.520588219166,0.524509787560,0.528431355953,0.532352924347,0.536274492741,0.540196061134,0.544117629528,0.548039197922,0.551960766315,0.555882334709,0.560784339905,0.564705908298,0.568627476692,0.572549045086,0.576470613480,0.580392181873,0.584313750267,0.588235318661,0.592156887054,0.596078455448,0.600000023842,0.604901969433,0.608823537827,0.612745106220,0.616666674614,0.620588243008,0.624509811401,0.628431379795,0.632352948189,0.636274516582,0.641176462173,0.645098030567,0.649019598961,0.652941167355,0.656862735748,0.660784304142,0.664705872536,0.668627440929,0.672549009323,0.677450954914,0.681372523308,0.685294091702,0.689215660095,0.693137228489,0.697058796883,0.700980365276,0.704901933670,0.709803938866,0.713725507259,0.717647075653,0.721568644047,0.725490212440,0.729411780834,0.733333349228,0.738235294819,0.742156863213,0.746078431606,0.750000000000,0.753921568394,0.757843136787,0.761764705181,0.766666650772,0.770588219166,0.774509787560,0.778431355953,0.782352924347,0.786274492741,0.790196061134,0.795098066330,0.799019634724,0.802941203117,0.806862771511,0.810784339905,0.814705908298,0.819607853889,0.823529422283,0.827450990677,0.831372559071,0.835294127464,0.839215695858,0.844117641449,0.848039209843,0.851960778236,0.855882346630,0.859803915024,0.863725483418,0.868627429008,0.872548997402,0.876470565796,0.880392134190,0.884313702583,0.888235270977,0.893137276173,0.897058844566,0.900980412960,0.904901981354,0.908823549747,0.912745118141,0.917647063732,0.921568632126,0.925490200520,0.929411768913,0.933333337307,0.938235282898,0.942156851292,0.946078419685,0.949999988079,0.953921556473,0.958823502064,0.962745070457,0.966666638851,0.970588207245,0.974509775639,0.979411780834,0.983333349228,0.987254917622,0.991176486015,0.995098054409,1.000000000000," />
+        <RedTable Value="0.000000,1.000000,3.000000,5.000000,7.000000,10.000000,13.000000,16.000000,19.000000,21.000000,24.000000,27.000000,29.000000,32.000000,35.000000,38.000000,41.000000,44.000000,47.000000,50.000000,53.000000,57.000000,60.000000,64.000000,67.000000,71.000000,74.000000,78.000000,82.000000,85.000000,89.000000,93.000000,96.000000,100.000000,104.000000,107.000000,111.000000,115.000000,118.000000,122.000000,125.000000,129.000000,133.000000,137.000000,140.000000,144.000000,148.000000,152.000000,156.000000,160.000000,163.000000,167.000000,171.000000,175.000000,179.000000,183.000000,187.000000,191.000000,195.000000,199.000000,203.000000,207.000000,211.000000,215.000000,220.000000,224.000000,229.000000,233.000000,238.000000,243.000000,247.000000,252.000000,256.000000,261.000000,265.000000,269.000000,273.000000,277.000000,281.000000,285.000000,289.000000,293.000000,298.000000,302.000000,306.000000,311.000000,315.000000,319.000000,324.000000,328.000000,332.000000,337.000000,341.000000,345.000000,349.000000,353.000000,357.000000,361.000000,365.000000,369.000000,373.000000,378.000000,382.000000,386.000000,390.000000,394.000000,398.000000,402.000000,406.000000,410.000000,414.000000,418.000000,423.000000,427.000000,431.000000,436.000000,440.000000,445.000000,449.000000,454.000000,458.000000,463.000000,467.000000,472.000000,476.000000,481.000000,485.000000,490.000000,494.000000,498.000000,502.000000,506.000000,510.000000,514.000000,519.000000,523.000000,527.000000,531.000000,535.000000,539.000000,543.000000,547.000000,551.000000,555.000000,559.000000,563.000000,567.000000,572.000000,576.000000,580.000000,584.000000,588.000000,592.000000,596.000000,600.000000,604.000000,608.000000,612.000000,617.000000,621.000000,625.000000,629.000000,633.000000,637.000000,641.000000,645.000000,649.000000,654.000000,658.000000,662.000000,666.000000,670.000000,674.000000,678.000000,682.000000,686.000000,691.000000,695.000000,699.000000,703.000000,707.000000,711.000000,715.000000,719.000000,724.000000,728.000000,732.000000,736.000000,740.000000,744.000000,748.000000,753.000000,757.000000,761.000000,765.000000,769.000000,773.000000,777.000000,782.000000,786.000000,790.000000,794.000000,798.000000,802.000000,806.000000,811.000000,815.000000,819.000000,823.000000,827.000000,831.000000,836.000000,840.000000,844.000000,848.000000,852.000000,856.000000,861.000000,865.000000,869.000000,873.000000,877.000000,881.000000,886.000000,890.000000,894.000000,898.000000,902.000000,906.000000,911.000000,915.000000,919.000000,923.000000,927.000000,931.000000,936.000000,940.000000,944.000000,948.000000,952.000000,957.000000,961.000000,965.000000,969.000000,973.000000,978.000000,982.000000,986.000000,990.000000,994.000000,999.000000,1003.000000,1007.000000,1011.000000,1015.000000,1020.000000," />
+        <GreenTable Value="0.000000,2.000000,5.000000,7.000000,10.000000,13.000000,16.000000,19.000000,22.000000,25.000000,29.000000,32.000000,36.000000,40.000000,43.000000,47.000000,51.000000,55.000000,59.000000,63.000000,67.000000,71.000000,75.000000,79.000000,83.000000,86.000000,90.000000,94.000000,98.000000,102.000000,106.000000,109.000000,113.000000,117.000000,122.000000,126.000000,130.000000,134.000000,138.000000,142.000000,145.000000,149.000000,153.000000,157.000000,161.000000,165.000000,168.000000,172.000000,176.000000,180.000000,184.000000,188.000000,192.000000,195.000000,199.000000,203.000000,207.000000,211.000000,215.000000,219.000000,223.000000,227.000000,231.000000,234.000000,238.000000,242.000000,246.000000,250.000000,254.000000,258.000000,262.000000,266.000000,270.000000,274.000000,278.000000,282.000000,286.000000,290.000000,294.000000,298.000000,301.000000,305.000000,309.000000,313.000000,317.000000,321.000000,325.000000,329.000000,333.000000,337.000000,341.000000,345.000000,349.000000,353.000000,357.000000,361.000000,365.000000,369.000000,373.000000,377.000000,381.000000,385.000000,389.000000,393.000000,397.000000,401.000000,405.000000,409.000000,413.000000,417.000000,421.000000,425.000000,429.000000,433.000000,438.000000,442.000000,446.000000,450.000000,454.000000,458.000000,462.000000,466.000000,470.000000,474.000000,478.000000,482.000000,486.000000,490.000000,494.000000,498.000000,502.000000,506.000000,510.000000,514.000000,519.000000,523.000000,527.000000,531.000000,535.000000,539.000000,543.000000,547.000000,551.000000,555.000000,559.000000,563.000000,567.000000,572.000000,576.000000,580.000000,584.000000,588.000000,592.000000,596.000000,600.000000,604.000000,608.000000,612.000000,617.000000,621.000000,625.000000,629.000000,633.000000,637.000000,641.000000,645.000000,649.000000,654.000000,658.000000,662.000000,666.000000,670.000000,674.000000,678.000000,682.000000,686.000000,691.000000,695.000000,699.000000,703.000000,707.000000,711.000000,715.000000,719.000000,724.000000,728.000000,732.000000,736.000000,740.000000,744.000000,748.000000,753.000000,757.000000,761.000000,765.000000,769.000000,773.000000,777.000000,782.000000,786.000000,790.000000,794.000000,798.000000,802.000000,806.000000,811.000000,815.000000,819.000000,823.000000,827.000000,831.000000,836.000000,840.000000,844.000000,848.000000,852.000000,856.000000,861.000000,865.000000,869.000000,873.000000,877.000000,881.000000,886.000000,890.000000,894.000000,898.000000,902.000000,906.000000,911.000000,915.000000,919.000000,923.000000,927.000000,931.000000,936.000000,940.000000,944.000000,948.000000,952.000000,957.000000,961.000000,965.000000,969.000000,973.000000,978.000000,982.000000,986.000000,990.000000,994.000000,999.000000,1003.000000,1007.000000,1011.000000,1015.000000,1020.000000," />
+        <BlueTable Value="0.000000,1.000000,3.000000,5.000000,7.000000,9.000000,12.000000,14.000000,16.000000,19.000000,22.000000,25.000000,28.000000,31.000000,34.000000,37.000000,41.000000,44.000000,47.000000,51.000000,54.000000,58.000000,61.000000,65.000000,68.000000,72.000000,75.000000,78.000000,82.000000,85.000000,89.000000,92.000000,96.000000,100.000000,104.000000,108.000000,112.000000,116.000000,121.000000,125.000000,129.000000,133.000000,136.000000,140.000000,143.000000,147.000000,150.000000,154.000000,158.000000,161.000000,165.000000,168.000000,172.000000,176.000000,180.000000,184.000000,188.000000,192.000000,196.000000,200.000000,204.000000,208.000000,212.000000,215.000000,219.000000,223.000000,227.000000,231.000000,234.000000,238.000000,242.000000,246.000000,249.000000,254.000000,258.000000,262.000000,266.000000,271.000000,275.000000,279.000000,284.000000,288.000000,293.000000,297.000000,301.000000,306.000000,310.000000,314.000000,318.000000,323.000000,327.000000,331.000000,335.000000,340.000000,344.000000,348.000000,352.000000,356.000000,361.000000,365.000000,369.000000,373.000000,377.000000,382.000000,386.000000,390.000000,394.000000,398.000000,403.000000,407.000000,411.000000,416.000000,420.000000,425.000000,429.000000,434.000000,439.000000,444.000000,448.000000,453.000000,458.000000,462.000000,467.000000,471.000000,476.000000,480.000000,485.000000,489.000000,494.000000,498.000000,502.000000,506.000000,510.000000,514.000000,519.000000,523.000000,527.000000,531.000000,535.000000,539.000000,543.000000,547.000000,551.000000,555.000000,559.000000,563.000000,567.000000,572.000000,576.000000,580.000000,584.000000,588.000000,592.000000,596.000000,600.000000,604.000000,608.000000,612.000000,617.000000,621.000000,625.000000,629.000000,633.000000,637.000000,641.000000,645.000000,649.000000,654.000000,658.000000,662.000000,666.000000,670.000000,674.000000,678.000000,682.000000,686.000000,691.000000,695.000000,699.000000,703.000000,707.000000,711.000000,715.000000,719.000000,724.000000,728.000000,732.000000,736.000000,740.000000,744.000000,748.000000,753.000000,757.000000,761.000000,765.000000,769.000000,773.000000,777.000000,782.000000,786.000000,790.000000,794.000000,798.000000,802.000000,806.000000,811.000000,815.000000,819.000000,823.000000,827.000000,831.000000,836.000000,840.000000,844.000000,848.000000,852.000000,856.000000,861.000000,865.000000,869.000000,873.000000,877.000000,881.000000,886.000000,890.000000,894.000000,898.000000,902.000000,906.000000,911.000000,915.000000,919.000000,923.000000,927.000000,931.000000,936.000000,940.000000,944.000000,948.000000,952.000000,957.000000,961.000000,965.000000,969.000000,973.000000,978.000000,982.000000,986.000000,990.000000,994.000000,999.000000,1003.000000,1007.000000,1011.000000,1015.000000,1020.000000," />
         <MeasureDataTable0 Value="0.000000000000,0.000980392215,0.001960784430,0.002941176528,0.003921568859,0.004901960958,0.005882353056,0.006862745155,0.007843137719,0.008823529817,0.009803921916,0.010784314014,0.011764706112,0.012745098211,0.013725490309,0.014705882408,0.015686275437,0.016666667536,0.017647059634,0.018627451733,0.019607843831,0.020588235930,0.021568628028,0.022549020126,0.023529412225,0.024509804323,0.025490196422,0.026470588520,0.027450980619,0.028431372717,0.029411764815,0.030392156914,0.031372550875,0.032352942973,0.033333335072,0.034313727170,0.035294119269,0.036274511367,0.037254903466,0.038235295564,0.039215687662,0.040196079761,0.041176471859,0.042156863958,0.043137256056,0.044117648154,0.045098040253,0.046078432351,0.047058824450,0.048039216548,0.049019608647,0.050000000745,0.050980392843,0.051960784942,0.052941177040,0.053921569139,0.054901961237,0.055882353336,0.056862745434,0.057843137532,0.058823529631,0.059803921729,0.060784313828,0.061764705926,0.062745101750,0.063725493848,0.064705885947,0.065686278045,0.066666670144,0.067647062242,0.068627454340,0.069607846439,0.070588238537,0.071568630636,0.072549022734,0.073529414833,0.074509806931,0.075490199029,0.076470591128,0.077450983226,0.078431375325,0.079411767423,0.080392159522,0.081372551620,0.082352943718,0.083333335817,0.084313727915,0.085294120014,0.086274512112,0.087254904211,0.088235296309,0.089215688407,0.090196080506,0.091176472604,0.092156864703,0.093137256801,0.094117648900,0.095098040998,0.096078433096,0.097058825195,0.098039217293,0.099019609392,0.100000001490,0.100980393589,0.101960785687,0.102941177785,0.103921569884,0.104901961982,0.105882354081,0.106862746179,0.107843138278,0.108823530376,0.109803922474,0.110784314573,0.111764706671,0.112745098770,0.113725490868,0.114705882967,0.115686275065,0.116666667163,0.117647059262,0.118627451360,0.119607843459,0.120588235557,0.121568627656,0.122549019754,0.123529411852,0.124509803951,0.125490203500,0.126470595598,0.127450987697,0.128431379795,0.129411771894,0.130392163992,0.131372556090,0.132352948189,0.133333340287,0.134313732386,0.135294124484,0.136274516582,0.137254908681,0.138235300779,0.139215692878,0.140196084976,0.141176477075,0.142156869173,0.143137261271,0.144117653370,0.145098045468,0.146078437567,0.147058829665,0.148039221764,0.149019613862,0.150000005960,0.150980398059,0.151960790157,0.152941182256,0.153921574354,0.154901966453,0.155882358551,0.156862750649,0.157843142748,0.158823534846,0.159803926945,0.160784319043,0.161764711142,0.162745103240,0.163725495338,0.164705887437,0.165686279535,0.166666671634,0.167647063732,0.168627455831,0.169607847929,0.170588240027,0.171568632126,0.172549024224,0.173529416323,0.174509808421,0.175490200520,0.176470592618,0.177450984716,0.178431376815,0.179411768913,0.180392161012,0.181372553110,0.182352945209,0.183333337307,0.184313729405,0.185294121504,0.186274513602,0.187254905701,0.188235297799,0.189215689898,0.190196081996,0.191176474094,0.192156866193,0.193137258291,0.194117650390,0.195098042488,0.196078434587,0.197058826685,0.198039218783,0.199019610882,0.200000002980,0.200980395079,0.201960787177,0.202941179276,0.203921571374,0.204901963472,0.205882355571,0.206862747669,0.207843139768,0.208823531866,0.209803923965,0.210784316063,0.211764708161,0.212745100260,0.213725492358,0.214705884457,0.215686276555,0.216666668653,0.217647060752,0.218627452850,0.219607844949,0.220588237047,0.221568629146,0.222549021244,0.223529413342,0.224509805441,0.225490197539,0.226470589638,0.227450981736,0.228431373835,0.229411765933,0.230392158031,0.231372550130,0.232352942228,0.233333334327,0.234313726425,0.235294118524,0.236274510622,0.237254902720,0.238235294819,0.239215686917,0.240196079016,0.241176471114,0.242156863213,0.243137255311,0.244117647409,0.245098039508,0.246078431606,0.247058823705,0.248039215803,0.249019607902," />
         <MeasureDataTable1 Value="0.250000000000,0.250980407000,0.251960784197,0.252941191196,0.253921568394,0.254901975393,0.255882352591,0.256862759590,0.257843136787,0.258823543787,0.259803920984,0.260784327984,0.261764705181,0.262745112181,0.263725489378,0.264705896378,0.265686273575,0.266666680574,0.267647057772,0.268627464771,0.269607841969,0.270588248968,0.271568626165,0.272549033165,0.273529410362,0.274509817362,0.275490194559,0.276470601559,0.277450978756,0.278431385756,0.279411762953,0.280392169952,0.281372547150,0.282352954149,0.283333331347,0.284313738346,0.285294115543,0.286274522543,0.287254899740,0.288235306740,0.289215683937,0.290196090937,0.291176468134,0.292156875134,0.293137252331,0.294117659330,0.295098036528,0.296078443527,0.297058820724,0.298039227724,0.299019604921,0.300000011921,0.300980389118,0.301960796118,0.302941173315,0.303921580315,0.304901957512,0.305882364511,0.306862741709,0.307843148708,0.308823525906,0.309803932905,0.310784310102,0.311764717102,0.312745094299,0.313725501299,0.314705878496,0.315686285496,0.316666662693,0.317647069693,0.318627446890,0.319607853889,0.320588231087,0.321568638086,0.322549015284,0.323529422283,0.324509799480,0.325490206480,0.326470583677,0.327450990677,0.328431367874,0.329411774874,0.330392152071,0.331372559071,0.332352936268,0.333333343267,0.334313720465,0.335294127464,0.336274504662,0.337254911661,0.338235288858,0.339215695858,0.340196073055,0.341176480055,0.342156857252,0.343137264252,0.344117641449,0.345098048449,0.346078425646,0.347058832645,0.348039209843,0.349019616842,0.349999994040,0.350980401039,0.351960778236,0.352941185236,0.353921562433,0.354901969433,0.355882346630,0.356862753630,0.357843130827,0.358823537827,0.359803915024,0.360784322023,0.361764699221,0.362745106220,0.363725483418,0.364705890417,0.365686267614,0.366666674614,0.367647051811,0.368627458811,0.369607836008,0.370588243008,0.371568620205,0.372549027205,0.373529404402,0.374509811401,0.375490188599,0.376470595598,0.377450972795,0.378431379795,0.379411756992,0.380392163992,0.381372541189,0.382352948189,0.383333325386,0.384313732386,0.385294109583,0.386274516582,0.387254893780,0.388235300779,0.389215677977,0.390196084976,0.391176462173,0.392156869173,0.393137246370,0.394117653370,0.395098030567,0.396078437567,0.397058814764,0.398039221764,0.399019598961,0.400000005960,0.400980383158,0.401960790157,0.402941167355,0.403921574354,0.404901951551,0.405882358551,0.406862735748,0.407843142748,0.408823519945,0.409803926945,0.410784304142,0.411764711142,0.412745088339,0.413725495338,0.414705872536,0.415686279535,0.416666656733,0.417647063732,0.418627440929,0.419607847929,0.420588225126,0.421568632126,0.422549009323,0.423529416323,0.424509793520,0.425490200520,0.426470577717,0.427450984716,0.428431361914,0.429411768913,0.430392146111,0.431372553110,0.432352930307,0.433333337307,0.434313714504,0.435294121504,0.436274498701,0.437254905701,0.438235282898,0.439215689898,0.440196067095,0.441176474094,0.442156851292,0.443137258291,0.444117635489,0.445098042488,0.446078419685,0.447058826685,0.448039203882,0.449019610882,0.449999988079,0.450980395079,0.451960772276,0.452941179276,0.453921556473,0.454901963472,0.455882340670,0.456862747669,0.457843124866,0.458823531866,0.459803909063,0.460784316063,0.461764693260,0.462745100260,0.463725477457,0.464705884457,0.465686261654,0.466666668653,0.467647045851,0.468627452850,0.469607830048,0.470588237047,0.471568614244,0.472549021244,0.473529398441,0.474509805441,0.475490182638,0.476470589638,0.477450966835,0.478431373835,0.479411751032,0.480392158031,0.481372535229,0.482352942228,0.483333319426,0.484313726425,0.485294103622,0.486274510622,0.487254887819,0.488235294819,0.489215672016,0.490196079016,0.491176456213,0.492156863213,0.493137240410,0.494117647409,0.495098024607,0.496078431606,0.497058808804,0.498039215803,0.499019593000," />
         <MeasureDataTable2 Value="0.500000000000,0.500980377197,0.501960813999,0.502941191196,0.503921568394,0.504901945591,0.505882382393,0.506862759590,0.507843136787,0.508823513985,0.509803950787,0.510784327984,0.511764705181,0.512745082378,0.513725519180,0.514705896378,0.515686273575,0.516666650772,0.517647087574,0.518627464771,0.519607841969,0.520588219166,0.521568655968,0.522549033165,0.523529410362,0.524509787560,0.525490224361,0.526470601559,0.527450978756,0.528431355953,0.529411792755,0.530392169952,0.531372547150,0.532352924347,0.533333361149,0.534313738346,0.535294115543,0.536274492741,0.537254929543,0.538235306740,0.539215683937,0.540196061134,0.541176497936,0.542156875134,0.543137252331,0.544117629528,0.545098066330,0.546078443527,0.547058820724,0.548039197922,0.549019634724,0.550000011921,0.550980389118,0.551960766315,0.552941203117,0.553921580315,0.554901957512,0.555882334709,0.556862771511,0.557843148708,0.558823525906,0.559803903103,0.560784339905,0.561764717102,0.562745094299,0.563725471497,0.564705908298,0.565686285496,0.566666662693,0.567647039890,0.568627476692,0.569607853889,0.570588231087,0.571568608284,0.572549045086,0.573529422283,0.574509799480,0.575490176678,0.576470613480,0.577450990677,0.578431367874,0.579411745071,0.580392181873,0.581372559071,0.582352936268,0.583333313465,0.584313750267,0.585294127464,0.586274504662,0.587254881859,0.588235318661,0.589215695858,0.590196073055,0.591176450253,0.592156887054,0.593137264252,0.594117641449,0.595098018646,0.596078455448,0.597058832645,0.598039209843,0.599019587040,0.600000023842,0.600980401039,0.601960778236,0.602941155434,0.603921592236,0.604901969433,0.605882346630,0.606862723827,0.607843160629,0.608823537827,0.609803915024,0.610784292221,0.611764729023,0.612745106220,0.613725483418,0.614705860615,0.615686297417,0.616666674614,0.617647051811,0.618627429008,0.619607865810,0.620588243008,0.621568620205,0.622548997402,0.623529434204,0.624509811401,0.625490188599,0.626470565796,0.627451002598,0.628431379795,0.629411756992,0.630392134190,0.631372570992,0.632352948189,0.633333325386,0.634313702583,0.635294139385,0.636274516582,0.637254893780,0.638235270977,0.639215707779,0.640196084976,0.641176462173,0.642156839371,0.643137276173,0.644117653370,0.645098030567,0.646078407764,0.647058844566,0.648039221764,0.649019598961,0.649999976158,0.650980412960,0.651960790157,0.652941167355,0.653921544552,0.654901981354,0.655882358551,0.656862735748,0.657843112946,0.658823549747,0.659803926945,0.660784304142,0.661764681339,0.662745118141,0.663725495338,0.664705872536,0.665686249733,0.666666686535,0.667647063732,0.668627440929,0.669607818127,0.670588254929,0.671568632126,0.672549009323,0.673529386520,0.674509823322,0.675490200520,0.676470577717,0.677450954914,0.678431391716,0.679411768913,0.680392146111,0.681372523308,0.682352960110,0.683333337307,0.684313714504,0.685294091702,0.686274528503,0.687254905701,0.688235282898,0.689215660095,0.690196096897,0.691176474094,0.692156851292,0.693137228489,0.694117665291,0.695098042488,0.696078419685,0.697058796883,0.698039233685,0.699019610882,0.699999988079,0.700980365276,0.701960802078,0.702941179276,0.703921556473,0.704901933670,0.705882370472,0.706862747669,0.707843124866,0.708823502064,0.709803938866,0.710784316063,0.711764693260,0.712745070457,0.713725507259,0.714705884457,0.715686261654,0.716666638851,0.717647075653,0.718627452850,0.719607830048,0.720588207245,0.721568644047,0.722549021244,0.723529398441,0.724509775639,0.725490212440,0.726470589638,0.727450966835,0.728431344032,0.729411780834,0.730392158031,0.731372535229,0.732352912426,0.733333349228,0.734313726425,0.735294103622,0.736274480820,0.737254917622,0.738235294819,0.739215672016,0.740196049213,0.741176486015,0.742156863213,0.743137240410,0.744117617607,0.745098054409,0.746078431606,0.747058808804,0.748039186001,0.749019622803," />
         <MeasureDataTable3 Value="0.750000000000,0.750980377197,0.751960813999,0.752941191196,0.753921568394,0.754901945591,0.755882382393,0.756862759590,0.757843136787,0.758823513985,0.759803950787,0.760784327984,0.761764705181,0.762745082378,0.763725519180,0.764705896378,0.765686273575,0.766666650772,0.767647087574,0.768627464771,0.769607841969,0.770588219166,0.771568655968,0.772549033165,0.773529410362,0.774509787560,0.775490224361,0.776470601559,0.777450978756,0.778431355953,0.779411792755,0.780392169952,0.781372547150,0.782352924347,0.783333361149,0.784313738346,0.785294115543,0.786274492741,0.787254929543,0.788235306740,0.789215683937,0.790196061134,0.791176497936,0.792156875134,0.793137252331,0.794117629528,0.795098066330,0.796078443527,0.797058820724,0.798039197922,0.799019634724,0.800000011921,0.800980389118,0.801960766315,0.802941203117,0.803921580315,0.804901957512,0.805882334709,0.806862771511,0.807843148708,0.808823525906,0.809803903103,0.810784339905,0.811764717102,0.812745094299,0.813725471497,0.814705908298,0.815686285496,0.816666662693,0.817647039890,0.818627476692,0.819607853889,0.820588231087,0.821568608284,0.822549045086,0.823529422283,0.824509799480,0.825490176678,0.826470613480,0.827450990677,0.828431367874,0.829411745071,0.830392181873,0.831372559071,0.832352936268,0.833333313465,0.834313750267,0.835294127464,0.836274504662,0.837254881859,0.838235318661,0.839215695858,0.840196073055,0.841176450253,0.842156887054,0.843137264252,0.844117641449,0.845098018646,0.846078455448,0.847058832645,0.848039209843,0.849019587040,0.850000023842,0.850980401039,0.851960778236,0.852941155434,0.853921592236,0.854901969433,0.855882346630,0.856862723827,0.857843160629,0.858823537827,0.859803915024,0.860784292221,0.861764729023,0.862745106220,0.863725483418,0.864705860615,0.865686297417,0.866666674614,0.867647051811,0.868627429008,0.869607865810,0.870588243008,0.871568620205,0.872548997402,0.873529434204,0.874509811401,0.875490188599,0.876470565796,0.877451002598,0.878431379795,0.879411756992,0.880392134190,0.881372570992,0.882352948189,0.883333325386,0.884313702583,0.885294139385,0.886274516582,0.887254893780,0.888235270977,0.889215707779,0.890196084976,0.891176462173,0.892156839371,0.893137276173,0.894117653370,0.895098030567,0.896078407764,0.897058844566,0.898039221764,0.899019598961,0.899999976158,0.900980412960,0.901960790157,0.902941167355,0.903921544552,0.904901981354,0.905882358551,0.906862735748,0.907843112946,0.908823549747,0.909803926945,0.910784304142,0.911764681339,0.912745118141,0.913725495338,0.914705872536,0.915686249733,0.916666686535,0.917647063732,0.918627440929,0.919607818127,0.920588254929,0.921568632126,0.922549009323,0.923529386520,0.924509823322,0.925490200520,0.926470577717,0.927450954914,0.928431391716,0.929411768913,0.930392146111,0.931372523308,0.932352960110,0.933333337307,0.934313714504,0.935294091702,0.936274528503,0.937254905701,0.938235282898,0.939215660095,0.940196096897,0.941176474094,0.942156851292,0.943137228489,0.944117665291,0.945098042488,0.946078419685,0.947058796883,0.948039233685,0.949019610882,0.949999988079,0.950980365276,0.951960802078,0.952941179276,0.953921556473,0.954901933670,0.955882370472,0.956862747669,0.957843124866,0.958823502064,0.959803938866,0.960784316063,0.961764693260,0.962745070457,0.963725507259,0.964705884457,0.965686261654,0.966666638851,0.967647075653,0.968627452850,0.969607830048,0.970588207245,0.971568644047,0.972549021244,0.973529398441,0.974509775639,0.975490212440,0.976470589638,0.977450966835,0.978431344032,0.979411780834,0.980392158031,0.981372535229,0.982352912426,0.983333349228,0.984313726425,0.985294103622,0.986274480820,0.987254917622,0.988235294819,0.989215672016,0.990196049213,0.991176486015,0.992156863213,0.993137240410,0.994117617607,0.995098054409,0.996078431606,0.997058808804,0.998039186001,0.999019622803,1.000000000000," />
-        <RangeParameter TemGrayMaxR="255" TemGrayMaxG="255" TemGrayMaxB="255" m_CoeTop_R="" m_CoeTop_G="" m_CoeTop_B="" m_CoeBottom_R="1.0" m_CoeBottom_G="1.0" m_CoeBottom_B="1" />
+        <RangeParameter TemGrayMaxR="255" TemGrayMaxG="255" TemGrayMaxB="255" m_CoeTop_R="" m_CoeTop_G="" m_CoeTop_B="" m_CoeBottom_R="1.05" m_CoeBottom_G="1.0" m_CoeBottom_B="1" />
     </GAMMA>
     <Sharpness_0_GXBB ObjectName="Sharpness_0_GXBB_4K">
         <Global MaxEditGroupNumber="3" TotalGroupNumber="256" EditGroupIndex0="0" EditGroupIndex1="127" EditGroupIndex2="255">
@@ -34404,47 +34444,57 @@
         <Lowalpha Value="17" />
         <Hist_adj_level Value="5" />
         <ve_dnlp_adj_level Value="6" />
-        <ve_dnlp_mvreflsh Value="6" />
-        <ve_dnlp_gmma_rate Value="99" />
-        <ve_dnlp_lowalpha_new Value="28" />
-        <ve_dnlp_hghalpha_new Value="28" />
+        <ve_dnlp_mvreflsh Value="5" />
+        <ve_dnlp_gmma_rate Value="95" />
+        <ve_dnlp_lowalpha_new Value="45" />
+        <ve_dnlp_hghalpha_new Value="60" />
         <ve_dnlp_sbnbnd Value="4" />
         <ve_dnlp_sendbnd Value="4" />
-        <ve_dnlp_cliprate_new Value="5" />
+        <ve_dnlp_cliprate_new Value="30" />
         <ve_dnlp_clashBgn Value="4" />
         <ve_dnlp_clashEnd Value="10" />
-        <ve_mtdbld_rate Value="40" />
-        <ve_blkbld_rate Value="0" />
+        <ve_mtdbld_rate Value="35" />
+        <ve_dnlp_pst_gmarat Value="64" />
         <dnlp_sel Value="1" />
         <ve_dnlp_blk_cctr Value="8" />
         <ve_dnlp_brgt_ctrl Value="48" />
         <ve_dnlp_brgt_range Value="16" />
-        <ve_dnlp_brght_add Value="36" />
+        <ve_dnlp_brght_add Value="33" />
         <ve_dnlp_brght_max Value="0" />
-        <ve_dnlp_almst_wht Value="59" />
-        <ve_dnlp_hghbin Value="46" />
+        <ve_dnlp_almst_wht Value="60" />
+        <ve_dnlp_hghbin Value="49" />
         <ve_dnlp_hghnum Value="4" />
         <ve_dnlp_lowbin Value="4" />
         <ve_dnlp_lownum Value="4" />
-        <ve_dnlp_bkgend Value="20" />
-        <ve_dnlp_bkgert Value="4" />
-        <ve_dnlp_blkext Value="0" />
-        <ve_dnlp_whtext Value="8" />
-        <ve_dnlp_bextmx Value="0" />
-        <ve_dnlp_wextmx Value="2" />
+        <ve_dnlp_bkgend Value="0" />
+        <ve_dnlp_bkgert Value="64" />
+        <ve_dnlp_blkext Value="1" />
+        <ve_dnlp_whtext Value="1" />
+        <ve_dnlp_bextmx Value="1" />
+        <ve_dnlp_wextmx Value="32" />
         <ve_dnlp_smhist_ck Value="0" />
         <ve_dnlp_glb_crate Value="1" />
-        <Reg_hist_en_vs_latch Value="0" />
-        <Dnlp_En value="0" />
-        <Hist_34bin_only value="0" />
-        <Dnlp_bypass value="0" />
-        <Hist_win_En value="0" />
-        <Luma_Hist_Spl_En value="0" />
-        <Spl_sft value="0" />
-        <Reg_filt_mode value="0" />
-        <Hist_in_sel value="0" />
-        <Hist_din_comp_mux value="0" />
-        <Hist_dnlp_low value="0" />
+        <dnlp_pstgma_brghtrate Value="0" />
+        <dnlp_pstgma_brghtrat1 Value="0" />
+        <dnlp_wext_autorat Value="16" />
+        <dnlp_cliprate_min Value="16" />
+        <dnlp_adpcrat_lbnd Value="10" />
+        <dnlp_adpcrat_hbnd Value="20" />
+        <dnlp_adpmtd_lbnd Value="19" />
+        <dnlp_adpmtd_hbnd Value="20" />
+        <dnlp_set_bext Value="0" />
+        <dnlp_set_wext Value="0" />
+        <dnlp_satur_rat Value="30" />
+        <dnlp_satur_max Value="40" />
+        <blk_prct_rng Value="2" />
+        <blk_prct_max Value="16" />
+        <dnlp_lowrange Value="18" />
+        <dnlp_hghrange Value="18" />
+        <dnlp_auto_rng Value="0" />
+        <dnlp_bin0_absmax Value="16" />
+        <dnlp_bin0_sbtmax Value="128" />
+        <dnlp_adpalpha_lrate Value="32" />
+        <dnlp_adpalpha_hrate Value="32" />
         <ve_dnlp_lrate00 Value="64" />
         <ve_dnlp_lrate02 Value="64" />
         <ve_dnlp_lrate04 Value="64" />
diff --git a/p311/fstab.amlogic b/p311/fstab.amlogic
index c5ac8d5..29ffa81 100644
--- a/p311/fstab.amlogic
+++ b/p311/fstab.amlogic
@@ -13,3 +13,4 @@
 /devices/*dwc3/xhci-hcd.0.auto/usb?/*/host*/target*/block/sr*  auto             vfat      defaults                       voldmanaged=sr0:auto
 /dev/block/loop     auto                loop      defaults                                  voldmanaged=loop:auto
 /dev/block/param    /param              ext4      noatime,nosuid,nodev,nomblk_io_submit,errors=remount-ro    wait,check
+/dev/block/tee       /tee                 ext4      noatime,nosuid,nodev,nodelalloc,nomblk_io_submit,errors=panic    wait,check
diff --git a/p311/fstab.verity.amlogic b/p311/fstab.verity.amlogic
index c1e5cbe..82ba70d 100644
--- a/p311/fstab.verity.amlogic
+++ b/p311/fstab.verity.amlogic
@@ -10,3 +10,4 @@
 /devices/lm?/usb?/*/host*/target*/block/sd*  auto             vfat      defaults                       voldmanaged=udisk0:auto
 /devices/lm?/usb?/*/host*/target*/block/sd*  auto             vfat      defaults                       voldmanaged=udisk1:auto
 /dev/block/loop     auto                loop      defaults                                  voldmanaged=loop:auto
+/dev/block/tee       /tee                 ext4      noatime,nosuid,nodev,nodelalloc,nomblk_io_submit,errors=panic    wait,check
diff --git a/p311/init.amlogic.board.rc b/p311/init.amlogic.board.rc
index 1cb3398..aec149d 100644
--- a/p311/init.amlogic.board.rc
+++ b/p311/init.amlogic.board.rc
@@ -7,12 +7,16 @@ on early-init
     mount configfs configfs /sys/kernel/config
     #mount usbfs none /proc/bus/usb
 
+    insmod /boot/optee.ko
+    insmod /boot/optee_armtz.ko
+
     insmod /boot/instaboot.ko
     insmod /boot/r840_fe.ko
 
 on init
 
 on post-fs-data
+    mkdir  /data/tee
     insmod /system/lib/mali.ko
 
 on boot
@@ -37,6 +41,8 @@ on boot
     # chmod 0666 /dev/ge2d
     chmod 666 /dev/cec
     chmod 666 /dev/dvb0.frontend0
+    chmod 0666 /dev/opteearmtz00
+    chmod 0666 /dev/tee0
 
 on fs
     write /proc/irq/115/smp_affinity   8
@@ -71,3 +77,9 @@ service p2p_supplicant /system/bin/wpa_supplicant \
     socket wpa_wlan0 dgram 660 wifi wifi
     disabled
     oneshot
+
+service tee_supplicant /system/bin/tee-supplicant
+	class main
+	oneshot
+	seclabel u:r:tee:s0
+
diff --git a/p311/overlay/frameworks/base/core/res/res/values/config.xml b/p311/overlay/frameworks/base/core/res/res/values/config.xml
index 3c0bb0c..74ecfe8 100644
--- a/p311/overlay/frameworks/base/core/res/res/values/config.xml
+++ b/p311/overlay/frameworks/base/core/res/res/values/config.xml
@@ -94,4 +94,6 @@
         <item>com.android.location.fused</item>
     </string-array>
     <integer name="config_longPressOnPowerBehavior">3</integer>
+    <!--  Maximum number of supported users -->
+    <integer name="config_multiuserMaximumUsers">2</integer>
 </resources>
diff --git a/p311/p311.mk b/p311/p311.mk
index 3d7040a..15434a8 100644
--- a/p311/p311.mk
+++ b/p311/p311.mk
@@ -60,7 +60,29 @@ PRODUCT_AML_SECUREBOOT_SIGNBOOTLOADER := $(PRODUCT_AML_SECUREBOOT_SIGNTOOL) --bo
 PRODUCT_AML_SECUREBOOT_SIGNIMAGE := $(PRODUCT_AML_SECUREBOOT_SIGNTOOL) --imgsig \
 					--amluserkey $(PRODUCT_AML_SECUREBOOT_USERKEY)
 
+########################################################################
+#
+#                           ATV
+#
+########################################################################
+ifeq ($(BOARD_COMPILE_ATV),true)
+BOARD_COMPILE_CTS := true
+TARGET_BUILD_GOOGLE_ATV:= true
+endif
+########################################################################
 
+########################################################################
+#
+#                           CTS
+#
+########################################################################
+ifeq ($(BOARD_COMPILE_CTS),true)
+BOARD_WIDEVINE_OEMCRYPTO_LEVEL := 1
+BOARD_PLAYREADY_LEVEL := 1
+TARGET_BUILD_CTS:= true
+TARGET_BUILD_NETFLIX:= true
+endif
+########################################################################
 
 #########################################################################
 #
@@ -197,8 +219,9 @@ PRODUCT_LOCALES := en_US en_AU en_IN fr_FR it_IT es_ES et_EE de_DE nl_NL cs_CZ p
 #                                                PPPOE
 #
 #################################################################################
-
+ifneq ($(TARGET_BUILD_GOOGLE_ATV), true)
 BUILD_WITH_PPPOE := true
+endif
 
 ifeq ($(BUILD_WITH_PPPOE),true)
 PRODUCT_PACKAGES += \
@@ -213,7 +236,6 @@ PRODUCT_PACKAGES += \
 PRODUCT_PROPERTY_OVERRIDES += \
     ro.platform.has.pppoe=true
 endif
-
 #################################################################################
 #
 #                                                DEFAULT LOWMEMORYKILLER CONFIG
@@ -226,8 +248,13 @@ BOARD_USES_USB_PM := true
 #PRODUCT_COPY_FILES += \
 #    $(LOCAL_PATH)/Third_party_apk_camera.xml:system/etc/Third_party_apk_camera.xml \
 
-TARGET_BUILD_CTS:= false
-TARGET_BUILD_GOOGLE_ATV:= false
+ifeq ($(TARGET_BUILD_GOOGLE_ATV),true)
+PRODUCT_PROPERTY_OVERRIDES += \
+    ro.sf.lcd_density=320
+else
+PRODUCT_PROPERTY_OVERRIDES += \
+    ro.sf.lcd_density=240
+endif
 #########################################################################
 #
 #                                                Instaboot
@@ -250,3 +277,5 @@ PRODUCT_COPY_FILES += \
   $(LOCAL_PATH)/instaboot_config.xml:system/etc/instaboot_config.xml
 endif
 endif
+
+PRODUCT_PACKAGES += fbc
diff --git a/p311/system.prop b/p311/system.prop
index 5d4b944..22670b3 100644
--- a/p311/system.prop
+++ b/p311/system.prop
@@ -11,8 +11,6 @@ ro.camera.preview.UseMJPEG=1
 #if wifi Only
 ro.radio.noril=false
 
-ro.sf.lcd_density=240
-
 #if need pppoe
 ro.net.pppoe=true
 
@@ -41,7 +39,6 @@ media.amplayer.enable=true
 media.amsuperplayer.m4aplayer=STAGEFRIGHT_PLAYER
 media.amsuperplayer.defplayer=PV_PLAYER
 media.amplayer.thumbnail=true
-media.amplayer.widevineenable=false
 media.amplayer.dsource4local=1
 media.amplayer.startmode=true
 media.arm.audio.decoder=ape,flac,dts,ac3,eac3,wma,wmapro,mp3,aac,vorbis,raac,cook,amr,pcm,adpcm,aac_latm,rm
diff --git a/q200/device.mk b/q200/device.mk
index f6bf39b..2309bba 100644
--- a/q200/device.mk
+++ b/q200/device.mk
@@ -29,6 +29,10 @@ PRODUCT_COPY_FILES += \
     device/amlogic/q200/files/mesondisplay.cfg:system/etc/mesondisplay.cfg \
     frameworks/native/data/etc/android.hardware.hdmi.cec.xml:system/etc/permissions/android.hardware.hdmi.cec.xml
 
+ifeq ($(USE_MEDIACODEC_SECURE), true)
+PRODUCT_COPY_FILES += device/amlogic/p212/files/media_codecs_secure.xml:system/etc/media_codecs_secure.xml
+endif
+
 # remote IME config file
 PRODUCT_COPY_FILES += \
     device/amlogic/q200/files/remote.conf:system/etc/remote.conf \
diff --git a/q200/files/media_codecs.xml b/q200/files/media_codecs.xml
index b720f93..9a5d803 100644
--- a/q200/files/media_codecs.xml
+++ b/q200/files/media_codecs.xml
@@ -86,17 +86,6 @@ Only the three quirks included above are recognized at this point:
             <Feature name="adaptive-playback" />
             <Limit name="concurrent-instances" max="1" />
         </MediaCodec>
-        <MediaCodec name="OMX.amlogic.hevc.decoder.awesome.secure" type="video/hevc" >
-            <Limit name="size" min="64x64" max="3840x2160" />
-            <Limit name="alignment" value="2x2" />
-            <Limit name="block-size" value="16x16" />
-            <Limit name="blocks-per-second" min="1" max="972000" />
-            <Limit name="bitrate" range="1-300000000" />
-            <Feature name="adaptive-playback" />
-            <Feature name="secure-playback" required="true" />
-            <Feature name="tunneled-playback" />
-	    <Limit name="concurrent-instances" max="1" />
-        </MediaCodec>
         <MediaCodec name="OMX.amlogic.avc.decoder.awesome" type="video/avc" >
             <Limit name="size" min="64x64" max="3840x2160" />
             <Limit name="alignment" value="2x2" />
@@ -106,16 +95,6 @@ Only the three quirks included above are recognized at this point:
             <Feature name="adaptive-playback" />
             <Limit name="concurrent-instances" max="1" />
         </MediaCodec>
-        <MediaCodec name="OMX.amlogic.avc.decoder.awesome.secure" type="video/avc" >
-            <Limit name="size" min="64x64" max="3840x2160" />
-            <Limit name="alignment" value="2x2" />
-            <Limit name="block-size" value="16x16" />
-            <Limit name="blocks-per-second" min="1" max="972000" />
-            <Limit name="bitrate" range="1-300000000" />
-            <Feature name="adaptive-playback" />
-            <Feature name="secure-playback" required="true" />
-	    <Limit name="concurrent-instances" max="1" />
-        </MediaCodec>
         <MediaCodec name="OMX.amlogic.mpeg4.decoder.awesome" type="video/mp4v-es" >
             <Limit name="size" min="64x64" max="1920x1088" />
             <Limit name="alignment" value="2x2" />
diff --git a/q200/files/media_codecs_secure.xml b/q200/files/media_codecs_secure.xml
new file mode 100644
index 0000000..a1802de
--- /dev/null
+++ b/q200/files/media_codecs_secure.xml
@@ -0,0 +1,54 @@
+<?xml version="1.0" encoding="utf-8" ?>
+<!-- Copyright (C) 2012 The Android Open Source Project
+
+     Licensed under the Apache License, Version 2.0 (the "License");
+     you may not use this file except in compliance with the License.
+     You may obtain a copy of the License at
+
+          http://www.apache.org/licenses/LICENSE-2.0
+
+     Unless required by applicable law or agreed to in writing, software
+     distributed under the License is distributed on an "AS IS" BASIS,
+     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+     See the License for the specific language governing permissions and
+     limitations under the License.
+-->
+
+
+
+<MediaCodecs>
+    <Decoders>
+        <MediaCodec name="OMX.amlogic.hevc.decoder.awesome.secure" type="video/hevc" >
+            <Limit name="size" min="64x64" max="3840x2160" />
+            <Limit name="alignment" value="2x2" />
+            <Limit name="block-size" value="16x16" />
+            <Limit name="blocks-per-second" min="1" max="972000" />
+            <Limit name="bitrate" range="1-300000000" />
+            <Feature name="adaptive-playback" />
+            <Feature name="secure-playback" required="true" />
+            <Feature name="tunneled-playback" />
+	    <Limit name="concurrent-instances" max="1" />
+        </MediaCodec>
+        <MediaCodec name="OMX.amlogic.avc.decoder.awesome.secure" type="video/avc" >
+            <Limit name="size" min="64x64" max="3840x2160" />
+            <Limit name="alignment" value="2x2" />
+            <Limit name="block-size" value="16x16" />
+            <Limit name="blocks-per-second" min="1" max="972000" />
+            <Limit name="bitrate" range="1-300000000" />
+            <Feature name="adaptive-playback" />
+            <Feature name="secure-playback" required="true" />
+	    <Limit name="concurrent-instances" max="1" />
+        </MediaCodec>
+        <MediaCodec name="OMX.amlogic.vp9.decoder.awesome.secure" type="video/x-vnd.on2.vp9" >
+            <Limit name="size" min="64x64" max="3840x2160" />
+            <Limit name="alignment" value="2x2" />
+            <Limit name="block-size" value="16x16" />
+            <Limit name="blocks-per-second" min="1" max="972000" />
+            <Limit name="bitrate" range="1-300000000" />
+            <Feature name="adaptive-playback" />
+            <Feature name="secure-playback" required="true" />
+            <Feature name="tunneled-playback" />
+           <Limit name="concurrent-instances" max="1" />
+        </MediaCodec>
+    </Decoders>
+</MediaCodecs>
diff --git a/q200/fstab.amlogic b/q200/fstab.amlogic
index 751e0c6..80195ed 100644
--- a/q200/fstab.amlogic
+++ b/q200/fstab.amlogic
@@ -13,3 +13,4 @@
 /dev/block/loop     auto                loop      defaults                                  voldmanaged=loop:auto
 # Add for zram. zramsize can be in numeric (byte) , in percent or auto (detect by the system)
 /dev/block/zram0     /swap_zram0             swap      defaults                             wait,zramsize=auto
+/dev/block/tee       /tee                 ext4      noatime,nosuid,nodev,nodelalloc,nomblk_io_submit,errors=panic    wait,check
diff --git a/q200/fstab.verity.amlogic b/q200/fstab.verity.amlogic
index bc91cb9..91d8866 100644
--- a/q200/fstab.verity.amlogic
+++ b/q200/fstab.verity.amlogic
@@ -12,3 +12,4 @@
 /dev/block/loop     auto                loop      defaults                                  voldmanaged=loop:auto
 # Add for zram. zramsize can be in numeric (byte) , in percent or auto (detect by the system)
 /dev/block/zram0     /swap_zram0             swap      defaults                             wait,zramsize=auto
+/dev/block/tee       /tee                 ext4      noatime,nosuid,nodev,nodelalloc,nomblk_io_submit,errors=panic    wait,check
diff --git a/q200/init.amlogic.board.rc b/q200/init.amlogic.board.rc
index 5dd0edd..3d58be6 100644
--- a/q200/init.amlogic.board.rc
+++ b/q200/init.amlogic.board.rc
@@ -38,9 +38,12 @@ on boot
     # chmod 0666 /dev/ge2d
     chmod 666 /dev/cec
     chmod 0666 /dev/opteearmtz00
-    mkdir  /data/tee
+    chmod 0666 /dev/tee0
+    mount debugfs debugfs /sys/kernel/debug mode=755
 
 on fs
+on post-fs-data
+   mkdir  /data/tee
 
 service wpa_supplicant /system/bin/wpa_supplicant \
     -iwlan0 -Dnl80211 -c/data/misc/wifi/wpa_supplicant.conf \
@@ -75,5 +78,5 @@ service p2p_supplicant /system/bin/wpa_supplicant \
 service tee_supplicant /system/bin/tee-supplicant
 		class main
 		oneshot
-		seclabel u:r:tee_supplicant:s0
+		seclabel u:r:tee:s0
 
diff --git a/q200/overlay/frameworks/base/core/res/res/values/config.xml b/q200/overlay/frameworks/base/core/res/res/values/config.xml
index 8461bfe..12be370 100644
--- a/q200/overlay/frameworks/base/core/res/res/values/config.xml
+++ b/q200/overlay/frameworks/base/core/res/res/values/config.xml
@@ -90,4 +90,6 @@
         <item>com.google.android.gms</item>
         <item>com.android.location.fused</item>
     </string-array>
+    <!--  Maximum number of supported users -->
+    <integer name="config_multiuserMaximumUsers">2</integer>
 </resources>
diff --git a/q200/q200.mk b/q200/q200.mk
index 4258120..e96e154 100644
--- a/q200/q200.mk
+++ b/q200/q200.mk
@@ -61,7 +61,29 @@ PRODUCT_AML_SECUREBOOT_SIGNBOOTLOADER := $(PRODUCT_AML_SECUREBOOT_SIGNTOOL) --bo
 PRODUCT_AML_SECUREBOOT_SIGNIMAGE := $(PRODUCT_AML_SECUREBOOT_SIGNTOOL) --imgsig \
 					--amluserkey $(PRODUCT_AML_SECUREBOOT_USERKEY)
 
+########################################################################
+#
+#                           ATV
+#
+########################################################################
+ifeq ($(BOARD_COMPILE_ATV),true)
+BOARD_COMPILE_CTS := true
+TARGET_BUILD_GOOGLE_ATV:= true
+endif
+########################################################################
 
+########################################################################
+#
+#                           CTS
+#
+########################################################################
+ifeq ($(BOARD_COMPILE_CTS),true)
+BOARD_WIDEVINE_OEMCRYPTO_LEVEL := 1
+BOARD_PLAYREADY_LEVEL := 1
+TARGET_BUILD_CTS:= true
+TARGET_BUILD_NETFLIX:= true
+endif
+########################################################################
 
 #########################################################################
 #
@@ -143,8 +165,10 @@ include device/amlogic/common/audio.mk
 #
 #########################################################################
 
+ifneq ($(TARGET_BUILD_CTS), true)
 PRODUCT_COPY_FILES += \
     frameworks/native/data/etc/android.hardware.camera.front.xml:system/etc/permissions/android.hardware.camera.front.xml
+endif
 
 
 
@@ -196,8 +220,9 @@ PRODUCT_LOCALES := en_US en_AU en_IN fr_FR it_IT es_ES et_EE de_DE nl_NL cs_CZ p
 #                                                PPPOE
 #
 #################################################################################
-
+ifneq ($(TARGET_BUILD_GOOGLE_ATV), true)
 BUILD_WITH_PPPOE := true
+endif
 
 ifeq ($(BUILD_WITH_PPPOE),true)
 PRODUCT_PACKAGES += \
@@ -212,7 +237,6 @@ PRODUCT_PACKAGES += \
 PRODUCT_PROPERTY_OVERRIDES += \
     ro.platform.has.pppoe=true
 endif
-
 #################################################################################
 #
 #                                                DEFAULT LOWMEMORYKILLER CONFIG
@@ -225,9 +249,6 @@ BOARD_USES_USB_PM := true
 PRODUCT_COPY_FILES += \
     $(LOCAL_PATH)/Third_party_apk_camera.xml:system/etc/Third_party_apk_camera.xml \
 
-TARGET_BUILD_CTS:= false
-TARGET_BUILD_GOOGLE_ATV:= false
-TARGET_BUILD_NETFLIX:= false
 include device/amlogic/common/software.mk
 ifeq ($(TARGET_BUILD_GOOGLE_ATV),true)
 PRODUCT_PROPERTY_OVERRIDES += \
@@ -235,4 +256,4 @@ PRODUCT_PROPERTY_OVERRIDES += \
 else
 PRODUCT_PROPERTY_OVERRIDES += \
     ro.sf.lcd_density=240
-endif
\ No newline at end of file
+endif
diff --git a/q200/system.prop b/q200/system.prop
index b8d1777..2a2d02c 100644
--- a/q200/system.prop
+++ b/q200/system.prop
@@ -8,8 +8,9 @@ ro.camera.preview.LimitedRate=1280x720x30,640x480x30,320x240x28
 ro.camera.preview.UseMJPEG=1
 
 #for bt auto connect
-ro.autoconnectbt.macprefix=DC:2C:26
-ro.autoconnectbt.btclass=2540
+ro.autoconnectbt.isneed=true
+ro.autoconnectbt.macprefix=00:CD:FF
+ro.autoconnectbt.btclass=50c
 
 #if wifi Only
 ro.radio.noril=false
@@ -42,9 +43,7 @@ media.amplayer.enable=true
 media.amsuperplayer.m4aplayer=STAGEFRIGHT_PLAYER
 media.amsuperplayer.defplayer=PV_PLAYER
 media.amplayer.thumbnail=true
-media.amplayer.widevineenable=false
 media.amplayer.dsource4local=1
-media.amplayer.startmode=true
 media.amplayer.dropwaitxms=100
 
 media.arm.audio.decoder=ape,flac,dts,ac3,eac3,wma,wmapro,mp3,aac,vorbis,raac,cook,amr,pcm,adpcm,aac_latm,rm
@@ -81,7 +80,7 @@ persist.fw.force_adoptable=true
 
 #add livhls,libcurl as default hls
 media.libplayer.curlenable=true
-media.libplayer.modules=vhls_mod,dash_mod,curl_mod,prhls_mod,vm_mod
+media.libplayer.modules=vhls_mod,dash_mod,curl_mod,prhls_mod,vm_mod,bluray_mod
 
 
 #Hdmi In
diff --git a/q201/BoardConfig.mk b/q201/BoardConfig.mk
index cd7d788..a7d4adc 100644
--- a/q201/BoardConfig.mk
+++ b/q201/BoardConfig.mk
@@ -53,7 +53,7 @@ NUM_FRAMEBUFFER_SURFACE_BUFFERS := 3
 # Camera
 USE_CAMERA_STUB := false
 BOARD_HAVE_FRONT_CAM := false
-BOARD_HAVE_BACK_CAM := false
+BOARD_HAVE_BACK_CAM := true
 BOARD_USE_USB_CAMERA := true
 IS_CAM_NONBLOCK := true
 BOARD_HAVE_FLASHLIGHT := false
diff --git a/q201/Kernel.mk b/q201/Kernel.mk
index 87f3905..738caf2 100644
--- a/q201/Kernel.mk
+++ b/q201/Kernel.mk
@@ -2,7 +2,7 @@
 -include device/amlogic/common/gpu.mk
 
 USE_PREBUILT_KERNEL := false
-WIFI_MODULE := AP6335
+WIFI_MODULE := multiwifi
 
 INSTALLED_KERNEL_TARGET := $(PRODUCT_OUT)/kernel
 
diff --git a/q201/device.mk b/q201/device.mk
index a5b86d4..e3d3a01 100644
--- a/q201/device.mk
+++ b/q201/device.mk
@@ -29,6 +29,10 @@ PRODUCT_COPY_FILES += \
     device/amlogic/q201/files/mesondisplay.cfg:system/etc/mesondisplay.cfg \
     frameworks/native/data/etc/android.hardware.hdmi.cec.xml:system/etc/permissions/android.hardware.hdmi.cec.xml
 
+ifeq ($(USE_MEDIACODEC_SECURE), true)
+PRODUCT_COPY_FILES += device/amlogic/p212/files/media_codecs_secure.xml:system/etc/media_codecs_secure.xml
+endif
+
 # remote IME config file
 PRODUCT_COPY_FILES += \
     device/amlogic/q201/files/remote.conf:system/etc/remote.conf \
diff --git a/q201/files/media_codecs.xml b/q201/files/media_codecs.xml
index b720f93..9a5d803 100644
--- a/q201/files/media_codecs.xml
+++ b/q201/files/media_codecs.xml
@@ -86,17 +86,6 @@ Only the three quirks included above are recognized at this point:
             <Feature name="adaptive-playback" />
             <Limit name="concurrent-instances" max="1" />
         </MediaCodec>
-        <MediaCodec name="OMX.amlogic.hevc.decoder.awesome.secure" type="video/hevc" >
-            <Limit name="size" min="64x64" max="3840x2160" />
-            <Limit name="alignment" value="2x2" />
-            <Limit name="block-size" value="16x16" />
-            <Limit name="blocks-per-second" min="1" max="972000" />
-            <Limit name="bitrate" range="1-300000000" />
-            <Feature name="adaptive-playback" />
-            <Feature name="secure-playback" required="true" />
-            <Feature name="tunneled-playback" />
-	    <Limit name="concurrent-instances" max="1" />
-        </MediaCodec>
         <MediaCodec name="OMX.amlogic.avc.decoder.awesome" type="video/avc" >
             <Limit name="size" min="64x64" max="3840x2160" />
             <Limit name="alignment" value="2x2" />
@@ -106,16 +95,6 @@ Only the three quirks included above are recognized at this point:
             <Feature name="adaptive-playback" />
             <Limit name="concurrent-instances" max="1" />
         </MediaCodec>
-        <MediaCodec name="OMX.amlogic.avc.decoder.awesome.secure" type="video/avc" >
-            <Limit name="size" min="64x64" max="3840x2160" />
-            <Limit name="alignment" value="2x2" />
-            <Limit name="block-size" value="16x16" />
-            <Limit name="blocks-per-second" min="1" max="972000" />
-            <Limit name="bitrate" range="1-300000000" />
-            <Feature name="adaptive-playback" />
-            <Feature name="secure-playback" required="true" />
-	    <Limit name="concurrent-instances" max="1" />
-        </MediaCodec>
         <MediaCodec name="OMX.amlogic.mpeg4.decoder.awesome" type="video/mp4v-es" >
             <Limit name="size" min="64x64" max="1920x1088" />
             <Limit name="alignment" value="2x2" />
diff --git a/q201/files/media_codecs_secure.xml b/q201/files/media_codecs_secure.xml
new file mode 100644
index 0000000..a1802de
--- /dev/null
+++ b/q201/files/media_codecs_secure.xml
@@ -0,0 +1,54 @@
+<?xml version="1.0" encoding="utf-8" ?>
+<!-- Copyright (C) 2012 The Android Open Source Project
+
+     Licensed under the Apache License, Version 2.0 (the "License");
+     you may not use this file except in compliance with the License.
+     You may obtain a copy of the License at
+
+          http://www.apache.org/licenses/LICENSE-2.0
+
+     Unless required by applicable law or agreed to in writing, software
+     distributed under the License is distributed on an "AS IS" BASIS,
+     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+     See the License for the specific language governing permissions and
+     limitations under the License.
+-->
+
+
+
+<MediaCodecs>
+    <Decoders>
+        <MediaCodec name="OMX.amlogic.hevc.decoder.awesome.secure" type="video/hevc" >
+            <Limit name="size" min="64x64" max="3840x2160" />
+            <Limit name="alignment" value="2x2" />
+            <Limit name="block-size" value="16x16" />
+            <Limit name="blocks-per-second" min="1" max="972000" />
+            <Limit name="bitrate" range="1-300000000" />
+            <Feature name="adaptive-playback" />
+            <Feature name="secure-playback" required="true" />
+            <Feature name="tunneled-playback" />
+	    <Limit name="concurrent-instances" max="1" />
+        </MediaCodec>
+        <MediaCodec name="OMX.amlogic.avc.decoder.awesome.secure" type="video/avc" >
+            <Limit name="size" min="64x64" max="3840x2160" />
+            <Limit name="alignment" value="2x2" />
+            <Limit name="block-size" value="16x16" />
+            <Limit name="blocks-per-second" min="1" max="972000" />
+            <Limit name="bitrate" range="1-300000000" />
+            <Feature name="adaptive-playback" />
+            <Feature name="secure-playback" required="true" />
+	    <Limit name="concurrent-instances" max="1" />
+        </MediaCodec>
+        <MediaCodec name="OMX.amlogic.vp9.decoder.awesome.secure" type="video/x-vnd.on2.vp9" >
+            <Limit name="size" min="64x64" max="3840x2160" />
+            <Limit name="alignment" value="2x2" />
+            <Limit name="block-size" value="16x16" />
+            <Limit name="blocks-per-second" min="1" max="972000" />
+            <Limit name="bitrate" range="1-300000000" />
+            <Feature name="adaptive-playback" />
+            <Feature name="secure-playback" required="true" />
+            <Feature name="tunneled-playback" />
+           <Limit name="concurrent-instances" max="1" />
+        </MediaCodec>
+    </Decoders>
+</MediaCodecs>
diff --git a/q201/files/media_profiles.xml b/q201/files/media_profiles.xml
index 16e8eb8..b4053fb 100644
--- a/q201/files/media_profiles.xml
+++ b/q201/files/media_profiles.xml
@@ -3,6 +3,32 @@
     <!-- Each camcorder profile defines a set of predefined configuration parameters -->
     <CamcorderProfiles cameraId="0" startOffsetMs="50">
 
+        <EncoderProfile quality="1080p" fileFormat="3gp" duration="60">
+            <Video codec="h264"
+            bitRate="8000000"
+            width="1920"
+            height="1080"
+            frameRate="30" />
+
+            <Audio codec="amrwb"
+            bitRate="23050"
+            sampleRate="16000"
+            channels="1" />
+        </EncoderProfile>
+
+        <EncoderProfile quality="timelapse1080p" fileFormat="3gp" duration="60">
+            <Video codec="h264"
+            bitRate="8000000"
+            width="1920"
+            height="1080"
+            frameRate="30" />
+
+            <Audio codec="amrwb"
+            bitRate="23050"
+            sampleRate="16000"
+            channels="1" />
+        </EncoderProfile>
+
         <EncoderProfile quality="720p" fileFormat="3gp" duration="60">
             <Video codec="h264"
             bitRate="6000000"
@@ -89,6 +115,32 @@
 
     <CamcorderProfiles cameraId="1" startOffsetMs="50">
 
+        <EncoderProfile quality="1080p" fileFormat="3gp" duration="60">
+            <Video codec="h264"
+            bitRate="8000000"
+            width="1280"
+            height="720"
+            frameRate="30" />
+
+            <Audio codec="amrwb"
+            bitRate="23050"
+            sampleRate="16000"
+            channels="1" />
+        </EncoderProfile>
+
+        <EncoderProfile quality="timelapse1080p" fileFormat="3gp" duration="60">
+            <Video codec="h264"
+            bitRate="8000000"
+            width="1280"
+            height="720"
+            frameRate="30" />
+
+            <Audio codec="amrwb"
+            bitRate="23050"
+            sampleRate="16000"
+            channels="1" />
+        </EncoderProfile>
+
         <EncoderProfile quality="720p" fileFormat="3gp" duration="60">
             <Video codec="h264"
             bitRate="6000000"
@@ -186,9 +238,9 @@
         minFrameRate="1" maxFrameRate="20" />
 
     <VideoEncoderCap name="h264" enabled="true"
-        minBitRate="192000" maxBitRate="6000000"
-        minFrameWidth="176" maxFrameWidth="1280"
-        minFrameHeight="144" maxFrameHeight="720"
+        minBitRate="192000" maxBitRate="8000000"
+        minFrameWidth="176" maxFrameWidth="1920"
+        minFrameHeight="144" maxFrameHeight="1080"
         minFrameRate="5" maxFrameRate="30" />
 
     <VideoEncoderCap name="m4v" enabled="true"
diff --git a/q201/fstab.amlogic b/q201/fstab.amlogic
index 751e0c6..80195ed 100644
--- a/q201/fstab.amlogic
+++ b/q201/fstab.amlogic
@@ -13,3 +13,4 @@
 /dev/block/loop     auto                loop      defaults                                  voldmanaged=loop:auto
 # Add for zram. zramsize can be in numeric (byte) , in percent or auto (detect by the system)
 /dev/block/zram0     /swap_zram0             swap      defaults                             wait,zramsize=auto
+/dev/block/tee       /tee                 ext4      noatime,nosuid,nodev,nodelalloc,nomblk_io_submit,errors=panic    wait,check
diff --git a/q201/fstab.verity.amlogic b/q201/fstab.verity.amlogic
index bc91cb9..91d8866 100644
--- a/q201/fstab.verity.amlogic
+++ b/q201/fstab.verity.amlogic
@@ -12,3 +12,4 @@
 /dev/block/loop     auto                loop      defaults                                  voldmanaged=loop:auto
 # Add for zram. zramsize can be in numeric (byte) , in percent or auto (detect by the system)
 /dev/block/zram0     /swap_zram0             swap      defaults                             wait,zramsize=auto
+/dev/block/tee       /tee                 ext4      noatime,nosuid,nodev,nodelalloc,nomblk_io_submit,errors=panic    wait,check
diff --git a/q201/init.amlogic.board.rc b/q201/init.amlogic.board.rc
index 471f263..29d68cd 100644
--- a/q201/init.amlogic.board.rc
+++ b/q201/init.amlogic.board.rc
@@ -38,11 +38,13 @@ on boot
     # chmod 0666 /dev/ge2d
     chmod 666 /dev/cec
     chmod 0666 /dev/opteearmtz00
-    mkdir  /data/tee
-	insmod /system/lib/compat.ko
+    chmod 0666 /dev/tee0
+	  insmod /system/lib/compat.ko
     insmod /system/lib/cfg80211.ko
-on fs
 
+on fs
+on post-fs-data
+   mkdir  /data/tee
 service wpa_supplicant /system/bin/wpa_supplicant \
     -iwlan0 -Dnl80211 -c/data/misc/wifi/wpa_supplicant.conf \
     -e/data/misc/wifi/entropy.bin \
@@ -76,5 +78,5 @@ service p2p_supplicant /system/bin/wpa_supplicant \
 service tee_supplicant /system/bin/tee-supplicant
 		class main
 		oneshot
-		seclabel u:r:tee_supplicant:s0
+		seclabel u:r:tee:s0
 
diff --git a/q201/overlay/frameworks/base/core/res/res/values/config.xml b/q201/overlay/frameworks/base/core/res/res/values/config.xml
index ecd91ce..9c9a30a 100644
--- a/q201/overlay/frameworks/base/core/res/res/values/config.xml
+++ b/q201/overlay/frameworks/base/core/res/res/values/config.xml
@@ -88,4 +88,6 @@
         <item>com.google.android.gms</item>
         <item>com.android.location.fused</item>
     </string-array>
+    <!--  Maximum number of supported users -->
+    <integer name="config_multiuserMaximumUsers">2</integer>
 </resources>
diff --git a/q201/q201.mk b/q201/q201.mk
index dbea051..b29240d 100644
--- a/q201/q201.mk
+++ b/q201/q201.mk
@@ -61,7 +61,29 @@ PRODUCT_AML_SECUREBOOT_SIGNBOOTLOADER := $(PRODUCT_AML_SECUREBOOT_SIGNTOOL) --bo
 PRODUCT_AML_SECUREBOOT_SIGNIMAGE := $(PRODUCT_AML_SECUREBOOT_SIGNTOOL) --imgsig \
 					--amluserkey $(PRODUCT_AML_SECUREBOOT_USERKEY)
 
+########################################################################
+#
+#                           ATV
+#
+########################################################################
+ifeq ($(BOARD_COMPILE_ATV),true)
+BOARD_COMPILE_CTS := true
+TARGET_BUILD_GOOGLE_ATV:= true
+endif
+########################################################################
 
+########################################################################
+#
+#                           CTS
+#
+########################################################################
+ifeq ($(BOARD_COMPILE_CTS),true)
+BOARD_WIDEVINE_OEMCRYPTO_LEVEL := 1
+BOARD_PLAYREADY_LEVEL := 1
+TARGET_BUILD_CTS:= true
+TARGET_BUILD_NETFLIX:= true
+endif
+########################################################################
 
 #########################################################################
 #
@@ -87,7 +109,7 @@ endif # ifeq ($(BUILD_WITH_DM_VERITY), true)
 #
 #########################################################################
 
-WIFI_MODULE := AP6335
+MULTI_WIFI_SUPPORT := true
 include device/amlogic/common/wifi.mk
 
 # Change this to match target country
@@ -102,7 +124,7 @@ PRODUCT_DEFAULT_WIFI_CHANNELS := 11
 #########################################################################
 
 BOARD_HAVE_BLUETOOTH := true
-BLUETOOTH_MODULE := AP6335
+MULTI_BLUETOOTH_SUPPORT := true
 include device/amlogic/common/bluetooth.mk
 
 
@@ -194,8 +216,9 @@ PRODUCT_LOCALES := en_US en_AU en_IN fr_FR it_IT es_ES et_EE de_DE nl_NL cs_CZ p
 #                                                PPPOE
 #
 #################################################################################
-
+ifneq ($(TARGET_BUILD_GOOGLE_ATV), true)
 BUILD_WITH_PPPOE := true
+endif
 
 ifeq ($(BUILD_WITH_PPPOE),true)
 PRODUCT_PACKAGES += \
@@ -210,7 +233,6 @@ PRODUCT_PACKAGES += \
 PRODUCT_PROPERTY_OVERRIDES += \
     ro.platform.has.pppoe=true
 endif
-
 #################################################################################
 #
 #                                                DEFAULT LOWMEMORYKILLER CONFIG
@@ -223,9 +245,6 @@ BOARD_USES_USB_PM := true
 PRODUCT_COPY_FILES += \
     $(LOCAL_PATH)/Third_party_apk_camera.xml:system/etc/Third_party_apk_camera.xml \
 
-TARGET_BUILD_CTS:= false
-TARGET_BUILD_GOOGLE_ATV:= false
-TARGET_BUILD_NETFLIX:= false
 include device/amlogic/common/software.mk
 ifeq ($(TARGET_BUILD_GOOGLE_ATV),true)
 PRODUCT_PROPERTY_OVERRIDES += \
@@ -233,4 +252,4 @@ PRODUCT_PROPERTY_OVERRIDES += \
 else
 PRODUCT_PROPERTY_OVERRIDES += \
     ro.sf.lcd_density=240
-endif
\ No newline at end of file
+endif
diff --git a/q201/system.prop b/q201/system.prop
index b8d1777..3fd89b7 100644
--- a/q201/system.prop
+++ b/q201/system.prop
@@ -2,14 +2,15 @@
 ro.platform.has.mbxuimode=true
 ro.platform.has.realoutputmode=true
 ro.platform.keepbackground.app=com.droidlogic.PPPoE
-#camera max to 720p
-ro.camera.preview.MaxSize=1280x720
-ro.camera.preview.LimitedRate=1280x720x30,640x480x30,320x240x28
+#camera max to 1080p
+ro.camera.preview.MaxSize=1920x1088
+ro.camera.preview.LimitedRate=1920x1080x30,1280x720x30,640x480x30,320x240x28
 ro.camera.preview.UseMJPEG=1
 
 #for bt auto connect
-ro.autoconnectbt.macprefix=DC:2C:26
-ro.autoconnectbt.btclass=2540
+ro.autoconnectbt.isneed=false
+ro.autoconnectbt.macprefix=00:CD:FF
+ro.autoconnectbt.btclass=50c
 
 #if wifi Only
 ro.radio.noril=false
@@ -42,7 +43,6 @@ media.amplayer.enable=true
 media.amsuperplayer.m4aplayer=STAGEFRIGHT_PLAYER
 media.amsuperplayer.defplayer=PV_PLAYER
 media.amplayer.thumbnail=true
-media.amplayer.widevineenable=false
 media.amplayer.dsource4local=1
 media.amplayer.startmode=true
 media.amplayer.dropwaitxms=100
@@ -81,7 +81,7 @@ persist.fw.force_adoptable=true
 
 #add livhls,libcurl as default hls
 media.libplayer.curlenable=true
-media.libplayer.modules=vhls_mod,dash_mod,curl_mod,prhls_mod,vm_mod
+media.libplayer.modules=vhls_mod,dash_mod,curl_mod,prhls_mod,vm_mod,bluray_mod
 
 
 #Hdmi In
diff --git a/q201_9377/BoardConfig.mk b/q201_9377/BoardConfig.mk
index 348ab40..bd54207 100644
--- a/q201_9377/BoardConfig.mk
+++ b/q201_9377/BoardConfig.mk
@@ -84,7 +84,7 @@ TARGET_USE_BLOCK_BASE_UPGRADE := true
 TARGET_OTA_UPDATE_DTB := true
 #TARGET_RECOVERY_DISABLE_ADB_SIDELOAD := true
 
-BOARD_HAVE_BLUETOOTH_BCM := true
+#BOARD_HAVE_BLUETOOTH_BCM := true
 include device/amlogic/common/sepolicy.mk
 include device/amlogic/common/gpu/t82x-user-$(TARGET_ARCH).mk
 #MALLOC_IMPL := dlmalloc
diff --git a/q201_9377/device.mk b/q201_9377/device.mk
index ffd424c..17f030f 100644
--- a/q201_9377/device.mk
+++ b/q201_9377/device.mk
@@ -29,6 +29,10 @@ PRODUCT_COPY_FILES += \
     device/amlogic/q201_9377/files/mesondisplay.cfg:system/etc/mesondisplay.cfg \
     frameworks/native/data/etc/android.hardware.hdmi.cec.xml:system/etc/permissions/android.hardware.hdmi.cec.xml
 
+ifeq ($(USE_MEDIACODEC_SECURE), true)
+PRODUCT_COPY_FILES += device/amlogic/p212/files/media_codecs_secure.xml:system/etc/media_codecs_secure.xml
+endif
+
 # remote IME config file
 PRODUCT_COPY_FILES += \
     device/amlogic/q201_9377/files/remote.conf:system/etc/remote.conf \
diff --git a/q201_9377/files/audio_policy.conf b/q201_9377/files/audio_policy.conf
index 9ec071e..632ca3d 100644
--- a/q201_9377/files/audio_policy.conf
+++ b/q201_9377/files/audio_policy.conf
@@ -5,7 +5,7 @@
 global_configuration {
   attached_output_devices AUDIO_DEVICE_OUT_SPEAKER|AUDIO_DEVICE_OUT_SPDIF
   default_output_device AUDIO_DEVICE_OUT_SPEAKER
-  attached_input_devices AUDIO_DEVICE_IN_REMOTE_SUBMIX
+  attached_input_devices AUDIO_DEVICE_IN_BUILTIN_MIC|AUDIO_DEVICE_IN_BACK_MIC|AUDIO_DEVICE_IN_REMOTE_SUBMIX|AUDIO_DEVICE_IN_DIA_REMOTE
 }
 
 # audio hardware module section: contains descriptors for all audio hw modules present on the
@@ -112,6 +112,16 @@ audio_hw_modules {
       }
     }
   }
+  dia_remote {
+      inputs {
+        submix {
+          sampling_rates 16000
+          channel_masks AUDIO_CHANNEL_IN_MONO
+          formats AUDIO_FORMAT_PCM_16_BIT
+          devices AUDIO_DEVICE_IN_DIA_REMOTE
+        }
+      }
+  }
   hdmi {
     outputs {
       hdmi_device2 {
diff --git a/q201_9377/files/media_codecs.xml b/q201_9377/files/media_codecs.xml
index b720f93..9a5d803 100644
--- a/q201_9377/files/media_codecs.xml
+++ b/q201_9377/files/media_codecs.xml
@@ -86,17 +86,6 @@ Only the three quirks included above are recognized at this point:
             <Feature name="adaptive-playback" />
             <Limit name="concurrent-instances" max="1" />
         </MediaCodec>
-        <MediaCodec name="OMX.amlogic.hevc.decoder.awesome.secure" type="video/hevc" >
-            <Limit name="size" min="64x64" max="3840x2160" />
-            <Limit name="alignment" value="2x2" />
-            <Limit name="block-size" value="16x16" />
-            <Limit name="blocks-per-second" min="1" max="972000" />
-            <Limit name="bitrate" range="1-300000000" />
-            <Feature name="adaptive-playback" />
-            <Feature name="secure-playback" required="true" />
-            <Feature name="tunneled-playback" />
-	    <Limit name="concurrent-instances" max="1" />
-        </MediaCodec>
         <MediaCodec name="OMX.amlogic.avc.decoder.awesome" type="video/avc" >
             <Limit name="size" min="64x64" max="3840x2160" />
             <Limit name="alignment" value="2x2" />
@@ -106,16 +95,6 @@ Only the three quirks included above are recognized at this point:
             <Feature name="adaptive-playback" />
             <Limit name="concurrent-instances" max="1" />
         </MediaCodec>
-        <MediaCodec name="OMX.amlogic.avc.decoder.awesome.secure" type="video/avc" >
-            <Limit name="size" min="64x64" max="3840x2160" />
-            <Limit name="alignment" value="2x2" />
-            <Limit name="block-size" value="16x16" />
-            <Limit name="blocks-per-second" min="1" max="972000" />
-            <Limit name="bitrate" range="1-300000000" />
-            <Feature name="adaptive-playback" />
-            <Feature name="secure-playback" required="true" />
-	    <Limit name="concurrent-instances" max="1" />
-        </MediaCodec>
         <MediaCodec name="OMX.amlogic.mpeg4.decoder.awesome" type="video/mp4v-es" >
             <Limit name="size" min="64x64" max="1920x1088" />
             <Limit name="alignment" value="2x2" />
diff --git a/q201_9377/files/media_codecs_secure.xml b/q201_9377/files/media_codecs_secure.xml
new file mode 100644
index 0000000..a1802de
--- /dev/null
+++ b/q201_9377/files/media_codecs_secure.xml
@@ -0,0 +1,54 @@
+<?xml version="1.0" encoding="utf-8" ?>
+<!-- Copyright (C) 2012 The Android Open Source Project
+
+     Licensed under the Apache License, Version 2.0 (the "License");
+     you may not use this file except in compliance with the License.
+     You may obtain a copy of the License at
+
+          http://www.apache.org/licenses/LICENSE-2.0
+
+     Unless required by applicable law or agreed to in writing, software
+     distributed under the License is distributed on an "AS IS" BASIS,
+     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+     See the License for the specific language governing permissions and
+     limitations under the License.
+-->
+
+
+
+<MediaCodecs>
+    <Decoders>
+        <MediaCodec name="OMX.amlogic.hevc.decoder.awesome.secure" type="video/hevc" >
+            <Limit name="size" min="64x64" max="3840x2160" />
+            <Limit name="alignment" value="2x2" />
+            <Limit name="block-size" value="16x16" />
+            <Limit name="blocks-per-second" min="1" max="972000" />
+            <Limit name="bitrate" range="1-300000000" />
+            <Feature name="adaptive-playback" />
+            <Feature name="secure-playback" required="true" />
+            <Feature name="tunneled-playback" />
+	    <Limit name="concurrent-instances" max="1" />
+        </MediaCodec>
+        <MediaCodec name="OMX.amlogic.avc.decoder.awesome.secure" type="video/avc" >
+            <Limit name="size" min="64x64" max="3840x2160" />
+            <Limit name="alignment" value="2x2" />
+            <Limit name="block-size" value="16x16" />
+            <Limit name="blocks-per-second" min="1" max="972000" />
+            <Limit name="bitrate" range="1-300000000" />
+            <Feature name="adaptive-playback" />
+            <Feature name="secure-playback" required="true" />
+	    <Limit name="concurrent-instances" max="1" />
+        </MediaCodec>
+        <MediaCodec name="OMX.amlogic.vp9.decoder.awesome.secure" type="video/x-vnd.on2.vp9" >
+            <Limit name="size" min="64x64" max="3840x2160" />
+            <Limit name="alignment" value="2x2" />
+            <Limit name="block-size" value="16x16" />
+            <Limit name="blocks-per-second" min="1" max="972000" />
+            <Limit name="bitrate" range="1-300000000" />
+            <Feature name="adaptive-playback" />
+            <Feature name="secure-playback" required="true" />
+            <Feature name="tunneled-playback" />
+           <Limit name="concurrent-instances" max="1" />
+        </MediaCodec>
+    </Decoders>
+</MediaCodecs>
diff --git a/q201_9377/files/media_profiles.xml b/q201_9377/files/media_profiles.xml
index 16e8eb8..b4053fb 100644
--- a/q201_9377/files/media_profiles.xml
+++ b/q201_9377/files/media_profiles.xml
@@ -3,6 +3,32 @@
     <!-- Each camcorder profile defines a set of predefined configuration parameters -->
     <CamcorderProfiles cameraId="0" startOffsetMs="50">
 
+        <EncoderProfile quality="1080p" fileFormat="3gp" duration="60">
+            <Video codec="h264"
+            bitRate="8000000"
+            width="1920"
+            height="1080"
+            frameRate="30" />
+
+            <Audio codec="amrwb"
+            bitRate="23050"
+            sampleRate="16000"
+            channels="1" />
+        </EncoderProfile>
+
+        <EncoderProfile quality="timelapse1080p" fileFormat="3gp" duration="60">
+            <Video codec="h264"
+            bitRate="8000000"
+            width="1920"
+            height="1080"
+            frameRate="30" />
+
+            <Audio codec="amrwb"
+            bitRate="23050"
+            sampleRate="16000"
+            channels="1" />
+        </EncoderProfile>
+
         <EncoderProfile quality="720p" fileFormat="3gp" duration="60">
             <Video codec="h264"
             bitRate="6000000"
@@ -89,6 +115,32 @@
 
     <CamcorderProfiles cameraId="1" startOffsetMs="50">
 
+        <EncoderProfile quality="1080p" fileFormat="3gp" duration="60">
+            <Video codec="h264"
+            bitRate="8000000"
+            width="1280"
+            height="720"
+            frameRate="30" />
+
+            <Audio codec="amrwb"
+            bitRate="23050"
+            sampleRate="16000"
+            channels="1" />
+        </EncoderProfile>
+
+        <EncoderProfile quality="timelapse1080p" fileFormat="3gp" duration="60">
+            <Video codec="h264"
+            bitRate="8000000"
+            width="1280"
+            height="720"
+            frameRate="30" />
+
+            <Audio codec="amrwb"
+            bitRate="23050"
+            sampleRate="16000"
+            channels="1" />
+        </EncoderProfile>
+
         <EncoderProfile quality="720p" fileFormat="3gp" duration="60">
             <Video codec="h264"
             bitRate="6000000"
@@ -186,9 +238,9 @@
         minFrameRate="1" maxFrameRate="20" />
 
     <VideoEncoderCap name="h264" enabled="true"
-        minBitRate="192000" maxBitRate="6000000"
-        minFrameWidth="176" maxFrameWidth="1280"
-        minFrameHeight="144" maxFrameHeight="720"
+        minBitRate="192000" maxBitRate="8000000"
+        minFrameWidth="176" maxFrameWidth="1920"
+        minFrameHeight="144" maxFrameHeight="1080"
         minFrameRate="5" maxFrameRate="30" />
 
     <VideoEncoderCap name="m4v" enabled="true"
diff --git a/q201_9377/fstab.amlogic b/q201_9377/fstab.amlogic
index 751e0c6..80195ed 100644
--- a/q201_9377/fstab.amlogic
+++ b/q201_9377/fstab.amlogic
@@ -13,3 +13,4 @@
 /dev/block/loop     auto                loop      defaults                                  voldmanaged=loop:auto
 # Add for zram. zramsize can be in numeric (byte) , in percent or auto (detect by the system)
 /dev/block/zram0     /swap_zram0             swap      defaults                             wait,zramsize=auto
+/dev/block/tee       /tee                 ext4      noatime,nosuid,nodev,nodelalloc,nomblk_io_submit,errors=panic    wait,check
diff --git a/q201_9377/fstab.verity.amlogic b/q201_9377/fstab.verity.amlogic
index bc91cb9..91d8866 100644
--- a/q201_9377/fstab.verity.amlogic
+++ b/q201_9377/fstab.verity.amlogic
@@ -12,3 +12,4 @@
 /dev/block/loop     auto                loop      defaults                                  voldmanaged=loop:auto
 # Add for zram. zramsize can be in numeric (byte) , in percent or auto (detect by the system)
 /dev/block/zram0     /swap_zram0             swap      defaults                             wait,zramsize=auto
+/dev/block/tee       /tee                 ext4      noatime,nosuid,nodev,nodelalloc,nomblk_io_submit,errors=panic    wait,check
diff --git a/q201_9377/init.amlogic.board.rc b/q201_9377/init.amlogic.board.rc
index 32b3684..95913c8 100644
--- a/q201_9377/init.amlogic.board.rc
+++ b/q201_9377/init.amlogic.board.rc
@@ -38,10 +38,13 @@ on boot
     # chmod 0666 /dev/ge2d
     chmod 666 /dev/cec
     chmod 0666 /dev/opteearmtz00
-    mkdir  /data/tee
-	insmod /system/lib/compat.ko
+    chmod 0666 /dev/tee0
+	  insmod /system/lib/compat.ko
     insmod /system/lib/cfg80211.ko
+
 on fs
+on post-fs-data
+   mkdir  /data/tee
 
 service wpa_supplicant /system/bin/wpa_supplicant \
     -iwlan0 -Dnl80211 -c/data/misc/wifi/wpa_supplicant.conf \
@@ -77,5 +80,5 @@ service p2p_supplicant /system/bin/wpa_supplicant \
 service tee_supplicant /system/bin/tee-supplicant
 		class main
 		oneshot
-		seclabel u:r:tee_supplicant:s0
+		seclabel u:r:tee:s0
 
diff --git a/q201_9377/overlay/frameworks/base/core/res/res/values/config.xml b/q201_9377/overlay/frameworks/base/core/res/res/values/config.xml
index ecd91ce..9c9a30a 100644
--- a/q201_9377/overlay/frameworks/base/core/res/res/values/config.xml
+++ b/q201_9377/overlay/frameworks/base/core/res/res/values/config.xml
@@ -88,4 +88,6 @@
         <item>com.google.android.gms</item>
         <item>com.android.location.fused</item>
     </string-array>
+    <!--  Maximum number of supported users -->
+    <integer name="config_multiuserMaximumUsers">2</integer>
 </resources>
diff --git a/q201_9377/q201_9377.mk b/q201_9377/q201_9377.mk
index 671542e..a153a28 100644
--- a/q201_9377/q201_9377.mk
+++ b/q201_9377/q201_9377.mk
@@ -61,7 +61,29 @@ PRODUCT_AML_SECUREBOOT_SIGNBOOTLOADER := $(PRODUCT_AML_SECUREBOOT_SIGNTOOL) --bo
 PRODUCT_AML_SECUREBOOT_SIGNIMAGE := $(PRODUCT_AML_SECUREBOOT_SIGNTOOL) --imgsig \
 					--amluserkey $(PRODUCT_AML_SECUREBOOT_USERKEY)
 
+########################################################################
+#
+#                           ATV
+#
+########################################################################
+ifeq ($(BOARD_COMPILE_ATV),true)
+BOARD_COMPILE_CTS := true
+TARGET_BUILD_GOOGLE_ATV:= true
+endif
+########################################################################
 
+########################################################################
+#
+#                           CTS
+#
+########################################################################
+ifeq ($(BOARD_COMPILE_CTS),true)
+BOARD_WIDEVINE_OEMCRYPTO_LEVEL := 1
+BOARD_PLAYREADY_LEVEL := 1
+TARGET_BUILD_CTS:= true
+TARGET_BUILD_NETFLIX:= true
+endif
+########################################################################
 
 #########################################################################
 #
@@ -194,8 +216,10 @@ PRODUCT_LOCALES := en_US en_AU en_IN fr_FR it_IT es_ES et_EE de_DE nl_NL cs_CZ p
 #                                                PPPOE
 #
 #################################################################################
+ifneq ($(TARGET_BUILD_GOOGLE_ATV), true)
 
 BUILD_WITH_PPPOE := true
+endif
 
 ifeq ($(BUILD_WITH_PPPOE),true)
 PRODUCT_PACKAGES += \
@@ -223,9 +247,6 @@ BOARD_USES_USB_PM := true
 PRODUCT_COPY_FILES += \
     $(LOCAL_PATH)/Third_party_apk_camera.xml:system/etc/Third_party_apk_camera.xml \
 
-TARGET_BUILD_CTS:= false
-TARGET_BUILD_GOOGLE_ATV:= false
-TARGET_BUILD_NETFLIX:= false
 include device/amlogic/common/software.mk
 ifeq ($(TARGET_BUILD_GOOGLE_ATV),true)
 PRODUCT_PROPERTY_OVERRIDES += \
@@ -233,4 +254,4 @@ PRODUCT_PROPERTY_OVERRIDES += \
 else
 PRODUCT_PROPERTY_OVERRIDES += \
     ro.sf.lcd_density=240
-endif
\ No newline at end of file
+endif
diff --git a/q201_9377/system.prop b/q201_9377/system.prop
index 6164888..3fd89b7 100644
--- a/q201_9377/system.prop
+++ b/q201_9377/system.prop
@@ -2,11 +2,16 @@
 ro.platform.has.mbxuimode=true
 ro.platform.has.realoutputmode=true
 ro.platform.keepbackground.app=com.droidlogic.PPPoE
-#camera max to 720p
-ro.camera.preview.MaxSize=1280x720
-ro.camera.preview.LimitedRate=1280x720x30,640x480x30,320x240x28
+#camera max to 1080p
+ro.camera.preview.MaxSize=1920x1088
+ro.camera.preview.LimitedRate=1920x1080x30,1280x720x30,640x480x30,320x240x28
 ro.camera.preview.UseMJPEG=1
 
+#for bt auto connect
+ro.autoconnectbt.isneed=false
+ro.autoconnectbt.macprefix=00:CD:FF
+ro.autoconnectbt.btclass=50c
+
 #if wifi Only
 ro.radio.noril=false
 
@@ -38,7 +43,6 @@ media.amplayer.enable=true
 media.amsuperplayer.m4aplayer=STAGEFRIGHT_PLAYER
 media.amsuperplayer.defplayer=PV_PLAYER
 media.amplayer.thumbnail=true
-media.amplayer.widevineenable=false
 media.amplayer.dsource4local=1
 media.amplayer.startmode=true
 media.amplayer.dropwaitxms=100
@@ -77,7 +81,7 @@ persist.fw.force_adoptable=true
 
 #add livhls,libcurl as default hls
 media.libplayer.curlenable=true
-media.libplayer.modules=vhls_mod,dash_mod,curl_mod,prhls_mod,vm_mod
+media.libplayer.modules=vhls_mod,dash_mod,curl_mod,prhls_mod,vm_mod,bluray_mod
 
 
 #Hdmi In
